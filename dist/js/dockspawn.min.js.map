{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/index.js","dockspawn.min.js","package.json","src/containers/DocumentManagerContainer.js","src/containers/DocumentTabPage.js","src/containers/FillDockContainer.js","src/containers/HorizontalDockContainer.js","src/containers/PanelContainer.js","src/containers/SplitterDockContainer.js","src/containers/VerticalDockContainer.js","src/decorators/DraggableContainer.js","src/decorators/ResizableContainer.js","src/dialog/Dialog.js","src/dock/DockLayoutEngine.js","src/dock/DockManager.js","src/dock/DockManagerContext.js","src/dock/DockModel.js","src/dock/DockNode.js","src/dock/DockWheel.js","src/dock/DockWheelItem.js","src/serialization/DockGraphDeserializer.js","src/serialization/DockGraphSerializer.js","src/splitter/SplitterBar.js","src/splitter/SplitterPanel.js","src/tab/TabHandle.js","src/tab/TabHost.js","src/tab/TabPage.js","src/utils/EventHandler.js","src/utils/Point.js","src/utils/Rectangle.js","src/utils/UndockInitiator.js","src/utils/utils.js"],"names":["e","exports","module","define","amd","f","window","global","self","dockspawn","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"pkg","TabHandle","TabHost","TabPage","Dialog","DraggableContainer","ResizableContainer","DockLayoutEngine","DockManager","DockManagerContext","DockModel","DockNode","DockWheel","DockWheelItem","DocumentManagerContainer","FillDockContainer","HorizontalDockContainer","PanelContainer","SplitterDockContainer","VerticalDockContainer","SplitterBar","SplitterPanel","DockGraphDeserializer","DockGraphSerializer","Point","EventHandler","UndockInitiator","version","Array","prototype","remove","value","idx","this","indexOf","splice","contains","obj","orderByIndexes","indexes","sortedArray","push","../package.json","./containers/DocumentManagerContainer","./containers/FillDockContainer","./containers/HorizontalDockContainer","./containers/PanelContainer","./containers/SplitterDockContainer","./containers/VerticalDockContainer","./decorators/DraggableContainer","./decorators/ResizableContainer","./dialog/Dialog","./dock/DockLayoutEngine","./dock/DockManager","./dock/DockManagerContext","./dock/DockModel","./dock/DockNode","./dock/DockWheel","./dock/DockWheelItem","./serialization/DockGraphDeserializer","./serialization/DockGraphSerializer","./splitter/SplitterBar","./splitter/SplitterPanel","./tab/TabHandle","./tab/TabHost","./tab/TabPage","./utils/EventHandler","./utils/Point","./utils/UndockInitiator",2,"name","description","author","homepage","main","scripts","build","repository","type","url","bugs","dependencies","devDependencies","browserify","gulp","gulp-jshint","gulp-rename","gulp-sourcemaps","gulp-uglify","gulp-util","gulp-webserver","jshint-summary","vinyl-buffer","vinyl-source-stream","watchify",3,"dockManager","DIRECTION_TOP","minimumAllowedChildNodes","element","classList","add","tabHost","createTabPage","_createDocumentTabPage","displayCloseButton","DocumentTabPage","Object","create","constructor","container","saveState","state","documentManager","selectedTab","activeTab","../tab/TabHost","./DocumentTabPage","./FillDockContainer",4,"host","containerType","panel","containerElement","elementContent","utils","removeNode","destroy","elementContentHost","appendChild","../tab/TabPage","../utils/utils",5,"tabStripDirection","arguments","undefined","DIRECTION_BOTTOM","tabOrientation","getNextId","document","createElement","that","tabHostListener","onChange","_requestTabReorder","addListener","hostElement","setActiveChild","child","setActiveTab","resize","width","height","style","performLayout","children","loadState","defineProperty","get","clientWidth","set","clientHeight",6,"childContainers","stackedVertical","./SplitterDockContainer",7,"title","iconName","iconTemplate","_floatingDialog","isDialog","canSelect","onClickHandler","_canUndock","_undockEnabled","eventListeners","_initialize","canUndock","undockInitiator","enabled","forEach","listener","onDockEnabled","setOnClickHandler","handler","removeListener","loadFromState","elementName","getElementById","ret","id","elementPanel","elementTitle","elementTitleText","elementButtonClose","innerHTML","panelWidth","panelHeight","titleHeight","_setPanelDimensions","body","closeButtonClickedHandler","onCloseButtonClicked","bind","contentTitle","dataset","panelCaption","contentIcon","panelIcon","_updateTitle","performUndockToDialog","floatingDialog","hideCloseButton","display","onHideCloseButton","cancel","dragOffset","requestUndockToDialog","performUndock","requestUndock","prepareForDocking","_cachedWidth","_cachedHeight","resizeHandler","err","console","log","titleBarHeight","contentHeight","setTitle","onTitleChanged","setTitleIcon","setTitleIconTemplate","setCloseIconTemplate","closeIconTemplate","getRawTitle","close","hide","setPosition","defaultDialogPosition","x","y","notifyOnClosePanel","../utils/EventHandler","../utils/UndockInitiator",8,"splitterPanel","panelElement","setContainerRatio","ratio","../splitter/SplitterPanel",9,10,"dialog","delegate","topLevelElement","dragHandle","mouseDownHandler","onMouseDown","marginLeft","offsetLeft","marginTop","offsetTop","removeDecorator","event","_startDragging","previousMousePosition","pageX","pageY","mouseMoveHandler","mouseUpHandler","onMouseMove","onMouseUp","_stopDragging","eventListener","onDialogDragStarted","onDialogDragEnded","currentMousePosition","dx","checkXBounds","dy","checkYBounds","_performDrag","left","getPixels","top","../utils/Point",11,"_buildResizeHandles","readyToProcessNextResize","ResizeHandle","handleSize","cornerSize","east","west","north","south","corner","resizeHandles","_buildResizeHandle","handle","verticalClass","horizontalClass","cssClass","_adjustResizeHandles","adjustSize","onMouseMoved","suspendLayout","resumeLayout","bounds","_resizeEast","_resizeWest","_resizeNorth","_resizeSouth","_resizeContainer","leftDelta","topDelta","widthDelta","heightDelta","minWidth","minHeight","Math","max",12,"zIndexCounter","context","model","dialogs","position","notifyOnCreateDialog","notifyOnChangeDialogPosition","fromElement","elementDialog","draggable","resizable","isHidden","bringToFront","getPosition","zIndex","notifyOnHideDialog","show","notifyOnShowDialog","../containers/PanelContainer","../decorators/DraggableContainer","../decorators/ResizableContainer",13,"Rectangle","dockLeft","referenceNode","newNode","_performDock","dockRight","dockUp","dockDown","dockFill","undock","node","parentNode","parent","siblingIndex","detachFromParent","grandParent","otherChild","addChildAfter","setRootNode","nextActiveSibling","invalidate","notifyOnUnDock","reorderTabs","index","N","nodeIndexToDelete","apply","map","Number","indexValue","performTabsLayout","notifyOnTabsReorder","direction","insertBeforeReference","addChild","notifyOnDock","compositeContainer","compositeNode","referenceParent","rootNode","_createDockContainer","rebuildLayout","referenceNodeWidth","referenceNodeHeight","referenceNodeParentWidth","referenceNodeParentHeight","addChildBefore","containerWidth","containerHeight","_forceResizeCompositeContainer","getDockBounds","containerToDock","childCount","childPosition","targetElement","hierarchyModified","splitBarSize","targetPanelSize","targetPanelStart","compositeSize","_getVaringDimension","newPanelOriginalSize","scaleMultiplier","../containers/FillDockContainer","../containers/HorizontalDockContainer","../containers/VerticalDockContainer","../utils/Rectangle","./DockNode",14,"dockWheel","layoutEngine","layoutEventListeners","initialize","documentNode","documentManagerView","documentManagerNode","floor","leftBounds","offsetWidth","rightBounds","topBounds","bottomBounds","offsetHeight","setModel","loadResize","reverse","sender","activeNode","_findNodeOnPoint","activeDialog","showWheel","onDialogDropped","hideWheel","clientX","clientY","stack","bestMatch","topNode","pop","isPointInsideNode","dockDialogLeft","_requestDockDialog","dockDialogRight","dockDialogUp","dockDialogDown","dockDialogFill","_requestDockContainer","floatDialog","retdiag","_findNodeFromContainer","layoutDockFunction","splitter","dialogWidth","requestRemove","findNodeFromContainerElement","containerElm","addLayoutListener","removeLayoutListener","onSuspendLayout","onResumeLayout","dockNode","onDock","onTabsReorder","onUndock","onClosePanel","onCreateDialog","onHideDialog","onShowDialog","onChangeDialogPosition","notifyOnTabChange","tabpage","onTabChanged","serializer","serialize","json","deserializer","deserialize","getPanels","panels","_allPanels","undockEnabled","lockDockState","updatePanels","ids","getVisiblePanels","setCloseTabIconTemplate","template","closeTabIconTemplate","../dialog/Dialog","../serialization/DockGraphDeserializer","../serialization/DockGraphSerializer","./DockLayoutEngine","./DockManagerContext","./DockWheel",15,"../containers/DocumentManagerContainer","./DockModel",16,17,"removeChild","childNode","_addChildWithDirection","before","referenceIndex","preList","slice","postList","debugDumpTree","indent","message","parentType",18,"elementMainWheel","elementSideWheel","wheelItems","wheelTypes","wheelType","substr","elementPanelPreview","_activeNode","_visible","previousValue","baseX","baseY","sideMargin","dockManagerWidth","dockManagerHeight","_setWheelButtonPosition","wheelId","item","itemHalfWidth","itemHalfHeight","active","onMouseOver","wheelItem","round","onMouseOut","_getActiveWheelItem","_handleDockRequest","./DockWheelItem",19,"wheel","replace","hoverIconClass","mouseOverHandler","mouseOutHandler",20,"_json","info","JSON","parse","_buildGraph","graphInfo","_buildDialogs","dialogsInfo","nodeInfo","childrenInfo","childInfo","_createContainer","containerState","typeDocumentManager","dialogInfo","../dock/DockModel","../dock/DockNode",21,"_buildGraphInfo","_buildDialogsInfo","stringify","nodeState","panelState","panelContainer","panelInfo",22,"previousContainer","nextContainer","barElement","minPanelSize","readyToProcessNextDrag","previousMouseEvent","previousWidth","previousHeight","nextWidth","nextHeight","previousPanelSize","nextPanelSize","deltaMovement","newPreviousPanelSize","newNextPanelSize","continueProcessing","disableGlobalTextSelection","mouseMovedHandler","enableGlobalTextSelection",23,"spiltterBars","_buildSplitterDOM","splitterBar","_insertContainerIntoPanel","removeFromDOM","bar","splitPanelSize","newContainerSize","barSize","otherPanelSizeQuota","otherPanelScaleMultipler","size","childContainer","splitBar","totalChildPanelSize","targetTotalChildPanelSize","updatedTotalChildPanelSize","original","newSize","ceil","./SplitterBar",24,"undockHandler","_performUndock","elementBase","elementText","elementCloseButton","tabListElement","undockListener","_bringToFront","mouseClickHandler","onMouseClicked","closeButtonHandler","moveThreshold","setThresholdPixels","stargDragPosition","dragged","generateMoveTabEvent","pos","contain","rect","right","m","abs","bound","moveTabEvent","onMoveTab","prev","current","tabRect","getBoundingClientRect","updateTitle","onSelected","setSelected","selected","selectedClassName","setZIndex",25,"pages","tabHandleListener","separatorElement","contentElement","_createDefaultTabPage","DIRECTION_LEFT","DIRECTION_RIGHT","childNodes","change","items","itemsArr","nodeType","onTabPageSelected","tabHeight","timeoutPerform","clearTimeout","setTimeout","resizeTabListElement","separatorHeight","tabListWidth","page","tab","oldActiveTab","childPanels","filter","_setTabHandlesVisible","visible","tabPage","zIndexDelta","./TabPage",26,"flag","_initContent","./TabHandle",27,"source","eventName","target","addEventListener","removeEventListener",28,29,30,"thresholdPixels","_enabled","horizontalChange","dragStartPosition","distance","sqrt","_requestUndock","dragOffsetX","dragOffsetY","./EventHandler","./Point",31,"counter","pixels","parseInt","px","py","prefix"],"mappings":"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","file":"dockspawn.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = {\r\n    pkg: require('../package.json'),\r\n\r\n    // tab\r\n    TabHandle:                  require('./tab/TabHandle'),\r\n    TabHost:                    require('./tab/TabHost'),\r\n    TabPage:                    require('./tab/TabPage'),\r\n\r\n    // dialog\r\n    Dialog:                     require('./dialog/Dialog'),\r\n\r\n    // decorators\r\n    DraggableContainer:         require('./decorators/DraggableContainer'),\r\n    ResizableContainer:         require('./decorators/ResizableContainer'),\r\n\r\n    // dock\r\n    DockLayoutEngine:           require('./dock/DockLayoutEngine'),\r\n    DockManager:                require('./dock/DockManager'),\r\n    DockManagerContext:         require('./dock/DockManagerContext'),\r\n    DockModel:                  require('./dock/DockModel'),\r\n    DockNode:                   require('./dock/DockNode'),\r\n    DockWheel:                  require('./dock/DockWheel'),\r\n    DockWheelItem:              require('./dock/DockWheelItem'),\r\n\r\n    // containers\r\n    DocumentManagerContainer:   require('./containers/DocumentManagerContainer'),\r\n    FillDockContainer:          require('./containers/FillDockContainer'),\r\n    HorizontalDockContainer:    require('./containers/HorizontalDockContainer'),\r\n    PanelContainer:             require('./containers/PanelContainer'),\r\n    SplitterDockContainer:      require('./containers/SplitterDockContainer'),\r\n    VerticalDockContainer:      require('./containers/VerticalDockContainer'),\r\n\r\n    // splitter\r\n    SplitterBar:                require('./splitter/SplitterBar'),\r\n    SplitterPanel:              require('./splitter/SplitterPanel'),\r\n\r\n    // serialization\r\n    DockGraphDeserializer:      require('./serialization/DockGraphDeserializer'),\r\n    DockGraphSerializer:        require('./serialization/DockGraphSerializer'),\r\n\r\n    // utils\r\n    Point:                      require('./utils/Point'),\r\n    EventHandler:               require('./utils/EventHandler'),\r\n    UndockInitiator:            require('./utils/UndockInitiator')\r\n};\r\n\r\nmodule.exports.version = module.exports.pkg.version;\r\n\r\nif (!Array.prototype.remove) {\r\n    Array.prototype.remove = function (value) {\r\n        var idx = this.indexOf(value);\r\n\r\n        if (idx !== -1) {\r\n            return this.splice(idx, 1);\r\n        }\r\n\r\n        return false;\r\n    };\r\n}\r\n\r\nif (!Array.prototype.contains) {\r\n    Array.prototype.contains = function (obj) {\r\n        var i = this.length;\r\n\r\n        while (i--) {\r\n            if (this[i] === obj) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n}\r\n\r\nif (!Array.prototype.orderByIndexes) {\r\n    Array.prototype.orderByIndexes = function (indexes){\r\n        var sortedArray = [];\r\n\r\n        for (var i = 0; i < indexes.length; i++) {\r\n            sortedArray.push(this[indexes[i]]);\r\n        }\r\n\r\n        return sortedArray;\r\n    };\r\n}\r\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;\"undefined\"!=typeof window?t=window:\"undefined\"!=typeof global?t=global:\"undefined\"!=typeof self&&(t=self),t.dockspawn=e()}}(function(){return function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l=\"function\"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var h=new Error(\"Cannot find module '\"+a+\"'\");throw h.code=\"MODULE_NOT_FOUND\",h}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var s=\"function\"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t){t.exports={pkg:e(\"../package.json\"),TabHandle:e(\"./tab/TabHandle\"),TabHost:e(\"./tab/TabHost\"),TabPage:e(\"./tab/TabPage\"),Dialog:e(\"./dialog/Dialog\"),DraggableContainer:e(\"./decorators/DraggableContainer\"),ResizableContainer:e(\"./decorators/ResizableContainer\"),DockLayoutEngine:e(\"./dock/DockLayoutEngine\"),DockManager:e(\"./dock/DockManager\"),DockManagerContext:e(\"./dock/DockManagerContext\"),DockModel:e(\"./dock/DockModel\"),DockNode:e(\"./dock/DockNode\"),DockWheel:e(\"./dock/DockWheel\"),DockWheelItem:e(\"./dock/DockWheelItem\"),DocumentManagerContainer:e(\"./containers/DocumentManagerContainer\"),FillDockContainer:e(\"./containers/FillDockContainer\"),HorizontalDockContainer:e(\"./containers/HorizontalDockContainer\"),PanelContainer:e(\"./containers/PanelContainer\"),SplitterDockContainer:e(\"./containers/SplitterDockContainer\"),VerticalDockContainer:e(\"./containers/VerticalDockContainer\"),SplitterBar:e(\"./splitter/SplitterBar\"),SplitterPanel:e(\"./splitter/SplitterPanel\"),DockGraphDeserializer:e(\"./serialization/DockGraphDeserializer\"),DockGraphSerializer:e(\"./serialization/DockGraphSerializer\"),Point:e(\"./utils/Point\"),EventHandler:e(\"./utils/EventHandler\"),UndockInitiator:e(\"./utils/UndockInitiator\")},t.exports.version=t.exports.pkg.version,Array.prototype.remove||(Array.prototype.remove=function(e){var t=this.indexOf(e);return-1!==t?this.splice(t,1):!1}),Array.prototype.contains||(Array.prototype.contains=function(e){for(var t=this.length;t--;)if(this[t]===e)return!0;return!1}),Array.prototype.orderByIndexes||(Array.prototype.orderByIndexes=function(e){for(var t=[],i=0;i<e.length;i++)t.push(this[e[i]]);return t})},{\"../package.json\":2,\"./containers/DocumentManagerContainer\":3,\"./containers/FillDockContainer\":5,\"./containers/HorizontalDockContainer\":6,\"./containers/PanelContainer\":7,\"./containers/SplitterDockContainer\":8,\"./containers/VerticalDockContainer\":9,\"./decorators/DraggableContainer\":10,\"./decorators/ResizableContainer\":11,\"./dialog/Dialog\":12,\"./dock/DockLayoutEngine\":13,\"./dock/DockManager\":14,\"./dock/DockManagerContext\":15,\"./dock/DockModel\":16,\"./dock/DockNode\":17,\"./dock/DockWheel\":18,\"./dock/DockWheelItem\":19,\"./serialization/DockGraphDeserializer\":20,\"./serialization/DockGraphSerializer\":21,\"./splitter/SplitterBar\":22,\"./splitter/SplitterPanel\":23,\"./tab/TabHandle\":24,\"./tab/TabHost\":25,\"./tab/TabPage\":26,\"./utils/EventHandler\":27,\"./utils/Point\":28,\"./utils/UndockInitiator\":30}],2:[function(e,t){t.exports={name:\"dock-spawn\",version:\"1.0.0\",description:\"Panel docking library similar to Visual Studio docking.\",author:\"Chad Engler <chad@pantherdev.com>\",homepage:\"https://github.com/englercj/dock-spawn\",main:\"./src/index\",scripts:{build:\"gulp build\"},repository:{type:\"git\",url:\"https://github.com/englercj/dock-spawn.git\"},bugs:{url:\"https://github.com/englercj/dock-spawn/issues\"},dependencies:{},devDependencies:{browserify:\"^6.0.3\",gulp:\"^3.8.8\",\"gulp-jshint\":\"^1.8.5\",\"gulp-rename\":\"^1.2.0\",\"gulp-sourcemaps\":\"^1.3.0\",\"gulp-uglify\":\"^1.1.0\",\"gulp-util\":\"^3.0.1\",\"gulp-webserver\":\"^0.9.0\",\"jshint-summary\":\"^0.4.0\",\"vinyl-buffer\":\"^1.0.0\",\"vinyl-source-stream\":\"^1.0.0\",watchify:\"^2.0.0\"}}},{}],3:[function(e,t){function i(e){n.call(this,e,s.DIRECTION_TOP),this.minimumAllowedChildNodes=0,this.element.classList.add(\"document-manager\"),this.tabHost.createTabPage=this._createDocumentTabPage,this.tabHost.displayCloseButton=!0}var n=e(\"./FillDockContainer\"),o=e(\"./DocumentTabPage\"),s=e(\"../tab/TabHost\");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,t.exports=i,i.prototype._createDocumentTabPage=function(e,t){return new o(e,t)},i.prototype.saveState=function(e){n.prototype.saveState.call(this,e),e.documentManager=!0},i.prototype.selectedTab=function(){return this.tabHost.activeTab}},{\"../tab/TabHost\":25,\"./DocumentTabPage\":4,\"./FillDockContainer\":5}],4:[function(e,t){function i(e,t){n.call(this,e,t),\"panel\"===this.container.containerType&&(this.panel=t,this.containerElement=this.panel.elementContent,o.removeNode(this.containerElement))}var n=e(\"../tab/TabPage\"),o=e(\"../utils/utils\");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.destroy=function(){n.prototype.destroy.call(this),o.removeNode(this.containerElement),this.panel.elementContentHost.appendChild(this.containerElement)}},{\"../tab/TabPage\":26,\"../utils/utils\":31}],5:[function(e,t){function i(e,t){if(0!==arguments.length){void 0===t&&(t=n.DIRECTION_BOTTOM),this.dockManager=e,this.tabOrientation=t,this.name=o.getNextId(\"fill_\"),this.element=document.createElement(\"div\"),this.containerElement=this.element,this.containerType=\"fill\",this.minimumAllowedChildNodes=2,this.element.classList.add(\"dock-container\"),this.element.classList.add(\"dock-container-fill\"),this.tabHost=new n(this.tabOrientation);var i=this;this.tabHostListener={onChange:function(e){i.dockManager._requestTabReorder(i,e)}},this.tabHost.addListener(this.tabHostListener),this.element.appendChild(this.tabHost.hostElement)}}var n=e(\"../tab/TabHost\"),o=e(\"../utils/utils\");t.exports=i,i.prototype.setActiveChild=function(e){this.tabHost.setActiveTab(e)},i.prototype.resize=function(e,t){this.element.style.width=e+\"px\",this.element.style.height=t+\"px\",this.tabHost.resize(e,t)},i.prototype.performLayout=function(e){this.tabHost.performLayout(e)},i.prototype.destroy=function(){o.removeNode(this.element)&&delete this.element},i.prototype.saveState=function(e){e.width=this.width,e.height=this.height},i.prototype.loadState=function(e){this.state={width:e.width,height:e.height}},Object.defineProperty(i.prototype,\"width\",{get:function(){return this.element.clientWidth},set:function(e){this.element.style.width=e+\"px\"}}),Object.defineProperty(i.prototype,\"height\",{get:function(){return this.element.clientHeight},set:function(e){this.element.style.height=e+\"px\"}})},{\"../tab/TabHost\":25,\"../utils/utils\":31}],6:[function(e,t){function i(e,t){this.stackedVertical=!1,n.call(this,o.getNextId(\"horizontal_splitter_\"),e,t),this.containerType=\"horizontal\"}var n=e(\"./SplitterDockContainer\"),o=e(\"../utils/utils\");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,t.exports=i},{\"../utils/utils\":31,\"./SplitterDockContainer\":8}],7:[function(e,t){function i(e,t,i){i||(i=\"Panel\"),this.elementContent=e,this.dockManager=t,this.title=i,this.containerType=\"panel\",this.iconName=\"fa fa-arrow-circle-right\",this.iconTemplate=null,this.minimumAllowedChildNodes=0,this._floatingDialog=void 0,this.isDialog=!1,this.canSelect=!0,this.onClickHandler=null,this._canUndock=t._undockEnabled,this.eventListeners=[],this._initialize()}var n=e(\"../utils/EventHandler\"),o=e(\"../utils/UndockInitiator\"),s=e(\"../utils/utils\");t.exports=i,i.prototype.canUndock=function(e){this._canUndock=e,this.undockInitiator.enabled=e,this.eventListeners.forEach(function(t){t.onDockEnabled&&t.onDockEnabled({self:this,state:e})})},i.prototype.setOnClickHandler=function(e,t){this.canSelect=e,this.onClickHandler=t},i.prototype.addListener=function(e){this.eventListeners.push(e)},i.prototype.removeListener=function(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)},Object.defineProperty(i.prototype,\"floatingDialog\",{get:function(){return this._floatingDialog},set:function(e){this._floatingDialog=e;var t=void 0===this._floatingDialog;this.undockInitiator.enabled=t}}),i.loadFromState=function(e,t){var n=e.element,o=document.getElementById(n);if(null===o)return null;var s=new i(o,t);return s.loadState(e),s},i.prototype.saveState=function(e){e.element=this.elementContent.id,e.width=this.width,e.height=this.height},i.prototype.loadState=function(e){this.width=e.width,this.height=e.height,this.state={width:e.width,height:e.height}},i.prototype.setActiveChild=function(){},Object.defineProperty(i.prototype,\"containerElement\",{get:function(){return this.elementPanel}}),i.prototype._initialize=function(){this.name=s.getNextId(\"panel_\"),this.elementPanel=document.createElement(\"div\"),this.elementTitle=document.createElement(\"div\"),this.elementTitleText=document.createElement(\"div\"),this.elementContentHost=document.createElement(\"div\"),this.elementButtonClose=document.createElement(\"div\"),this.elementPanel.appendChild(this.elementTitle),this.elementTitle.appendChild(this.elementTitleText),this.elementTitle.appendChild(this.elementButtonClose),this.elementButtonClose.innerHTML='<i class=\"fa fa-times\"></i>',this.elementButtonClose.classList.add(\"panel-titlebar-button-close\"),this.elementPanel.appendChild(this.elementContentHost),this.elementPanel.classList.add(\"panel-base\"),this.elementTitle.classList.add(\"panel-titlebar\"),this.elementTitle.classList.add(\"disable-selection\"),this.elementTitleText.classList.add(\"panel-titlebar-text\"),this.elementContentHost.classList.add(\"panel-content\");var e=this.elementContent.clientWidth,t=this.elementContent.clientHeight,i=this.elementTitle.clientHeight;this._setPanelDimensions(e,t+i),document.body.appendChild(this.elementPanel),this.closeButtonClickedHandler=new n(this.elementButtonClose,\"click\",this.onCloseButtonClicked.bind(this)),s.removeNode(this.elementContent),this.elementContentHost.appendChild(this.elementContent);var a=this.elementContent.dataset.panelCaption,r=this.elementContent.dataset.panelIcon;a&&(this.title=a),r&&(this.iconName=r),this._updateTitle(),this.undockInitiator=new o(this.elementTitle,this.performUndockToDialog.bind(this)),delete this.floatingDialog},i.prototype.hideCloseButton=function(e){this.elementButtonClose.style.display=e?\"none\":\"block\",this.eventListeners.forEach(function(t){t.onHideCloseButton&&t.onHideCloseButton({self:this,state:e})})},i.prototype.destroy=function(){s.removeNode(this.elementPanel),this.closeButtonClickedHandler&&(this.closeButtonClickedHandler.cancel(),delete this.closeButtonClickedHandler)},i.prototype.performUndockToDialog=function(e,t){return this.isDialog=!0,this.undockInitiator.enabled=!1,this.dockManager.requestUndockToDialog(this,e,t)},i.prototype.performUndock=function(){this.undockInitiator.enabled=!1,this.dockManager.requestUndock(this)},i.prototype.prepareForDocking=function(){this.isDialog=!1,this.undockInitiator.enabled=this.canUndock},Object.defineProperty(i.prototype,\"width\",{get:function(){return this._cachedWidth},set:function(e){e!==this._cachedWidth&&(this._cachedWidth=e,this.elementPanel.style.width=e+\"px\")}}),Object.defineProperty(i.prototype,\"height\",{get:function(){return this._cachedHeight},set:function(e){e!==this._cachedHeight&&(this._cachedHeight=e,this.elementPanel.style.height=e+\"px\")}}),i.prototype.resize=function(e,t){this._setPanelDimensions(e,t),this._cachedWidth=e,this._cachedHeight=t;try{void 0!=this.elementContent&&\"function\"==typeof this.elementContent.resizeHandler&&this.elementContent.resizeHandler(e,t-this.elementTitle.clientHeight)}catch(i){console.log(\"error calling resizeHandler:\",i,\" elt:\",this.elementContent)}},i.prototype._setPanelDimensions=function(e,t){this.elementTitle.style.width=e+\"px\",this.elementContentHost.style.width=e+\"px\",this.elementContent.style.width=e+\"px\",this.elementPanel.style.width=e+\"px\";var i=this.elementTitle.clientHeight,n=t-i;this.elementContentHost.style.height=n+\"px\",this.elementContent.style.height=n+\"px\",this.elementPanel.style.height=t+\"px\"},i.prototype.setTitle=function(e){this.title=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,e)},i.prototype.setTitleIcon=function(e){this.iconName=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,this.title)},i.prototype.setTitleIconTemplate=function(e){this.iconTemplate=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,this.title)},i.prototype.setCloseIconTemplate=function(e){this.elementButtonClose.innerHTML=e()},i.prototype._updateTitle=function(){return null!==this.iconTemplate?void(this.elementTitleText.innerHTML=this.iconTemplate(this.iconName)+this.title):void(this.elementTitleText.innerHTML='<i class=\"'+this.iconName+'\"></i> '+this.title)},i.prototype.getRawTitle=function(){return this.elementTitleText.innerHTML},i.prototype.performLayout=function(){},i.prototype.onCloseButtonClicked=function(){this.close()},i.prototype.close=function(){this.isDialog?(this.floatingDialog.hide(),this.floatingDialog.setPosition(this.dockManager.defaultDialogPosition.x,this.dockManager.defaultDialogPosition.y)):(this.performUndockToDialog(),this.floatingDialog.hide(),this.floatingDialog.setPosition(this.dockManager.defaultDialogPosition.x,this.dockManager.defaultDialogPosition.y)),this.dockManager.notifyOnClosePanel(this)}},{\"../utils/EventHandler\":27,\"../utils/UndockInitiator\":30,\"../utils/utils\":31}],8:[function(e,t){function i(e,t,i){0!==arguments.length&&(this.name=e,this.dockManager=t,this.splitterPanel=new n(i,this.stackedVertical),this.containerElement=this.splitterPanel.panelElement,this.minimumAllowedChildNodes=2)}var n=e(\"../splitter/SplitterPanel\");t.exports=i,i.prototype.resize=function(e,t){this.splitterPanel.resize(e,t),this._cachedWidth=e,this._cachedHeight=t},i.prototype.performLayout=function(e){this.splitterPanel.performLayout(e)},i.prototype.setActiveChild=function(){},i.prototype.destroy=function(){this.splitterPanel.destroy()},i.prototype.setContainerRatio=function(e,t){this.splitterPanel.setContainerRatio(e,t),this.resize(this.width,this.height)},i.prototype.saveState=function(e){e.width=this.width,e.height=this.height},i.prototype.loadState=function(e){this.state={width:e.width,height:e.height}},Object.defineProperty(i.prototype,\"width\",{get:function(){return void 0===this._cachedWidth&&(this._cachedWidth=this.splitterPanel.panelElement.clientWidth),this._cachedWidth}}),Object.defineProperty(i.prototype,\"height\",{get:function(){return void 0===this._cachedHeight&&(this._cachedHeight=this.splitterPanel.panelElement.clientHeight),this._cachedHeight}})},{\"../splitter/SplitterPanel\":23}],9:[function(e,t){function i(e,t){this.stackedVertical=!0,n.call(this,o.getNextId(\"vertical_splitter_\"),e,t),this.containerType=\"vertical\"}var n=e(\"./SplitterDockContainer\"),o=e(\"../utils/utils\");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,t.exports=i},{\"../utils/utils\":31,\"./SplitterDockContainer\":8}],10:[function(e,t){function i(e,t,i,o){this.dialog=e,this.delegate=t,this.containerElement=t.containerElement,this.dockManager=t.dockManager,this.topLevelElement=i,this.containerType=t.containerType,this.mouseDownHandler=new n(o,\"mousedown\",this.onMouseDown.bind(this)),this.topLevelElement.style.marginLeft=i.offsetLeft+\"px\",this.topLevelElement.style.marginTop=i.offsetTop+\"px\",this.minimumAllowedChildNodes=t.minimumAllowedChildNodes}var n=e(\"../utils/EventHandler\"),o=e(\"../utils/Point\"),s=e(\"../utils/utils\");t.exports=i,i.prototype.destroy=function(){this.removeDecorator(),this.delegate.destroy()},i.prototype.saveState=function(e){this.delegate.saveState(e)},i.prototype.loadState=function(e){this.delegate.loadState(e)},i.prototype.setActiveChild=function(){},Object.defineProperty(i.prototype,\"width\",{get:function(){return this.delegate.width}}),Object.defineProperty(i.prototype,\"height\",{get:function(){return this.delegate.height}}),i.prototype.name=function(e){return e&&(this.delegate.name=e),this.delegate.name},i.prototype.resize=function(e,t){this.delegate.resize(e,t)},i.prototype.performLayout=function(e){this.delegate.performLayout(e)},i.prototype.removeDecorator=function(){this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler)},i.prototype.onMouseDown=function(e){this._startDragging(e),this.previousMousePosition={x:e.pageX,y:e.pageY},this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler=new n(window,\"mousemove\",this.onMouseMove.bind(this)),this.mouseUpHandler=new n(window,\"mouseup\",this.onMouseUp.bind(this))},i.prototype.onMouseUp=function(e){this._stopDragging(e),this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler,this.mouseUpHandler.cancel(),delete this.mouseUpHandler},i.prototype._startDragging=function(e){this.dialog.eventListener&&this.dialog.eventListener.onDialogDragStarted(this.dialog,e),document.body.classList.add(\"disable-selection\")},i.prototype._stopDragging=function(e){this.dialog.eventListener&&this.dialog.eventListener.onDialogDragEnded(this.dialog,e),document.body.classList.remove(\"disable-selection\")},i.prototype.onMouseMove=function(e){var t=new o(e.pageX,e.pageY),i=this.dockManager.checkXBounds(this.topLevelElement,t,this.previousMousePosition),n=this.dockManager.checkYBounds(this.topLevelElement,t,this.previousMousePosition);this._performDrag(i,n),this.previousMousePosition=t},i.prototype._performDrag=function(e,t){var i=e+s.getPixels(this.topLevelElement.style.marginLeft),n=t+s.getPixels(this.topLevelElement.style.marginTop);this.topLevelElement.style.marginLeft=i+\"px\",this.topLevelElement.style.marginTop=n+\"px\"}},{\"../utils/EventHandler\":27,\"../utils/Point\":28,\"../utils/utils\":31}],11:[function(e,t){function i(e,t,i){this.dialog=e,this.delegate=t,this.containerElement=t.containerElement,this.dockManager=t.dockManager,this.topLevelElement=i,this.containerType=t.containerType,this.topLevelElement.style.marginLeft=this.topLevelElement.offsetLeft+\"px\",this.topLevelElement.style.marginTop=this.topLevelElement.offsetTop+\"px\",this.minimumAllowedChildNodes=t.minimumAllowedChildNodes,this._buildResizeHandles(),this.readyToProcessNextResize=!0}function n(){this.element=void 0,this.handleSize=6,this.cornerSize=12,this.east=!1,this.west=!1,this.north=!1,this.south=!1,this.corner=!1}var o=e(\"../utils/EventHandler\"),s=e(\"../utils/Point\"),a=e(\"../utils/utils\");t.exports=i,i.prototype.setActiveChild=function(){},i.prototype._buildResizeHandles=function(){this.resizeHandles=[],this._buildResizeHandle(!1,!0,!0,!1),this._buildResizeHandle(!0,!1,!1,!0),this._buildResizeHandle(!1,!0,!1,!0),this._buildResizeHandle(!0,!1,!1,!1),this._buildResizeHandle(!1,!0,!1,!1),this._buildResizeHandle(!1,!1,!0,!1),this._buildResizeHandle(!1,!1,!1,!0)},i.prototype._buildResizeHandle=function(e,t,i,s){var a=new n;a.east=e,a.west=t,a.north=i,a.south=s,a.element=document.createElement(\"div\"),this.topLevelElement.appendChild(a.element);var r=\"\",l=\"\";i&&(r=\"n\"),s&&(r=\"s\"),e&&(l=\"e\"),t&&(l=\"w\");var h=\"resize-handle-\"+r+l;r.length>0&&l.length>0&&(a.corner=!0),a.element.classList.add(a.corner?\"resize-handle-corner\":\"resize-handle\"),a.element.classList.add(h),this.resizeHandles.push(a);var c=this;a.mouseDownHandler=new o(a.element,\"mousedown\",function(e){c.onMouseDown(a,e)})},i.prototype.saveState=function(e){this.delegate.saveState(e)},i.prototype.loadState=function(e){this.delegate.loadState(e)},Object.defineProperty(i.prototype,\"width\",{get:function(){return this.delegate.width}}),Object.defineProperty(i.prototype,\"height\",{get:function(){return this.delegate.height}}),i.prototype.name=function(e){return e&&(this.delegate.name=e),this.delegate.name},i.prototype.resize=function(e,t){this.delegate.resize(e,t),this._adjustResizeHandles(e,t)},i.prototype._adjustResizeHandles=function(e,t){var i=this;this.resizeHandles.forEach(function(n){n.adjustSize(i.topLevelElement,e,t)})},i.prototype.performLayout=function(e){this.delegate.performLayout(e)},i.prototype.destroy=function(){this.removeDecorator(),this.delegate.destroy()},i.prototype.removeDecorator=function(){},i.prototype.onMouseMoved=function(e,t){if(this.readyToProcessNextResize){this.readyToProcessNextResize=!1,this.dockManager.suspendLayout();var i=new s(t.pageX,t.pageY),n=this.dockManager.checkXBounds(this.topLevelElement,i,this.previousMousePosition),o=this.dockManager.checkYBounds(this.topLevelElement,i,this.previousMousePosition);this._performDrag(e,n,o),this.previousMousePosition=i,this.readyToProcessNextResize=!0,this.dialog.panel&&this.dockManager.resumeLayout(this.dialog.panel)}},i.prototype.onMouseDown=function(e,t){this.previousMousePosition=new s(t.pageX,t.pageY),e.mouseMoveHandler&&(e.mouseMoveHandler.cancel(),delete e.mouseMoveHandler),e.mouseUpHandler&&(e.mouseUpHandler.cancel(),delete e.mouseUpHandler);var i=this;e.mouseMoveHandler=new o(window,\"mousemove\",function(t){i.onMouseMoved(e,t)}),e.mouseUpHandler=new o(window,\"mouseup\",function(t){i.onMouseUp(e,t)}),document.body.classList.add(\"disable-selection\")},i.prototype.onMouseUp=function(e){e.mouseMoveHandler.cancel(),e.mouseUpHandler.cancel(),delete e.mouseMoveHandler,delete e.mouseUpHandler,document.body.classList.remove(\"disable-selection\")},i.prototype._performDrag=function(e,t,i){var n={};n.left=a.getPixels(this.topLevelElement.style.marginLeft),n.top=a.getPixels(this.topLevelElement.style.marginTop),n.width=this.topLevelElement.clientWidth,n.height=this.topLevelElement.clientHeight,e.east&&this._resizeEast(t,n),e.west&&this._resizeWest(t,n),e.north&&this._resizeNorth(i,n),e.south&&this._resizeSouth(i,n)},i.prototype._resizeWest=function(e,t){this._resizeContainer(e,0,-e,0,t)},i.prototype._resizeEast=function(e,t){this._resizeContainer(0,0,e,0,t)},i.prototype._resizeNorth=function(e,t){this._resizeContainer(0,e,0,-e,t)},i.prototype._resizeSouth=function(e,t){this._resizeContainer(0,0,0,e,t)},i.prototype._resizeContainer=function(e,t,i,n,o){o.left+=e,o.top+=t,o.width+=i,o.height+=n;var s=50,a=50;o.width=Math.max(o.width,s),o.height=Math.max(o.height,a),this.topLevelElement.style.marginLeft=o.left+\"px\",this.topLevelElement.style.marginTop=o.top+\"px\",this.resize(o.width,o.height)},n.prototype.adjustSize=function(e,t,i){this.corner?(this.west&&(this.element.style.left=\"0px\"),this.east&&(this.element.style.left=t-this.cornerSize+\"px\"),this.north&&(this.element.style.top=\"0px\"),this.south&&(this.element.style.top=i-this.cornerSize+\"px\")):(this.west&&(this.element.style.left=\"0px\",this.element.style.top=this.cornerSize+\"px\"),this.east&&(this.element.style.left=t-this.handleSize+\"px\",this.element.style.top=this.cornerSize+\"px\"),this.north&&(this.element.style.left=this.cornerSize+\"px\",this.element.style.top=\"0px\"),this.south&&(this.element.style.left=this.cornerSize+\"px\",this.element.style.top=i-this.handleSize+\"px\"),this.west||this.east?this.element.style.height=i-2*this.cornerSize+\"px\":this.element.style.width=t-2*this.cornerSize+\"px\")}},{\"../utils/EventHandler\":27,\"../utils/Point\":28,\"../utils/utils\":31}],12:[function(e,t){function i(e,t){this.panel=e,this.zIndexCounter=100,this.dockManager=t,this.eventListener=t,this._initialize(),this.dockManager.context.model.dialogs.push(this),this.position=t.defaultDialogPosition,this.dockManager.notifyOnCreateDialog(this)}var n=e(\"../containers/PanelContainer\"),o=e(\"../decorators/DraggableContainer\"),s=e(\"../decorators/ResizableContainer\"),a=e(\"../utils/EventHandler\"),r=e(\"../utils/utils\");t.exports=i,i.prototype.saveState=function(e,t){this.position={x:e,y:t},this.dockManager.notifyOnChangeDialogPosition(this,e,t)},i.fromElement=function(e,t){return new i(new n(document.getElementById(e),t),t)},i.prototype._initialize=function(){this.panel.floatingDialog=this,this.elementDialog=document.createElement(\"div\"),this.elementDialog.appendChild(this.panel.elementPanel),this.draggable=new o(this,this.panel,this.elementDialog,this.panel.elementTitle),this.resizable=new s(this,this.draggable,this.draggable.topLevelElement),document.body.appendChild(this.elementDialog),this.elementDialog.classList.add(\"dialog-floating\"),this.elementDialog.classList.add(\"rounded-corner-top\"),this.panel.elementTitle.classList.add(\"rounded-corner-top\"),this.mouseDownHandler=new a(this.elementDialog,\"mousedown\",this.onMouseDown.bind(this)),this.resize(this.panel.elementPanel.clientWidth,this.panel.elementPanel.clientHeight),this.isHidden=!1,this.bringToFront()},i.prototype.setPosition=function(e,t){this.position={x:e,y:t},this.elementDialog.style.left=e+\"px\",this.elementDialog.style.top=t+\"px\",this.dockManager.notifyOnChangeDialogPosition(this,e,t)},i.prototype.getPosition=function(){return{left:this.position?this.position.x:0,top:this.position?this.position.y:0}},i.prototype.onMouseDown=function(){this.bringToFront()},i.prototype.destroy=function(){this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.elementDialog.classList.remove(\"rounded-corner-top\"),this.panel.elementTitle.classList.remove(\"rounded-corner-top\"),r.removeNode(this.elementDialog),this.draggable.removeDecorator(),r.removeNode(this.panel.elementPanel),this.dockManager.context.model.dialogs.remove(this),delete this.panel.floatingDialog},i.prototype.resize=function(e,t){this.resizable.resize(e,t)},i.prototype.setTitle=function(e){this.panel.setTitle(e)},i.prototype.setTitleIcon=function(e){this.panel.setTitleIcon(e)},i.prototype.bringToFront=function(){this.elementDialog.style.zIndex=this.zIndexCounter++},i.prototype.hide=function(){this.elementDialog.style.zIndex=0,this.elementDialog.style.display=\"none\",this.isHidden||(this.isHidden=!0,this.dockManager.notifyOnHideDialog(this))},i.prototype.show=function(){this.elementDialog.style.zIndex=100,this.elementDialog.style.display=\"block\",this.isHidden&&(this.isHidden=!1,this.dockManager.notifyOnShowDialog(this))}},{\"../containers/PanelContainer\":7,\"../decorators/DraggableContainer\":10,\"../decorators/ResizableContainer\":11,\"../utils/EventHandler\":27,\"../utils/utils\":31}],13:[function(e,t){function i(e){this.dockManager=e}var n=e(\"./DockNode\"),o=e(\"../containers/HorizontalDockContainer\"),s=e(\"../containers/VerticalDockContainer\"),a=e(\"../containers/FillDockContainer\"),r=e(\"../utils/Rectangle\"),l=e(\"../utils/utils\");t.exports=i,i.prototype.dockLeft=function(e,t){this._performDock(e,t,\"horizontal\",!0)},i.prototype.dockRight=function(e,t){this._performDock(e,t,\"horizontal\",!1)},i.prototype.dockUp=function(e,t){this._performDock(e,t,\"vertical\",!0)},i.prototype.dockDown=function(e,t){this._performDock(e,t,\"vertical\",!1)},i.prototype.dockFill=function(e,t){this._performDock(e,t,\"fill\",!1)},i.prototype.undock=function(e){var t=e.parent;if(!t)throw new Error(\"Cannot undock.  panel is not a leaf node\");var i=t.children.indexOf(e);if(e.detachFromParent(),t.children.length<t.container.minimumAllowedChildNodes)for(var n=t.parent,o=0;o<t.children.length;o++){var s=t.children[o];if(n){n.addChildAfter(t,s),t.detachFromParent();var a=t.container.containerElement.clientWidth,r=t.container.containerElement.clientHeight;t.container.destroy(),s.container.resize(a,r),n.performLayout()}else t.detachFromParent(),t.container.destroy(),this.dockManager.setRootNode(s)}else if(t.performLayout(),t.children.length>0){var l=t.children[Math.max(0,i-1)];t.container.setActiveChild(l.container)}this.dockManager.invalidate(),this.dockManager.notifyOnUnDock(e)},i.prototype.reorderTabs=function(e,t,i,n){var o=e.children.length,s=\"left\"===i?n:n+1;if(!(\"right\"==i&&s>=e.children.length||\"left\"==i&&0==s)){var a=Array.apply(null,{length:o}).map(Number.call,Number),r=a.splice(s,1)[0];a.splice(\"left\"===i?n-1:n,0,r),e.children=e.children.orderByIndexes(a),e.container.tabHost.performTabsLayout(a),this.dockManager.notifyOnTabsReorder(e)}},i.prototype._performDock=function(e,t,i,o){if(e.parent&&\"fill\"===e.parent.container.containerType&&(e=e.parent),\"fill\"===i&&\"fill\"===e.container.containerType)return e.addChild(t),e.performLayout(),e.container.setActiveChild(t.container),this.dockManager.invalidate(),void this.dockManager.notifyOnDock(t);var s,a,r,h=this.dockManager.context.model;if(e===h.rootNode)return s=this._createDockContainer(i,t,e),a=new n(s),o?(a.addChild(t),a.addChild(e)):(a.addChild(e),a.addChild(t)),this.dockManager.setRootNode(a),this.dockManager.rebuildLayout(this.dockManager.context.model.rootNode),a.container.setActiveChild(t.container),this.dockManager.invalidate(),void this.dockManager.notifyOnDock(t);if(e.parent.container.containerType!==i){r=e.parent;var c=e.container.containerElement.clientWidth,d=e.container.containerElement.clientHeight,p=r.container.containerElement.clientWidth,u=r.container.containerElement.clientHeight;s=this._createDockContainer(i,t,e),a=new n(s),r.addChildAfter(e,a),e.detachFromParent(),l.removeNode(e.container.containerElement),o?(a.addChild(t),a.addChild(e)):(a.addChild(e),a.addChild(t)),r.performLayout(),a.performLayout(),a.container.setActiveChild(t.container),a.container.resize(c,d),r.container.resize(p,u)}else r=e.parent,o?r.addChildBefore(e,t):r.addChildAfter(e,t),r.performLayout(),r.container.setActiveChild(t.container);var m=t.container.containerElement.clientWidth,f=t.container.containerElement.clientHeight;t.container.resize(m,f),this.dockManager.invalidate(),this.dockManager.notifyOnDock(t)},i.prototype._forceResizeCompositeContainer=function(e){var t=e.containerElement.clientWidth,i=e.containerElement.clientHeight;e.resize(t,i)},i.prototype._createDockContainer=function(e,t,i){if(\"horizontal\"===e)return new o(this.dockManager,[t.container,i.container]);if(\"vertical\"===e)return new s(this.dockManager,[t.container,i.container]);if(\"fill\"===e)return new a(this.dockManager);throw new Error(\"Failed to create dock container of type: \"+e)},i.prototype.getDockBounds=function(e,t,i,n){var o,s,a,l;if(\"fill\"===i){var h=e.container.containerElement;return l=new r,l.x=h.offsetLeft,l.y=h.offsetTop,l.width=h.clientWidth,l.height=h.clientHeight,l}e.parent&&\"fill\"===e.parent.container.containerType&&(e=e.parent);var c=!1;e.parent&&e.parent.container.containerType===i?(o=e.parent,s=o.children.length,a=o.children.indexOf(e)+(n?0:1)):(o=e,s=1,a=n?0:1,c=!0);var d=5,p=0,u=0;if(\"vertical\"===i||\"horizontal\"===i){var m=this._getVaringDimension(o.container,i)-(s-1)*d,f=this._getVaringDimension(t,i),g=m/(m+f);if(p=f*g,c)u=n?0:m*g;else{for(var v=0;a>v;v++)u+=this._getVaringDimension(o.children[v].container,i);u*=g}}return l=new r,\"vertical\"===i?(l.x=o.container.containerElement.offsetLeft,l.y=o.container.containerElement.offsetTop+u,l.width=o.container.width,l.height=p):\"horizontal\"===i&&(l.x=o.container.containerElement.offsetLeft+u,l.y=o.container.containerElement.offsetTop,l.width=p,l.height=o.container.height),l},i.prototype._getVaringDimension=function(e,t){return\"vertical\"===t?e.height:\"horizontal\"===t?e.width:0}},{\"../containers/FillDockContainer\":5,\"../containers/HorizontalDockContainer\":6,\"../containers/VerticalDockContainer\":9,\"../utils/Rectangle\":29,\"../utils/utils\":31,\"./DockNode\":17}],14:[function(e,t){function i(e){if(void 0===e)throw new Error(\"Invalid Dock Manager element provided\");this.element=e,this.context=this.dockWheel=this.layoutEngine=this.mouseMoveHandler=void 0,this.layoutEventListeners=[],this.defaultDialogPosition=new d(0,0)}var n=e(\"./DockManagerContext\"),o=e(\"./DockNode\"),s=e(\"./DockWheel\"),a=e(\"./DockLayoutEngine\"),r=e(\"../dialog/Dialog\"),l=e(\"../serialization/DockGraphSerializer\"),h=e(\"../serialization/DockGraphDeserializer\"),c=e(\"../utils/EventHandler\"),d=e(\"../utils/Point\"),p=e(\"../utils/utils\");t.exports=i,i.prototype.initialize=function(){this.context=new n(this);var e=new o(this.context.documentManagerView);this.context.model.rootNode=e,this.context.model.documentManagerNode=e,this.context.model.dialogs=[],this.setRootNode(this.context.model.rootNode),this.resize(this.element.clientWidth,this.element.clientHeight),this.dockWheel=new s(this),this.layoutEngine=new a(this),this._undockEnabled=!0,this.rebuildLayout(this.context.model.rootNode)\n},i.prototype.checkXBounds=function(e,t,i){var n=Math.floor(t.x-i.x),o=t.x+n<0||e.offsetLeft+e.offsetWidth+n-40<0,s=t.x+n>this.element.offsetWidth||e.offsetLeft+n+40>this.element.offsetWidth;return(o||s)&&(i.x=t.x,n=0),n},i.prototype.checkYBounds=function(e,t,i){var n=Math.floor(t.y-i.y),o=e.offsetTop+n<this.element.offsetTop,s=t.y+n>this.element.offsetHeight||e.offsetTop+n>this.element.offsetHeight+this.element.offsetTop-20;return(o||s)&&(i.y=t.y,n=0),n},i.prototype.rebuildLayout=function(e){var t=this;e.children.forEach(function(e){t.rebuildLayout(e)}),e.performLayout()},i.prototype.invalidate=function(){this.resize(this.element.clientWidth,this.element.clientHeight)},i.prototype.resize=function(e,t){this.element.style.width=e+\"px\",this.element.style.height=t+\"px\",this.context.model.rootNode.container.resize(e,t)},i.prototype.setModel=function(e){p.removeNode(this.context.documentManagerView.containerElement),this.context.model=e,this.setRootNode(e.rootNode),this.rebuildLayout(e.rootNode),this.loadResize(e.rootNode)},i.prototype.loadResize=function(e){var t=this;e.children.reverse().forEach(function(i){t.loadResize(i),e.container.setActiveChild(i.container)}),e.children.reverse(),e.container.resize(e.container.state.width,e.container.state.height)},i.prototype.setRootNode=function(e){e.detachFromParent(),this.context.model.rootNode=e,this.element.appendChild(e.container.containerElement)},i.prototype.onDialogDragStarted=function(e,t){this.dockWheel.activeNode=this._findNodeOnPoint(t.pageX,t.pageY),this.dockWheel.activeDialog=e,this.dockWheel.showWheel(),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseMoveHandler=new c(window,\"mousemove\",this.onMouseMoved.bind(this))},i.prototype.onDialogDragEnded=function(e){this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.dockWheel.onDialogDropped(e),this.dockWheel.hideWheel(),delete this.dockWheel.activeDialog,e.saveState(e.elementDialog.offsetLeft,e.elementDialog.offsetTop)},i.prototype.onMouseMoved=function(e){this.dockWheel.activeNode=this._findNodeOnPoint(e.clientX,e.clientY)},i.prototype._findNodeOnPoint=function(e,t){var i=[];i.push(this.context.model.rootNode);for(var n;i.length>0;){var o=i.pop();p.isPointInsideNode(e,t,o)&&(n=o,[].push.apply(i,o.children))}return n},i.prototype.dockDialogLeft=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockLeft.bind(this.layoutEngine))},i.prototype.dockDialogRight=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockRight.bind(this.layoutEngine))},i.prototype.dockDialogUp=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockUp.bind(this.layoutEngine))},i.prototype.dockDialogDown=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockDown.bind(this.layoutEngine))},i.prototype.dockDialogFill=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockFill.bind(this.layoutEngine))},i.prototype.dockLeft=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockLeft.bind(this.layoutEngine),i)},i.prototype.dockRight=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockRight.bind(this.layoutEngine),i)},i.prototype.dockUp=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockUp.bind(this.layoutEngine),i)},i.prototype.dockDown=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockDown.bind(this.layoutEngine),i)},i.prototype.dockFill=function(e,t){return this._requestDockContainer(e,t,this.layoutEngine.dockFill.bind(this.layoutEngine))},i.prototype.floatDialog=function(e,t,i){var n=void 0;if(this.context.model.dialogs.forEach(function(o){e==o.panel&&(o.show(),o.setPosition(t,i),n=o)}),n)return n;try{var o=this._findNodeFromContainer(e);this.layoutEngine.undock(o)}catch(s){}var a=e;p.removeNode(a.elementPanel),a.isDialog=!0;var l=new r(a,this);return l.setPosition(t,i),l},i.prototype._requestDockDialog=function(e,t,i){var n=t.panel,s=new o(n);return n.prepareForDocking(),t.destroy(),i(e,s),s},i.prototype._requestDockContainer=function(e,t,i,n){var s=new o(t);if(\"panel\"===t.containerType){var a=t;a.prepareForDocking(),p.removeNode(a.elementPanel)}if(i(e,s),n&&s.parent&&(\"vertical\"===s.parent.container.containerType||\"horizontal\"===s.parent.container.containerType)){var r=s.parent.container;r.setContainerRatio(t,n)}return this.rebuildLayout(this.context.model.rootNode),this.invalidate(),s},i.prototype._requestTabReorder=function(e,t){var i=this._findNodeFromContainer(e);this.layoutEngine.reorderTabs(i,t.handle,t.state,t.index)},i.prototype.requestUndockToDialog=function(e,t,i){var n=this._findNodeFromContainer(e);this.layoutEngine.undock(n);var o=new r(n.container,this);if(void 0!==t){var s=o.elementDialog.clientWidth;i.x>s&&(i.x=.75*s),o.setPosition(t.clientX-i.x,t.clientY-i.y),o.draggable.onMouseDown(t)}return o},i.prototype.requestUndock=function(e){var t=this._findNodeFromContainer(e);this.layoutEngine.undock(t)},i.prototype.requestRemove=function(e){var t=this._findNodeFromContainer(e),i=t.parent;return t.detachFromParent(),i&&this.rebuildLayout(i),t},i.prototype._findNodeFromContainer=function(e){var t=[];for(t.push(this.context.model.rootNode);t.length>0;){var i=t.pop();if(i.container===e)return i;[].push.apply(t,i.children)}throw new Error(\"Cannot find dock node belonging to the element\")},i.prototype.findNodeFromContainerElement=function(e){var t=[];for(t.push(this.context.model.rootNode);t.length>0;){var i=t.pop();if(i.container.containerElement===e)return i;[].push.apply(t,i.children)}throw new Error(\"Cannot find dock node belonging to the element\")},i.prototype.addLayoutListener=function(e){this.layoutEventListeners.push(e)},i.prototype.removeLayoutListener=function(e){this.layoutEventListeners.splice(this.layoutEventListeners.indexOf(e),1)},i.prototype.suspendLayout=function(){var e=this;this.layoutEventListeners.forEach(function(t){t.onSuspendLayout&&t.onSuspendLayout(e)})},i.prototype.resumeLayout=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onResumeLayout&&i.onResumeLayout(t,e)})},i.prototype.notifyOnDock=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onDock&&i.onDock(t,e)})},i.prototype.notifyOnTabsReorder=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onTabsReorder&&i.onTabsReorder(t,e)})},i.prototype.notifyOnUnDock=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onUndock&&i.onUndock(t,e)})},i.prototype.notifyOnClosePanel=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onClosePanel&&i.onClosePanel(t,e)})},i.prototype.notifyOnCreateDialog=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onCreateDialog&&i.onCreateDialog(t,e)})},i.prototype.notifyOnHideDialog=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onHideDialog&&i.onHideDialog(t,e)})},i.prototype.notifyOnShowDialog=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onShowDialog&&i.onShowDialog(t,e)})},i.prototype.notifyOnChangeDialogPosition=function(e,t,i){var n=this;this.layoutEventListeners.forEach(function(o){o.onChangeDialogPosition&&o.onChangeDialogPosition(n,e,t,i)})},i.prototype.notifyOnTabChange=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onTabChanged&&i.onTabChanged(t,e)})},i.prototype.saveState=function(){var e=new l;return e.serialize(this.context.model)},i.prototype.loadState=function(e){var t=new h(this);this.context.model=t.deserialize(e),this.setModel(this.context.model)},i.prototype.getPanels=function(){var e=[];return this._allPanels(this.context.model.rootNode,e),this.context.model.dialogs.forEach(function(t){e.push(t.panel)}),e},i.prototype.undockEnabled=function(e){this._undockEnabled=e,this.getPanels().forEach(function(t){t.canUndock(e)})},i.prototype.lockDockState=function(e){this.undockEnabled(!e),this.hideCloseButton(e)},i.prototype.hideCloseButton=function(e){this.getPanels().forEach(function(t){t.hideCloseButton(e)})},i.prototype.updatePanels=function(e){var t=[];return this._allPanels(this.context.model.rootNode,t),t.forEach(function(t){e.contains(t.elementContent.id)||t.close()}),this.context.model.dialogs.forEach(function(t){e.contains(t.panel.elementContent.id)?t.show():t.hide()}),t},i.prototype.getVisiblePanels=function(){var e=[];return this._allPanels(this.context.model.rootNode,e),this.context.model.dialogs.forEach(function(t){t.isHidden||e.push(t.panel)}),e},i.prototype._allPanels=function(e,t){var i=this;e.children.forEach(function(e){i._allPanels(e,t)}),\"panel\"===e.container.containerType&&t.push(e.container)},i.prototype.setCloseTabIconTemplate=function(e){this.closeTabIconTemplate=e}},{\"../dialog/Dialog\":12,\"../serialization/DockGraphDeserializer\":20,\"../serialization/DockGraphSerializer\":21,\"../utils/EventHandler\":27,\"../utils/Point\":28,\"../utils/utils\":31,\"./DockLayoutEngine\":13,\"./DockManagerContext\":15,\"./DockNode\":17,\"./DockWheel\":18}],15:[function(e,t){function i(e){this.dockManager=e,this.model=new n,this.documentManagerView=new o(this.dockManager)}var n=e(\"./DockModel\"),o=e(\"../containers/DocumentManagerContainer\");t.exports=i},{\"../containers/DocumentManagerContainer\":3,\"./DockModel\":16}],16:[function(e,t){function i(){this.rootNode=this.documentManagerNode=void 0}t.exports=i},{}],17:[function(e,t){function i(e){this.container=e,this.children=[]}t.exports=i,i.prototype.detachFromParent=function(){this.parent&&(this.parent.removeChild(this),delete this.parent)},i.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>=0&&this.children.splice(t,1)},i.prototype.addChild=function(e){e.detachFromParent(),e.parent=this,this.children.push(e)},i.prototype.addChildBefore=function(e,t){this._addChildWithDirection(e,t,!0)},i.prototype.addChildAfter=function(e,t){this._addChildWithDirection(e,t,!1)},i.prototype._addChildWithDirection=function(e,t,i){t.detachFromParent(),t.parent=this;var n=this.children.indexOf(e),o=this.children.slice(0,n),s=this.children.slice(n+1,this.children.length);this.children=o.slice(0),i?(this.children.push(t),this.children.push(e)):(this.children.push(e),this.children.push(t)),Array.prototype.push.apply(this.children,s)},i.prototype.performLayout=function(){var e=this.children.map(function(e){return e.container});this.container.performLayout(e)},i.prototype.debugDumpTree=function(e){void 0===e&&(e=0);for(var t=this.container.name,i=0;e>i;i++)t=\"\t\"+t;var n=void 0===this.parent?\"null\":this.parent.container.containerType;console.log(\">>\"+t+\" [\"+n+\"]\"),this.children.forEach(function(t){t.debugDumpTree(e+1)})}},{}],18:[function(e,t){function i(e){this.dockManager=e,this.elementMainWheel=document.createElement(\"div\"),this.elementSideWheel=document.createElement(\"div\"),this.wheelItems={};var t=[\"left\",\"right\",\"top\",\"down\",\"fill\",\"left-s\",\"right-s\",\"top-s\",\"down-s\"],i=this;t.forEach(function(e){i.wheelItems[e]=new n(i,e),\"-s\"===e.substr(-2,2)?i.elementSideWheel.appendChild(i.wheelItems[e].element):i.elementMainWheel.appendChild(i.wheelItems[e].element)});var o=1e5;this.elementMainWheel.classList.add(\"dock-wheel-base\"),this.elementSideWheel.classList.add(\"dock-wheel-base\"),this.elementMainWheel.style.zIndex=o+1,this.elementSideWheel.style.zIndex=o,this.elementPanelPreview=document.createElement(\"div\"),this.elementPanelPreview.classList.add(\"dock-wheel-panel-preview\"),this.elementPanelPreview.style.zIndex=o-1,this.activeDialog=void 0,this._activeNode=void 0,this._visible=!1}var n=e(\"./DockWheelItem\"),o=e(\"../utils/utils\");t.exports=i,Object.defineProperty(i.prototype,\"activeNode\",{get:function(){return this._activeNode},set:function(e){var t=this._activeNode;this._activeNode=e,t!==this._activeNode&&this._visible&&this.showWheel()}}),i.prototype.showWheel=function(){if(this._visible=!0,!this.activeNode)return o.removeNode(this.elementMainWheel),void o.removeNode(this.elementSideWheel);var e=this.activeNode.container.containerElement,t=e.clientWidth,i=e.clientHeight,n=Math.floor(t/2)+e.offsetLeft,s=Math.floor(i/2)+e.offsetTop;this.elementMainWheel.style.left=n+\"px\",this.elementMainWheel.style.top=s+\"px\";var a=20,r=this.dockManager.element.clientWidth,l=this.dockManager.element.clientHeight;o.removeNode(this.elementMainWheel),o.removeNode(this.elementSideWheel),e.appendChild(this.elementMainWheel),this.dockManager.element.appendChild(this.elementSideWheel),this._setWheelButtonPosition(\"left-s\",a,-l/2),this._setWheelButtonPosition(\"right-s\",r-2*a,-l/2),this._setWheelButtonPosition(\"top-s\",r/2,-l+a),this._setWheelButtonPosition(\"down-s\",r/2,-a)},i.prototype._setWheelButtonPosition=function(e,t,i){var n=this.wheelItems[e],o=n.element.clientWidth/2,s=n.element.clientHeight/2,a=Math.floor(t-o),r=Math.floor(i-s);n.element.style.marginLeft=a+\"px\",n.element.style.marginTop=r+\"px\"},i.prototype.hideWheel=function(){this._visible=!1,this.activeNode=void 0,o.removeNode(this.elementMainWheel),o.removeNode(this.elementSideWheel),o.removeNode(this.elementPanelPreview);for(var e in this.wheelItems)this.wheelItems[e].active=!1},i.prototype.onMouseOver=function(e){if(this.activeDialog){var t,i=this.dockManager.context.model.rootNode;\"top\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,\"vertical\",!0):\"down\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,\"vertical\",!1):\"left\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,\"horizontal\",!0):\"right\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,\"horizontal\",!1):\"fill\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,\"fill\",!1):\"top-s\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,\"vertical\",!0):\"down-s\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,\"vertical\",!1):\"left-s\"===e.id?t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,\"horizontal\",!0):\"right-s\"===e.id&&(t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,\"horizontal\",!1)),t&&(this.dockManager.element.appendChild(this.elementPanelPreview),this.elementPanelPreview.style.left=Math.round(t.x)+\"px\",this.elementPanelPreview.style.top=Math.round(t.y)+\"px\",this.elementPanelPreview.style.width=Math.round(t.width)+\"px\",this.elementPanelPreview.style.height=Math.round(t.height)+\"px\")}},i.prototype.onMouseOut=function(){o.removeNode(this.elementPanelPreview)},i.prototype.onDialogDropped=function(e){var t=this._getActiveWheelItem();t&&this._handleDockRequest(t,e)},i.prototype._getActiveWheelItem=function(){for(var e in this.wheelItems){var t=this.wheelItems[e];if(t.active)return t}return void 0},i.prototype._handleDockRequest=function(e,t){this.activeNode&&(\"left\"===e.id?this.dockManager.dockDialogLeft(this.activeNode,t):\"right\"===e.id?this.dockManager.dockDialogRight(this.activeNode,t):\"top\"===e.id?this.dockManager.dockDialogUp(this.activeNode,t):\"down\"===e.id?this.dockManager.dockDialogDown(this.activeNode,t):\"fill\"===e.id?this.dockManager.dockDialogFill(this.activeNode,t):\"left-s\"===e.id?this.dockManager.dockDialogLeft(this.dockManager.context.model.rootNode,t):\"right-s\"===e.id?this.dockManager.dockDialogRight(this.dockManager.context.model.rootNode,t):\"top-s\"===e.id?this.dockManager.dockDialogUp(this.dockManager.context.model.rootNode,t):\"down-s\"===e.id&&this.dockManager.dockDialogDown(this.dockManager.context.model.rootNode,t))}},{\"../utils/utils\":31,\"./DockWheelItem\":19}],19:[function(e,t){function i(e,t){this.wheel=e,this.id=t;var i=t.replace(\"-s\",\"\");this.element=document.createElement(\"div\"),this.element.classList.add(\"dock-wheel-item\"),this.element.classList.add(\"disable-selection\"),this.element.classList.add(\"dock-wheel-\"+i),this.element.classList.add(\"dock-wheel-\"+i+\"-icon\"),this.hoverIconClass=\"dock-wheel-\"+i+\"-icon-hover\",this.mouseOverHandler=new n(this.element,\"mouseover\",this.onMouseMoved.bind(this)),this.mouseOutHandler=new n(this.element,\"mouseout\",this.onMouseOut.bind(this)),this.active=!1}var n=e(\"../utils/EventHandler\");t.exports=i,i.prototype.onMouseMoved=function(e){this.active=!0,this.element.classList.add(this.hoverIconClass),this.wheel.onMouseOver(this,e)},i.prototype.onMouseOut=function(e){this.active=!1,this.element.classList.remove(this.hoverIconClass),this.wheel.onMouseOut(this,e)}},{\"../utils/EventHandler\":27}],20:[function(e,t){function i(e){this.dockManager=e}var n=e(\"../dock/DockModel\"),o=e(\"../dock/DockNode\"),s=e(\"../containers/PanelContainer\"),a=e(\"../containers/HorizontalDockContainer\"),r=e(\"../containers/VerticalDockContainer\"),l=e(\"../containers/DocumentManagerContainer\"),h=e(\"../containers/FillDockContainer\"),c=e(\"../dialog/Dialog\"),d=e(\"../utils/utils\");t.exports=i,i.prototype.deserialize=function(e){var t=JSON.parse(e),i=new n;return i.rootNode=this._buildGraph(t.graphInfo),i.dialogs=this._buildDialogs(t.dialogsInfo),i},i.prototype._buildGraph=function(e){var t=e.children,i=[],n=this;t.forEach(function(e){var t=n._buildGraph(e);null!==t&&i.push(t)});var s=this._createContainer(e,i);if(null===s)return null;var a=new o(s);return a.children=i,a.children.reverse().forEach(function(e){e.parent=a}),a.children.reverse(),a},i.prototype._createContainer=function(e,t){var i,n=e.containerType,o=e.state,c=[];if(t.forEach(function(e){c.push(e.container)}),\"panel\"===n){if(i=new s.loadFromState(o,this.dockManager),!i.prepareForDocking)return null;i.prepareForDocking(),d.removeNode(i.elementPanel)}else if(\"horizontal\"===n)i=new a(this.dockManager,c);else if(\"vertical\"===n)i=new r(this.dockManager,c);else{if(\"fill\"!==n)throw new Error(\"Cannot create dock container of unknown type: \"+n);var p=o.documentManager;i=p?new l(this.dockManager):new h(this.dockManager)}return i.loadState(o),i},i.prototype._buildDialogs=function(e){var t=[],i=this;return e.forEach(function(e){var n,o=e.containerType,a=e.state;if(\"panel\"===o&&(n=new s.loadFromState(a,i.dockManager),n.prepareForDocking)){d.removeNode(n.elementPanel),n.isDialog=!0;var r=new c(n,i.dockManager);(e.position.left>document.body.clientWidth||e.position.top>document.body.clientHeight-70)&&(e.position.left=20,e.position.top=70),r.setPosition(e.position.left,e.position.top),r.isHidden=e.isHidden,r.isHidden&&r.hide(),t.push(r)}}),t}},{\"../containers/DocumentManagerContainer\":3,\"../containers/FillDockContainer\":5,\"../containers/HorizontalDockContainer\":6,\"../containers/PanelContainer\":7,\"../containers/VerticalDockContainer\":9,\"../dialog/Dialog\":12,\"../dock/DockModel\":16,\"../dock/DockNode\":17,\"../utils/utils\":31}],21:[function(e,t){function i(){}t.exports=i,i.prototype.serialize=function(e){var t=this._buildGraphInfo(e.rootNode),i=this._buildDialogsInfo(e.dialogs);return JSON.stringify({graphInfo:t,dialogsInfo:i})},i.prototype._buildGraphInfo=function(e){var t={};e.container.saveState(t);var i=[],n=this;e.children.forEach(function(e){i.push(n._buildGraphInfo(e))});var o={};return o.containerType=e.container.containerType,o.state=t,o.children=i,o},i.prototype._buildDialogsInfo=function(e){var t=[];return e.forEach(function(e){var i={},n=e.panel;n.saveState(i);var o={};o.containerType=n.containerType,o.state=i,o.children=[],o.position=e.getPosition(),o.isHidden=e.isHidden,t.push(o)}),t}},{}],22:[function(e,t){function i(e,t,i){this.previousContainer=e,this.nextContainer=t,this.stackedVertical=i,this.barElement=document.createElement(\"div\"),this.barElement.classList.add(i?\"splitbar-horizontal\":\"splitbar-vertical\"),this.mouseDownHandler=new n(this.barElement,\"mousedown\",this.onMouseDown.bind(this)),this.minPanelSize=50,this.readyToProcessNextDrag=!0}var n=e(\"../utils/EventHandler\"),o=e(\"../utils/utils\");t.exports=i,i.prototype.onMouseDown=function(e){this._startDragging(e)},i.prototype.onMouseUp=function(e){this._stopDragging(e)},i.prototype.onMouseMoved=function(e){if(this.readyToProcessNextDrag){this.readyToProcessNextDrag=!1;var t=this.previousContainer.dockManager;t.suspendLayout();var i=e.pageX-this.previousMouseEvent.pageX,n=e.pageY-this.previousMouseEvent.pageY;this._performDrag(i,n),this.previousMouseEvent=e,this.readyToProcessNextDrag=!0,t.resumeLayout()}},i.prototype._performDrag=function(e,t){var i=this.previousContainer.containerElement.clientWidth,n=this.previousContainer.containerElement.clientHeight,o=this.nextContainer.containerElement.clientWidth,s=this.nextContainer.containerElement.clientHeight,a=this.stackedVertical?n:i,r=this.stackedVertical?s:o,l=this.stackedVertical?t:e,h=a+l,c=r-l;if(h<this.minPanelSize||c<this.minPanelSize){var d=h<this.minPanelSize&&h>a||c<this.minPanelSize&&c>r;if(!d)return}this.stackedVertical?(this.previousContainer.resize(i,h),this.nextContainer.resize(o,c)):(this.previousContainer.resize(h,n),this.nextContainer.resize(c,s))},i.prototype._startDragging=function(e){o.disableGlobalTextSelection(),this.mouseMovedHandler&&(this.mouseMovedHandler.cancel(),delete this.mouseMovedHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMovedHandler=new n(window,\"mousemove\",this.onMouseMoved.bind(this)),this.mouseUpHandler=new n(window,\"mouseup\",this.onMouseUp.bind(this)),this.previousMouseEvent=e},i.prototype._stopDragging=function(){o.enableGlobalTextSelection(),document.body.classList.remove(\"disable-selection\"),this.mouseMovedHandler&&(this.mouseMovedHandler.cancel(),delete this.mouseMovedHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler)}},{\"../utils/EventHandler\":27,\"../utils/utils\":31}],23:[function(e,t){function i(e,t){this.childContainers=e,this.stackedVertical=t,this.panelElement=document.createElement(\"div\"),this.spiltterBars=[],this._buildSplitterDOM()}var n=e(\"./SplitterBar\"),o=e(\"../utils/utils\");t.exports=i,i.prototype._buildSplitterDOM=function(){if(this.childContainers.length<=1)throw new Error(\"Splitter panel should contain atleast 2 panels\");this.spiltterBars=[];for(var e=0;e<this.childContainers.length-1;e++){var t=this.childContainers[e],i=this.childContainers[e+1],o=new n(t,i,this.stackedVertical);this.spiltterBars.push(o),this._insertContainerIntoPanel(t),this.panelElement.appendChild(o.barElement)}this._insertContainerIntoPanel(this.childContainers.slice(-1)[0])},i.prototype.performLayout=function(e){this.removeFromDOM(),this.childContainers=e,this._buildSplitterDOM()},i.prototype.removeFromDOM=function(){this.childContainers.forEach(function(e){e.containerElement&&(e.containerElement.classList.remove(\"splitter-container-vertical\"),e.containerElement.classList.remove(\"splitter-container-horizontal\"),o.removeNode(e.containerElement))}),this.spiltterBars.forEach(function(e){o.removeNode(e.barElement)})},i.prototype.destroy=function(){this.removeFromDOM(),this.panelElement.parentNode.removeChild(this.panelElement)},i.prototype._insertContainerIntoPanel=function(e){e||console.log(\"undefined\"),o.removeNode(e.containerElement),this.panelElement.appendChild(e.containerElement),e.containerElement.classList.add(this.stackedVertical?\"splitter-container-vertical\":\"splitter-container-horizontal\")},i.prototype.setContainerRatio=function(e,t){for(var i=this.stackedVertical?this.panelElement.clientHeight:this.panelElement.clientWidth,n=i*t,o=this.stackedVertical?this.spiltterBars[0].barElement.clientHeight:this.spiltterBars[0].barElement.clientWidth,s=i-n-o*this.spiltterBars.length,a=s/i,r=0;r<this.childContainers.length;r++){var l,h=this.childContainers[r];h!==e?(l=this.stackedVertical?h.containerElement.clientHeight:h.containerElement.clientWidth,l*=a):l=n,this.stackedVertical?h.resize(h.width,Math.floor(l)):h.resize(Math.floor(l),h.height)}},i.prototype.resize=function(e,t){if(!(this.childContainers.length<=1)){var i;for(i=0;i<this.childContainers.length;i++){var n=this.childContainers[i];if(this.stackedVertical?n.resize(e,n.height):n.resize(n.width,t),i<this.spiltterBars.length){var o=this.spiltterBars[i];this.stackedVertical?o.barElement.style.width=e+\"px\":o.barElement.style.height=t+\"px\"}}var s=0,a=this;this.childContainers.forEach(function(e){var t=a.stackedVertical?e.height:e.width;s+=t});var r=this.stackedVertical?this.spiltterBars[0].barElement.clientHeight:this.spiltterBars[0].barElement.clientWidth,l=this.stackedVertical?t:e;l-=r*this.spiltterBars.length,s=Math.max(s,1);var h=l/s,c=0;for(i=0;i<this.childContainers.length;i++){var d=this.childContainers[i],p=this.stackedVertical?d.containerElement.clientHeight:d.containerElement.clientWidth,u=h>1?Math.floor(p*h):Math.ceil(p*h);c+=u,i===this.childContainers.length-1&&(u+=l-c),this.stackedVertical?d.resize(d.width,u):d.resize(u,d.height)}this.panelElement.style.width=e+\"px\",this.panelElement.style.height=t+\"px\"}}},{\"../utils/utils\":31,\"./SplitterBar\":22}],24:[function(e,t){function i(e){this.parent=e;var t=i.prototype._performUndock.bind(this);this.elementBase=document.createElement(\"div\"),this.elementText=document.createElement(\"div\"),this.elementCloseButton=document.createElement(\"div\"),this.elementBase.classList.add(\"tab-handle\"),this.elementBase.classList.add(\"disable-selection\"),this.elementText.classList.add(\"tab-handle-text\"),this.elementCloseButton.classList.add(\"tab-handle-close-button\"),this.elementBase.appendChild(this.elementText),this.parent.host.displayCloseButton&&this.elementBase.appendChild(this.elementCloseButton),this.parent.host.tabListElement.appendChild(this.elementBase);var a=e.container,r=a.getRawTitle(),l=this;this.undockListener={onDockEnabled:function(e){l.undockEnabled(e.state)},onHideCloseButton:function(e){l.hideCloseButton(e.state)}},this.eventListeners=[],a.addListener(this.undockListener),this.elementText.innerHTML=r,this.elementCloseButton.innerHTML=this.parent.container instanceof n&&this.parent.container.dockManager.closeTabIconTemplate?this.parent.container.dockManager.closeTabIconTemplate():'<i class=\"fa fa-times\"></i>',this._bringToFront(this.elementBase),this.undockInitiator=new o(this.elementBase,t),this.undockInitiator.enabled=!0,this.mouseClickHandler=new s(this.elementBase,\"click\",this.onMouseClicked.bind(this)),this.mouseDownHandler=new s(this.elementBase,\"mousedown\",this.onMouseDown.bind(this)),this.closeButtonHandler=new s(this.elementCloseButton,\"mousedown\",this.onCloseButtonClicked.bind(this)),this.moveThreshold=10,this.zIndexCounter=100}var n=e(\"../containers/PanelContainer\"),o=e(\"../utils/UndockInitiator\"),s=e(\"../utils/EventHandler\"),a=e(\"../utils/utils\");t.exports=i,i.prototype.addListener=function(e){this.eventListeners.push(e)},i.prototype.removeListener=function(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)},i.prototype.undockEnabled=function(e){this.undockInitiator.enabled=e},i.prototype.onMouseDown=function(e){this.undockInitiator.enabled&&this.undockInitiator.setThresholdPixels(40,!1),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.stargDragPosition=e.clientX,this.mouseMoveHandler=new s(this.elementBase,\"mousemove\",this.onMouseMove.bind(this)),this.mouseUpHandler=new s(window,\"mouseup\",this.onMouseUp.bind(this))},i.prototype.onMouseUp=function(){this.undockInitiator.enabled&&this.undockInitiator.setThresholdPixels(10,!0),this.elementBase&&this.elementBase.classList.remove(\"tab-handle-dragged\"),this.dragged=!1,this.mouseMoveHandler.cancel(),this.mouseUpHandler.cancel(),delete this.mouseMoveHandler,delete this.mouseUpHandler},i.prototype.generateMoveTabEvent=function(e,t){var i=t>e.rect.left&&t<e.rect.right,n=Math.abs(e.bound-t);n<this.moveThreshold&&i&&this.moveTabEvent(this,e.state)},i.prototype.moveTabEvent=function(e,t){e.eventListeners.forEach(function(i){i.onMoveTab&&i.onMoveTab({self:e,state:t})})},i.prototype.onMouseMove=function(e){if(!(Math.abs(this.stargDragPosition-e.clientX)<10)){this.elementBase.classList.add(\"tab-handle-dragged\"),this.dragged=!0,this.prev=this.current,this.current=e.clientX,this.direction=this.current-this.prev;var t=this.elementBase.getBoundingClientRect(),i=this.direction<0?{state:\"left\",bound:t.left,rect:t}:{state:\"right\",bound:t.right,rect:t};0!==this.direction&&this.generateMoveTabEvent(i,this.current)}},i.prototype.hideCloseButton=function(e){this.elementCloseButton.style.display=e?\"none\":\"block\"},i.prototype.updateTitle=function(){if(this.parent.container instanceof n){var e=this.parent.container,t=e.getRawTitle();this.elementText.innerHTML=t}},i.prototype.destroy=function(){var e=this.parent.container;e.removeListener(this.undockListener),this.mouseClickHandler.cancel(),this.mouseDownHandler.cancel(),this.closeButtonHandler.cancel(),this.mouseUpHandler&&this.mouseUpHandler.cancel(),a.removeNode(this.elementBase),a.removeNode(this.elementCloseButton),delete this.elementBase,delete this.elementCloseButton},i.prototype._performUndock=function(e,t){if(\"panel\"===this.parent.container.containerType){this.undockInitiator.enabled=!1;var i=this.parent.container;return i.performUndockToDialog(e,t)}return null},i.prototype.onMouseClicked=function(){this.parent.onSelected()},i.prototype.onCloseButtonClicked=function(){\"panel\"===this.parent.container.containerType&&this.parent.container.close()},i.prototype.setSelected=function(e){var t=\"tab-handle-selected\";e?this.elementBase.classList.add(t):this.elementBase.classList.remove(t)},i.prototype.setZIndex=function(e){this.elementBase.style.zIndex=e},i.prototype._bringToFront=function(e){e.style.zIndex=this.zIndexCounter,this.zIndexCounter++}},{\"../containers/PanelContainer\":7,\"../utils/EventHandler\":27,\"../utils/UndockInitiator\":30,\"../utils/utils\":31}],25:[function(e,t){function i(e,t){void 0===e&&(e=i.DIRECTION_BOTTOM),void 0===t&&(t=!1),this.tabStripDirection=e,this.displayCloseButton=t,this.pages=[];var n=this;if(n.eventListeners=[],this.tabHandleListener={onMoveTab:function(e){n.onMoveTab(e)}},this.hostElement=document.createElement(\"div\"),this.tabListElement=document.createElement(\"div\"),this.separatorElement=document.createElement(\"div\"),this.contentElement=document.createElement(\"div\"),this.createTabPage=this._createDefaultTabPage,this.tabStripDirection===i.DIRECTION_BOTTOM)this.hostElement.appendChild(this.contentElement),this.hostElement.appendChild(this.separatorElement),this.hostElement.appendChild(this.tabListElement);else{if(this.tabStripDirection!==i.DIRECTION_TOP)throw new Error(\"Only top and bottom tab strip orientations are supported\");this.hostElement.appendChild(this.tabListElement),this.hostElement.appendChild(this.separatorElement),this.hostElement.appendChild(this.contentElement)}this.hostElement.classList.add(\"tab-host\"),this.tabListElement.classList.add(\"tab-handle-list-container\"),this.separatorElement.classList.add(\"tab-handle-content-seperator\"),this.contentElement.classList.add(\"tab-content\")}var n=e(\"./TabPage\");t.exports=i,i.DIRECTION_TOP=0,i.DIRECTION_BOTTOM=1,i.DIRECTION_LEFT=2,i.DIRECTION_RIGHT=3,i.prototype.onMoveTab=function(e){var t=Array.prototype.slice.call(this.tabListElement.childNodes).indexOf(e.self.elementBase);this.change(this,e.self,e.state,t)},i.prototype.performTabsLayout=function(e){this.pages=this.pages.orderByIndexes(e);var t=this.tabListElement.childNodes,i=[];for(var n in t)1===t[n].nodeType&&i.push(t[n]);for(i=i.orderByIndexes(e),n=0;n<i.length;++n)this.tabListElement.appendChild(i[n]);this.activeTab&&this.onTabPageSelected(this.activeTab)},i.prototype.addListener=function(e){this.eventListeners.push(e)},i.prototype.removeListener=function(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)},i.prototype.change=function(e,t,i,n){this.eventListeners.forEach(function(o){o.onChange&&o.onChange({host:e,handle:t,state:i,index:n})})},i.prototype._createDefaultTabPage=function(e,t){return new n(e,t)},i.prototype.setActiveTab=function(){this.pages.length>0&&this.onTabPageSelected(this.pages[0])},i.prototype.resize=function(e,t){this.hostElement.style.width=e+\"px\",this.hostElement.style.height=t+\"px\";\nvar i=this.tabListElement.clientHeight;this.timeoutPerform&&clearTimeout(this.timeoutPerform);var n=this;this.timeoutPerform=setTimeout(function(){n.resizeTabListElement(e,t)},100);var o=this.separatorElement.clientHeight,s=t-i-o;this.contentElement.style.height=s+\"px\",this.activeTab&&this.activeTab.resize(e,s)},i.prototype.resizeTabListElement=function(e){if(0!==this.pages.length){var t=0;this.pages.forEach(function(e){var i=e.handle;i.elementBase.style.width=\"\",i.elementText.style.width=\"\",t+=i.elementBase.clientWidth});var n=e/t;if(!(n>1.2)){var o=this;this.pages.forEach(function(e,t){var s=e.handle,a=n*s.elementBase.clientWidth;t===o.pages.length-1&&(a-=5),s.elementBase.style.width=a+\"px\",o.tabStripDirection===i.DIRECTION_TOP&&(s.elementText.style.width=a-s.elementCloseButton.clientWidth-16+\"px\")})}}},i.prototype.performLayout=function(e){this.pages.forEach(function(e){e.handle.removeListener(this.tabHandleListener),e.destroy()}),this.pages.length=0;var t=this.activeTab;delete this.activeTab;var i=e.filter(function(e){return\"panel\"===e.containerType});if(i.length>0){var n=this;i.forEach(function(e){var i=n.createTabPage(n,e);i.handle.addListener(n.tabHandleListener),n.pages.push(i),t&&i.container===t.container&&(n.activeTab=i)}),this._setTabHandlesVisible(!0)}else this._setTabHandlesVisible(!1);this.activeTab&&this.onTabPageSelected(this.activeTab)},i.prototype._setTabHandlesVisible=function(e){this.tabListElement.style.display=e?\"block\":\"none\",this.separatorElement.style.display=e?\"block\":\"none\"},i.prototype.onTabPageSelected=function(e){this.activeTab=e,this.pages.forEach(function(t){var i=t===e;t.setSelected(i)});var t=1,i=100;this.pages.forEach(function(n){n.handle.setZIndex(i);var o=n===e;o&&(t=-1),i+=t})}},{\"./TabPage\":26}],26:[function(e,t){function i(e,t){if(0!==arguments.length&&(this.selected=!1,this.host=e,this.container=t,this.handle=new n(this),this.containerElement=t.containerElement,t instanceof o)){var i=t;i.onTitleChanged=this.onTitleChanged.bind(this)}}{var n=e(\"./TabHandle\"),o=e(\"../containers/PanelContainer\");e(\"../utils/utils\")}t.exports=i,i.prototype.onTitleChanged=function(){this.handle.updateTitle()},i.prototype.destroy=function(){if(this.handle.destroy(),this.container instanceof o){var e=this.container;delete e.onTitleChanged}},i.prototype.onSelected=function(){if(this.container instanceof o){var e=this.container;if(\"undefined\"!==e.onClickHandler&&e.onClickHandler(),!e.canSelect)return;this.host.onTabPageSelected(this),e.dockManager.notifyOnTabChange(this)}},i.prototype.setSelected=function(e){if(this.selected=e,this.handle.setSelected(e),this._initContent||this.host.contentElement.appendChild(this.containerElement),this._initContent=!0,this.selected){this.containerElement.style.display=\"block\";var t=this.host.contentElement.clientWidth,i=this.host.contentElement.clientHeight;this.container.resize(t,i)}else this.containerElement.style.display=\"none\"},i.prototype.resize=function(e,t){this.container.resize(e,t)}},{\"../containers/PanelContainer\":7,\"../utils/utils\":31,\"./TabHandle\":24}],27:[function(e,t){function i(e,t,i){this.target=i,this.eventName=t,this.source=e,this.source.addEventListener(t,this.target)}t.exports=i,i.prototype.cancel=function(){this.source.removeEventListener(this.eventName,this.target)}},{}],28:[function(e,t){function i(e,t){this.x=e,this.y=t}t.exports=i},{}],29:[function(e,t){function i(e,t,i,n){this.x=e||0,this.y=t||0,this.width=i||0,this.height=n||0}t.exports=i},{}],30:[function(e,t){function i(e,t,i){i||(i=10),this.element=e,this.listener=t,this.thresholdPixels=i,this._enabled=!1,this.horizontalChange=!0}var n=e(\"./EventHandler\"),o=e(\"./Point\");t.exports=i,Object.defineProperty(i.prototype,\"enabled\",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._enabled?(this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.mouseDownHandler=new n(this.element,\"mousedown\",this.onMouseDown.bind(this))):(this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler))}}),i.prototype.setThresholdPixels=function(e,t){this.horizontalChange=t,this.thresholdPixels=e},i.prototype.onMouseDown=function(e){this.enabled&&(this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseUpHandler=new n(window,\"mouseup\",this.onMouseUp.bind(this)),this.mouseMoveHandler=new n(window,\"mousemove\",this.onMouseMove.bind(this)),this.dragStartPosition=new o(e.pageX,e.pageY))},i.prototype.onMouseUp=function(){this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler)},i.prototype.onMouseMove=function(e){var t=new o(e.pageX,e.pageY),i=this.horizontalChange?t.x-this.dragStartPosition.x:10,n=t.y-this.dragStartPosition.y,s=Math.sqrt(i*i+n*n);s>this.thresholdPixels&&(this.enabled=!1,this._requestUndock(e))},i.prototype._requestUndock=function(e){var t=this.dragStartPosition.x-this.element.offsetLeft,i=this.dragStartPosition.y-this.element.offsetTop,n=new o(t,i);this.listener(e,n)}},{\"./EventHandler\":27,\"./Point\":28}],31:[function(e,t){var i=0;t.exports={getPixels:function(e){return null===e?0:parseInt(e.replace(\"px\",\"\"))},disableGlobalTextSelection:function(){document.body.classList.add(\"disable-selection\")},enableGlobalTextSelection:function(){document.body.classList.remove(\"disable-selection\")},isPointInsideNode:function(e,t,i){var n=i.container.containerElement;return e>=n.offsetLeft&&e<=n.offsetLeft+n.clientWidth&&t>=n.offsetTop&&t<=n.offsetTop+n.clientHeight},getNextId:function(e){return e+i++},removeNode:function(e){return null===e.parentNode?!1:(e.parentNode.removeChild(e),!0)}}},{}]},{},[1])(1)});\n//# sourceMappingURL=dockspawn.min.js.map","module.exports={\n  \"name\": \"dock-spawn\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Panel docking library similar to Visual Studio docking.\",\n  \"author\": \"Chad Engler <chad@pantherdev.com>\",\n  \"homepage\": \"https://github.com/englercj/dock-spawn\",\n  \"main\": \"./src/index\",\n  \"scripts\": {\n    \"build\": \"gulp build\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/englercj/dock-spawn.git\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/englercj/dock-spawn/issues\"\n  },\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"browserify\": \"^6.0.3\",\n    \"gulp\": \"^3.8.8\",\n    \"gulp-jshint\": \"^1.8.5\",\n    \"gulp-rename\": \"^1.2.0\",\n    \"gulp-sourcemaps\": \"^1.3.0\",\n    \"gulp-uglify\": \"^1.1.0\",\n    \"gulp-util\": \"^3.0.1\",\n    \"gulp-webserver\": \"^0.9.0\",\n    \"jshint-summary\": \"^0.4.0\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.0.0\",\n    \"watchify\": \"^2.0.0\"\n  }\n}\n","var FillDockContainer = require('./FillDockContainer'),\r\n    DocumentTabPage = require('./DocumentTabPage'),\r\n    TabHost = require('../tab/TabHost');\r\n\r\n/**\r\n * The document manager is then central area of the dock layout hierarchy.\r\n * This is where more important panels are placed (e.g. the text editor in an IDE,\r\n * 3D view in a modelling package etc\r\n */\r\n\r\nfunction DocumentManagerContainer(dockManager)\r\n{\r\n    FillDockContainer.call(this, dockManager, TabHost.DIRECTION_TOP);\r\n    this.minimumAllowedChildNodes = 0;\r\n    this.element.classList.add('document-manager');\r\n    this.tabHost.createTabPage = this._createDocumentTabPage;\r\n    this.tabHost.displayCloseButton = true;\r\n}\r\n\r\nDocumentManagerContainer.prototype = Object.create(FillDockContainer.prototype);\r\nDocumentManagerContainer.prototype.constructor = DocumentManagerContainer;\r\nmodule.exports = DocumentManagerContainer;\r\n\r\nDocumentManagerContainer.prototype._createDocumentTabPage = function(tabHost, container)\r\n{\r\n    return new DocumentTabPage(tabHost, container);\r\n};\r\n\r\nDocumentManagerContainer.prototype.saveState = function(state)\r\n{\r\n    FillDockContainer.prototype.saveState.call(this, state);\r\n    state.documentManager = true;\r\n};\r\n\r\n/** Returns the selected document tab */\r\nDocumentManagerContainer.prototype.selectedTab = function()\r\n{\r\n    return this.tabHost.activeTab;\r\n};\r\n","var TabPage = require('../tab/TabPage'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * Specialized tab page that doesn't display the panel's frame when docked in a tab page\r\n */\r\nfunction DocumentTabPage(host, container)\r\n{\r\n    TabPage.call(this, host, container);\r\n\r\n    // If the container is a panel, extract the content element and set it as the tab's content\r\n    if (this.container.containerType === 'panel')\r\n    {\r\n        this.panel = container;\r\n        this.containerElement = this.panel.elementContent;\r\n\r\n        // detach the container element from the panel's frame.\r\n        // It will be reattached when this tab page is destroyed\r\n        // This enables the panel's frame (title bar etc) to be hidden\r\n        // inside the tab page\r\n        utils.removeNode(this.containerElement);\r\n    }\r\n}\r\n\r\nDocumentTabPage.prototype = Object.create(TabPage.prototype);\r\nDocumentTabPage.prototype.constructor = DocumentTabPage;\r\nmodule.exports = DocumentTabPage;\r\n\r\nDocumentTabPage.prototype.destroy = function()\r\n{\r\n    TabPage.prototype.destroy.call(this);\r\n\r\n    // Restore the panel content element back into the panel frame\r\n    utils.removeNode(this.containerElement);\r\n    this.panel.elementContentHost.appendChild(this.containerElement);\r\n};\r\n","var TabHost = require('../tab/TabHost'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction FillDockContainer(dockManager, tabStripDirection)\r\n{\r\n    if (arguments.length === 0) {\r\n        return;\r\n    }\r\n\r\n    if (tabStripDirection === undefined) {\r\n        tabStripDirection = TabHost.DIRECTION_BOTTOM;\r\n    }\r\n\r\n    this.dockManager = dockManager;\r\n    this.tabOrientation = tabStripDirection;\r\n    this.name = utils.getNextId('fill_');\r\n    this.element = document.createElement('div');\r\n    this.containerElement = this.element;\r\n    this.containerType = 'fill';\r\n    this.minimumAllowedChildNodes = 2;\r\n    this.element.classList.add('dock-container');\r\n    this.element.classList.add('dock-container-fill');\r\n    this.tabHost = new TabHost(this.tabOrientation);\r\n    var that = this;\r\n    this.tabHostListener = {\r\n        onChange: function (e) {\r\n            that.dockManager._requestTabReorder(that, e);\r\n        }\r\n    };\r\n    this.tabHost.addListener(this.tabHostListener);\r\n    this.element.appendChild(this.tabHost.hostElement);\r\n}\r\n\r\nmodule.exports = FillDockContainer;\r\n\r\nFillDockContainer.prototype.setActiveChild = function(child)\r\n{\r\n    this.tabHost.setActiveTab(child);\r\n};\r\n\r\nFillDockContainer.prototype.resize = function(width, height)\r\n{\r\n    this.element.style.width = width + 'px';\r\n    this.element.style.height = height + 'px';\r\n    this.tabHost.resize(width, height);\r\n};\r\n\r\nFillDockContainer.prototype.performLayout = function(children)\r\n{\r\n    this.tabHost.performLayout(children);\r\n};\r\n\r\nFillDockContainer.prototype.destroy = function()\r\n{\r\n    if (utils.removeNode(this.element))\r\n        delete this.element;\r\n};\r\n\r\nFillDockContainer.prototype.saveState = function(state)\r\n{\r\n    state.width = this.width;\r\n    state.height = this.height;\r\n};\r\n\r\nFillDockContainer.prototype.loadState = function(state)\r\n{\r\n    // this.resize(state.width, state.height);\r\n    // this.width = state.width;\r\n    // this.height = state.height;\r\n    this.state = {width: state.width, height: state.height};\r\n};\r\n\r\nObject.defineProperty(FillDockContainer.prototype, 'width', {\r\n    get: function() {\r\n        // if(this.element.clientWidth === 0 && this.stateWidth !== 0)\r\n        //     return this.stateWidth;\r\n        return this.element.clientWidth;\r\n    },\r\n    set: function(value) {\r\n        this.element.style.width = value + 'px';\r\n    }\r\n});\r\n\r\nObject.defineProperty(FillDockContainer.prototype, 'height', {\r\n    get: function() {\r\n        // if(this.element.clientHeight === 0 && this.stateHeight !== 0)\r\n        //     return this.stateHeight;\r\n        return this.element.clientHeight;\r\n    },\r\n    set: function(value) {\r\n        this.element.style.height = value + 'px';\r\n    }\r\n});\r\n","var SplitterDockContainer = require('./SplitterDockContainer'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction HorizontalDockContainer(dockManager, childContainers)\r\n{\r\n    this.stackedVertical = false;\r\n    SplitterDockContainer.call(this, utils.getNextId('horizontal_splitter_'), dockManager, childContainers);\r\n    this.containerType = 'horizontal';\r\n}\r\n\r\nHorizontalDockContainer.prototype = Object.create(SplitterDockContainer.prototype);\r\nHorizontalDockContainer.prototype.constructor = HorizontalDockContainer;\r\nmodule.exports = HorizontalDockContainer;\r\n","var EventHandler = require('../utils/EventHandler'),\r\n    UndockInitiator = require('../utils/UndockInitiator'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * This dock container wraps the specified element on a panel frame with a title bar and close button\r\n */\r\nfunction PanelContainer(elementContent, dockManager, title)\r\n{\r\n    if (!title)\r\n        title = 'Panel';\r\n    this.elementContent = elementContent;\r\n    this.dockManager = dockManager;\r\n    this.title = title;\r\n    this.containerType = 'panel';\r\n    this.iconName = 'fa fa-arrow-circle-right';\r\n    this.iconTemplate = null;\r\n    this.minimumAllowedChildNodes = 0;\r\n    this._floatingDialog = undefined;\r\n    this.isDialog = false;\r\n\tthis.canSelect = true;\r\n\tthis.onClickHandler = null;\r\n    this._canUndock = dockManager._undockEnabled;\r\n    this.eventListeners = [];\r\n    this._initialize();\r\n}\r\n\r\nmodule.exports = PanelContainer;\r\n\r\nPanelContainer.prototype.canUndock = function(state){\r\n    this._canUndock = state;\r\n    this.undockInitiator.enabled = state;\r\n    this.eventListeners.forEach(function(listener) {\r\n        if (listener.onDockEnabled) {\r\n            listener.onDockEnabled({self: this, state: state});\r\n        }\r\n    });\r\n\r\n};\r\n\r\nPanelContainer.prototype.setOnClickHandler = function(canSelect, handler){\r\n\tthis.canSelect = canSelect;\r\n\tthis.onClickHandler = handler;\r\n}\r\n\r\nPanelContainer.prototype.addListener = function(listener){\r\n    this.eventListeners.push(listener);\r\n};\r\n\r\nPanelContainer.prototype.removeListener = function(listener)\r\n{\r\n    this.eventListeners.splice(this.eventListeners.indexOf(listener), 1);\r\n};\r\n\r\nObject.defineProperty(PanelContainer.prototype, 'floatingDialog', {\r\n    get: function() { return this._floatingDialog; },\r\n    set: function(value)\r\n    {\r\n        this._floatingDialog = value;\r\n        var canUndock = (this._floatingDialog === undefined);\r\n        this.undockInitiator.enabled = canUndock;\r\n    }\r\n});\r\n\r\nPanelContainer.loadFromState = function(state, dockManager)\r\n{\r\n    var elementName = state.element;\r\n    var elementContent = document.getElementById(elementName);\r\n    if(elementContent === null) {\r\n        return null;\r\n    }\r\n    var ret = new PanelContainer(elementContent, dockManager);\r\n    ret.loadState(state);\r\n    return ret;\r\n};\r\n\r\nPanelContainer.prototype.saveState = function(state)\r\n{\r\n    state.element = this.elementContent.id;\r\n    state.width = this.width;\r\n    state.height = this.height;\r\n};\r\n\r\nPanelContainer.prototype.loadState = function(state)\r\n{\r\n    this.width = state.width;\r\n    this.height = state.height;\r\n    this.state = {width: state.width, height: state.height};\r\n    // this.resize(this.width, this.height);\r\n};\r\n\r\nPanelContainer.prototype.setActiveChild = function(/*child*/)\r\n{\r\n};\r\n\r\nObject.defineProperty(PanelContainer.prototype, 'containerElement', {\r\n    get: function() { return this.elementPanel; }\r\n});\r\n\r\nPanelContainer.prototype._initialize = function()\r\n{\r\n    this.name = utils.getNextId('panel_');\r\n    this.elementPanel = document.createElement('div');\r\n    this.elementTitle = document.createElement('div');\r\n    this.elementTitleText = document.createElement('div');\r\n    this.elementContentHost = document.createElement('div');\r\n    this.elementButtonClose = document.createElement('div');\r\n\r\n    this.elementPanel.appendChild(this.elementTitle);\r\n    this.elementTitle.appendChild(this.elementTitleText);\r\n    this.elementTitle.appendChild(this.elementButtonClose);\r\n    this.elementButtonClose.innerHTML = '<i class=\"fa fa-times\"></i>';\r\n    this.elementButtonClose.classList.add('panel-titlebar-button-close');\r\n    this.elementPanel.appendChild(this.elementContentHost);\r\n\r\n    this.elementPanel.classList.add('panel-base');\r\n    this.elementTitle.classList.add('panel-titlebar');\r\n    this.elementTitle.classList.add('disable-selection');\r\n    this.elementTitleText.classList.add('panel-titlebar-text');\r\n    this.elementContentHost.classList.add('panel-content');\r\n\r\n    // set the size of the dialog elements based on the panel's size\r\n    var panelWidth = this.elementContent.clientWidth;\r\n    var panelHeight = this.elementContent.clientHeight;\r\n    var titleHeight = this.elementTitle.clientHeight;\r\n    this._setPanelDimensions(panelWidth, panelHeight + titleHeight);\r\n\r\n    // Add the panel to the body\r\n    document.body.appendChild(this.elementPanel);\r\n\r\n    this.closeButtonClickedHandler =\r\n        new EventHandler(this.elementButtonClose, 'click', this.onCloseButtonClicked.bind(this));\r\n\r\n    utils.removeNode(this.elementContent);\r\n    this.elementContentHost.appendChild(this.elementContent);\r\n\r\n    // Extract the title from the content element's attribute\r\n    var contentTitle = this.elementContent.dataset.panelCaption;\r\n    var contentIcon = this.elementContent.dataset.panelIcon;\r\n    if (contentTitle) this.title = contentTitle;\r\n    if (contentIcon) this.iconName = contentIcon;\r\n    this._updateTitle();\r\n\r\n    this.undockInitiator = new UndockInitiator(this.elementTitle, this.performUndockToDialog.bind(this));\r\n    delete this.floatingDialog;\r\n};\r\n\r\n\r\nPanelContainer.prototype.hideCloseButton = function(state){\r\n     this.elementButtonClose.style.display = state ? 'none' : 'block';\r\n     this.eventListeners.forEach(function(listener) {\r\n        if (listener.onHideCloseButton) {\r\n            listener.onHideCloseButton({self: this, state: state});\r\n        }\r\n    });\r\n};\r\n\r\n\r\nPanelContainer.prototype.destroy = function()\r\n{\r\n    utils.removeNode(this.elementPanel);\r\n    if (this.closeButtonClickedHandler)\r\n    {\r\n        this.closeButtonClickedHandler.cancel();\r\n        delete this.closeButtonClickedHandler;\r\n    }\r\n};\r\n\r\n/**\r\n * Undocks the panel and and converts it to a dialog box\r\n */\r\nPanelContainer.prototype.performUndockToDialog = function(e, dragOffset)\r\n{\r\n     this.isDialog = true;\r\n    this.undockInitiator.enabled = false;\r\n    return this.dockManager.requestUndockToDialog(this, e, dragOffset);\r\n};\r\n\r\n/**\r\n * Undocks the container and from the layout hierarchy\r\n * The container would be removed from the DOM\r\n */\r\nPanelContainer.prototype.performUndock = function()\r\n{\r\n\r\n    this.undockInitiator.enabled = false;\r\n    this.dockManager.requestUndock(this);\r\n};\r\n\r\nPanelContainer.prototype.prepareForDocking = function()\r\n{\r\n    this.isDialog = false;\r\n    this.undockInitiator.enabled = this.canUndock;\r\n};\r\n\r\nObject.defineProperty(PanelContainer.prototype, 'width', {\r\n    get: function() { return this._cachedWidth; },\r\n    set: function(value)\r\n    {\r\n        if (value !== this._cachedWidth)\r\n        {\r\n            this._cachedWidth = value;\r\n            this.elementPanel.style.width = value + 'px';\r\n        }\r\n    }\r\n});\r\n\r\nObject.defineProperty(PanelContainer.prototype, 'height', {\r\n    get: function() { return this._cachedHeight; },\r\n    set: function(value)\r\n    {\r\n        if (value !== this._cachedHeight)\r\n        {\r\n            this._cachedHeight = value;\r\n            this.elementPanel.style.height = value + 'px';\r\n        }\r\n    }\r\n});\r\n\r\nPanelContainer.prototype.resize = function(width,  height)\r\n{\r\n    // if (this._cachedWidth === width && this._cachedHeight === height)\r\n    // {\r\n    //     // Already in the desired size\r\n    //     return;\r\n    // }\r\n    this._setPanelDimensions(width, height);\r\n    this._cachedWidth = width;\r\n    this._cachedHeight = height;\r\n    try {\r\n        if (this.elementContent != undefined && (typeof this.elementContent.resizeHandler == 'function'))\r\n            this.elementContent.resizeHandler(width, height - this.elementTitle.clientHeight);\r\n    } catch (err) {\r\n        console.log(\"error calling resizeHandler:\", err, \" elt:\", this.elementContent);\r\n    }\r\n};\r\n\r\nPanelContainer.prototype._setPanelDimensions = function(width, height)\r\n{\r\n    this.elementTitle.style.width = width + 'px';\r\n    this.elementContentHost.style.width = width + 'px';\r\n    this.elementContent.style.width = width + 'px';\r\n    this.elementPanel.style.width = width + 'px';\r\n\r\n    var titleBarHeight = this.elementTitle.clientHeight;\r\n    var contentHeight = height - titleBarHeight;\r\n    this.elementContentHost.style.height = contentHeight + 'px';\r\n    this.elementContent.style.height = contentHeight + 'px';\r\n    this.elementPanel.style.height = height + 'px';\r\n};\r\n\r\nPanelContainer.prototype.setTitle = function(title)\r\n{\r\n    this.title = title;\r\n    this._updateTitle();\r\n    if (this.onTitleChanged)\r\n        this.onTitleChanged(this, title);\r\n};\r\n\r\nPanelContainer.prototype.setTitleIcon = function(iconName)\r\n{\r\n    this.iconName = iconName;\r\n    this._updateTitle();\r\n    if (this.onTitleChanged)\r\n        this.onTitleChanged(this, this.title);\r\n};\r\n\r\nPanelContainer.prototype.setTitleIconTemplate = function(iconTemplate)\r\n{\r\n    this.iconTemplate = iconTemplate;\r\n    this._updateTitle();\r\n    if (this.onTitleChanged)\r\n        this.onTitleChanged(this, this.title);\r\n};\r\n\r\nPanelContainer.prototype.setCloseIconTemplate = function(closeIconTemplate)\r\n{\r\n    this.elementButtonClose.innerHTML = closeIconTemplate();\r\n};\r\n\r\nPanelContainer.prototype._updateTitle = function()\r\n{\r\n    if(this.iconTemplate !== null)\r\n    {\r\n        this.elementTitleText.innerHTML = this.iconTemplate(this.iconName) + this.title;\r\n        return;\r\n    }\r\n    this.elementTitleText.innerHTML = '<i class=\"' + this.iconName + '\"></i> ' + this.title;\r\n};\r\n\r\nPanelContainer.prototype.getRawTitle = function()\r\n{\r\n    return this.elementTitleText.innerHTML;\r\n};\r\n\r\nPanelContainer.prototype.performLayout = function(/*children*/)\r\n{\r\n};\r\n\r\nPanelContainer.prototype.onCloseButtonClicked = function()\r\n{\r\n   this.close();\r\n};\r\n\r\nPanelContainer.prototype.close = function() {\r\n     //TODO: hide\r\n    if (this.isDialog) {\r\n        this.floatingDialog.hide();\r\n\r\n        this.floatingDialog.setPosition(this.dockManager.defaultDialogPosition.x, this.dockManager.defaultDialogPosition.y);\r\n    }\r\n    else\r\n    {\r\n        this.performUndockToDialog();\r\n        this.floatingDialog.hide();\r\n        this.floatingDialog.setPosition(this.dockManager.defaultDialogPosition.x, this.dockManager.defaultDialogPosition.y);\r\n    }\r\n     this.dockManager.notifyOnClosePanel(this);\r\n};\r\n","var SplitterPanel = require('../splitter/SplitterPanel');\r\n\r\nfunction SplitterDockContainer(name, dockManager, childContainers)\r\n{\r\n    // for prototype inheritance purposes only\r\n    if (arguments.length === 0) {\r\n        return;\r\n    }\r\n\r\n    this.name = name;\r\n    this.dockManager = dockManager;\r\n    this.splitterPanel = new SplitterPanel(childContainers, this.stackedVertical);\r\n    this.containerElement = this.splitterPanel.panelElement;\r\n    this.minimumAllowedChildNodes = 2;\r\n}\r\n\r\nmodule.exports = SplitterDockContainer;\r\n\r\nSplitterDockContainer.prototype.resize = function(width, height)\r\n{\r\n//    if (_cachedWidth === _cachedWidth && _cachedHeight === _height) {\r\n//      // No need to resize\r\n//      return;\r\n//    }\r\n    this.splitterPanel.resize(width, height);\r\n    this._cachedWidth = width;\r\n    this._cachedHeight = height;\r\n};\r\n\r\nSplitterDockContainer.prototype.performLayout = function(childContainers)\r\n{\r\n    this.splitterPanel.performLayout(childContainers);\r\n};\r\n\r\nSplitterDockContainer.prototype.setActiveChild = function(/*child*/)\r\n{\r\n};\r\n\r\nSplitterDockContainer.prototype.destroy = function()\r\n{\r\n    this.splitterPanel.destroy();\r\n};\r\n\r\n/**\r\n * Sets the percentage of space the specified [container] takes in the split panel\r\n * The percentage is specified in [ratio] and is between 0..1\r\n */\r\nSplitterDockContainer.prototype.setContainerRatio = function(container, ratio)\r\n{\r\n    this.splitterPanel.setContainerRatio(container, ratio);\r\n    this.resize(this.width, this.height);\r\n};\r\n\r\nSplitterDockContainer.prototype.saveState = function(state)\r\n{\r\n    state.width = this.width;\r\n    state.height = this.height;\r\n};\r\n\r\nSplitterDockContainer.prototype.loadState = function(state)\r\n{\r\n    this.state = {width: state.width, height: state.height};\r\n    // this.resize(state.width, state.height);\r\n};\r\n\r\nObject.defineProperty(SplitterDockContainer.prototype, 'width', {\r\n    get: function()\r\n    {\r\n        if (this._cachedWidth === undefined)\r\n            this._cachedWidth = this.splitterPanel.panelElement.clientWidth;\r\n        return this._cachedWidth;\r\n    }\r\n});\r\n\r\nObject.defineProperty(SplitterDockContainer.prototype, 'height', {\r\n    get: function()\r\n    {\r\n        if (this._cachedHeight === undefined)\r\n            this._cachedHeight = this.splitterPanel.panelElement.clientHeight;\r\n        return this._cachedHeight;\r\n    }\r\n});\r\n","var SplitterDockContainer = require('./SplitterDockContainer'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction VerticalDockContainer(dockManager, childContainers)\r\n{\r\n    this.stackedVertical = true;\r\n    SplitterDockContainer.call(this, utils.getNextId('vertical_splitter_'), dockManager, childContainers);\r\n    this.containerType = 'vertical';\r\n}\r\n\r\nVerticalDockContainer.prototype = Object.create(SplitterDockContainer.prototype);\r\nVerticalDockContainer.prototype.constructor = VerticalDockContainer;\r\nmodule.exports = VerticalDockContainer;\r\n","var EventHandler = require('../utils/EventHandler'),\r\n    Point = require('../utils/Point'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction DraggableContainer(dialog, delegate, topLevelElement, dragHandle)\r\n{\r\n    this.dialog = dialog;\r\n    this.delegate = delegate;\r\n    this.containerElement = delegate.containerElement;\r\n    this.dockManager = delegate.dockManager;\r\n    this.topLevelElement = topLevelElement;\r\n    this.containerType = delegate.containerType;\r\n    this.mouseDownHandler = new EventHandler(dragHandle, 'mousedown', this.onMouseDown.bind(this));\r\n    this.topLevelElement.style.marginLeft = topLevelElement.offsetLeft + 'px';\r\n    this.topLevelElement.style.marginTop = topLevelElement.offsetTop + 'px';\r\n    this.minimumAllowedChildNodes = delegate.minimumAllowedChildNodes;\r\n}\r\n\r\nmodule.exports = DraggableContainer;\r\n\r\nDraggableContainer.prototype.destroy = function()\r\n{\r\n    this.removeDecorator();\r\n    this.delegate.destroy();\r\n};\r\n\r\nDraggableContainer.prototype.saveState = function(state)\r\n{\r\n    this.delegate.saveState(state);\r\n};\r\n\r\nDraggableContainer.prototype.loadState = function(state)\r\n{\r\n    this.delegate.loadState(state);\r\n};\r\n\r\nDraggableContainer.prototype.setActiveChild = function(/*child*/)\r\n{\r\n};\r\n\r\nObject.defineProperty(DraggableContainer.prototype, 'width', {\r\n    get: function() { return this.delegate.width; }\r\n});\r\n\r\nObject.defineProperty(DraggableContainer.prototype, 'height', {\r\n    get: function() { return this.delegate.height; }\r\n});\r\n\r\nDraggableContainer.prototype.name = function(value)\r\n{\r\n    if (value)\r\n        this.delegate.name = value;\r\n    return this.delegate.name;\r\n};\r\n\r\nDraggableContainer.prototype.resize = function(width, height)\r\n{\r\n    this.delegate.resize(width, height);\r\n};\r\n\r\nDraggableContainer.prototype.performLayout = function(children)\r\n{\r\n    this.delegate.performLayout(children);\r\n};\r\n\r\nDraggableContainer.prototype.removeDecorator = function()\r\n{\r\n    if (this.mouseDownHandler)\r\n    {\r\n        this.mouseDownHandler.cancel();\r\n        delete this.mouseDownHandler;\r\n    }\r\n};\r\n\r\nDraggableContainer.prototype.onMouseDown = function(event)\r\n{\r\n    this._startDragging(event);\r\n    this.previousMousePosition = { x: event.pageX, y: event.pageY };\r\n    if (this.mouseMoveHandler)\r\n    {\r\n        this.mouseMoveHandler.cancel();\r\n        delete this.mouseMoveHandler;\r\n    }\r\n    if (this.mouseUpHandler)\r\n    {\r\n        this.mouseUpHandler.cancel();\r\n        delete this.mouseUpHandler;\r\n    }\r\n\r\n    this.mouseMoveHandler = new EventHandler(window, 'mousemove', this.onMouseMove.bind(this));\r\n    this.mouseUpHandler = new EventHandler(window, 'mouseup', this.onMouseUp.bind(this));\r\n};\r\n\r\nDraggableContainer.prototype.onMouseUp = function(event)\r\n{\r\n    this._stopDragging(event);\r\n    this.mouseMoveHandler.cancel();\r\n    delete this.mouseMoveHandler;\r\n    this.mouseUpHandler.cancel();\r\n    delete this.mouseUpHandler;\r\n};\r\n\r\nDraggableContainer.prototype._startDragging = function(event)\r\n{\r\n    if (this.dialog.eventListener)\r\n        this.dialog.eventListener.onDialogDragStarted(this.dialog, event);\r\n    document.body.classList.add('disable-selection');\r\n};\r\n\r\nDraggableContainer.prototype._stopDragging = function(event)\r\n{\r\n    if (this.dialog.eventListener)\r\n        this.dialog.eventListener.onDialogDragEnded(this.dialog, event);\r\n    document.body.classList.remove('disable-selection');\r\n};\r\n\r\nDraggableContainer.prototype.onMouseMove = function(event)\r\n{\r\n    var currentMousePosition = new Point(event.pageX, event.pageY);\r\n\r\n    var dx = this.dockManager.checkXBounds(this.topLevelElement, currentMousePosition, this.previousMousePosition);\r\n    var dy = this.dockManager.checkYBounds(this.topLevelElement, currentMousePosition, this.previousMousePosition);\r\n    this._performDrag(dx, dy);\r\n    this.previousMousePosition = currentMousePosition;\r\n};\r\n\r\nDraggableContainer.prototype._performDrag = function(dx, dy)\r\n{\r\n    var left = dx + utils.getPixels(this.topLevelElement.style.marginLeft);\r\n    var top = dy + utils.getPixels(this.topLevelElement.style.marginTop);\r\n    this.topLevelElement.style.marginLeft = left + 'px';\r\n    this.topLevelElement.style.marginTop = top + 'px';\r\n};\r\n","var EventHandler = require('../utils/EventHandler'),\r\n    Point = require('../utils/Point'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * Decorates a dock container with resizer handles around its base element\r\n * This enables the container to be resized from all directions\r\n */\r\nfunction ResizableContainer(dialog, delegate, topLevelElement)\r\n{\r\n    this.dialog = dialog;\r\n    this.delegate = delegate;\r\n    this.containerElement = delegate.containerElement;\r\n    this.dockManager = delegate.dockManager;\r\n    this.topLevelElement = topLevelElement;\r\n    this.containerType = delegate.containerType;\r\n    this.topLevelElement.style.marginLeft = this.topLevelElement.offsetLeft + 'px';\r\n    this.topLevelElement.style.marginTop = this.topLevelElement.offsetTop + 'px';\r\n    this.minimumAllowedChildNodes = delegate.minimumAllowedChildNodes;\r\n    this._buildResizeHandles();\r\n    this.readyToProcessNextResize = true;\r\n}\r\n\r\nmodule.exports = ResizableContainer;\r\n\r\nResizableContainer.prototype.setActiveChild = function(/*child*/)\r\n{\r\n};\r\n\r\nResizableContainer.prototype._buildResizeHandles = function()\r\n{\r\n    this.resizeHandles = [];\r\n//    this._buildResizeHandle(true, false, true, false); // Dont need the corner resizer near the close button\r\n    this._buildResizeHandle(false, true, true, false);\r\n    this._buildResizeHandle(true, false, false, true);\r\n    this._buildResizeHandle(false, true, false, true);\r\n\r\n    this._buildResizeHandle(true, false, false, false);\r\n    this._buildResizeHandle(false, true, false, false);\r\n    this._buildResizeHandle(false, false, true, false);\r\n    this._buildResizeHandle(false, false, false, true);\r\n};\r\n\r\nResizableContainer.prototype._buildResizeHandle = function(east, west, north, south)\r\n{\r\n    var handle = new ResizeHandle();\r\n    handle.east = east;\r\n    handle.west = west;\r\n    handle.north = north;\r\n    handle.south = south;\r\n\r\n    // Create an invisible div for the handle\r\n    handle.element = document.createElement('div');\r\n    this.topLevelElement.appendChild(handle.element);\r\n\r\n    // Build the class name for the handle\r\n    var verticalClass = '';\r\n    var horizontalClass = '';\r\n    if (north) verticalClass = 'n';\r\n    if (south) verticalClass = 's';\r\n    if (east) horizontalClass = 'e';\r\n    if (west) horizontalClass = 'w';\r\n    var cssClass = 'resize-handle-' + verticalClass + horizontalClass;\r\n    if (verticalClass.length > 0 && horizontalClass.length > 0)\r\n        handle.corner = true;\r\n\r\n    handle.element.classList.add(handle.corner ? 'resize-handle-corner' : 'resize-handle');\r\n    handle.element.classList.add(cssClass);\r\n    this.resizeHandles.push(handle);\r\n\r\n    var self = this;\r\n    handle.mouseDownHandler = new EventHandler(handle.element, 'mousedown', function(e) { self.onMouseDown(handle, e); });\r\n};\r\n\r\nResizableContainer.prototype.saveState = function(state)\r\n{\r\n    this.delegate.saveState(state);\r\n};\r\n\r\nResizableContainer.prototype.loadState = function(state)\r\n{\r\n    this.delegate.loadState(state);\r\n};\r\n\r\nObject.defineProperty(ResizableContainer.prototype, 'width', {\r\n    get: function() { return this.delegate.width; }\r\n});\r\n\r\nObject.defineProperty(ResizableContainer.prototype, 'height', {\r\n    get: function() { return this.delegate.height; }\r\n});\r\n\r\nResizableContainer.prototype.name = function(value)\r\n{\r\n    if (value)\r\n        this.delegate.name = value;\r\n    return this.delegate.name;\r\n};\r\n\r\nResizableContainer.prototype.resize = function(width, height)\r\n{\r\n    this.delegate.resize(width, height);\r\n    this._adjustResizeHandles(width, height);\r\n};\r\n\r\nResizableContainer.prototype._adjustResizeHandles = function(width, height)\r\n{\r\n    var self = this;\r\n    this.resizeHandles.forEach(function(handle) {\r\n        handle.adjustSize(self.topLevelElement, width, height);\r\n    });\r\n};\r\n\r\nResizableContainer.prototype.performLayout = function(children)\r\n{\r\n    this.delegate.performLayout(children);\r\n};\r\n\r\nResizableContainer.prototype.destroy = function()\r\n{\r\n    this.removeDecorator();\r\n    this.delegate.destroy();\r\n};\r\n\r\nResizableContainer.prototype.removeDecorator = function()\r\n{\r\n};\r\n\r\nResizableContainer.prototype.onMouseMoved = function(handle, e)\r\n{\r\n    if (!this.readyToProcessNextResize)\r\n        return;\r\n    this.readyToProcessNextResize = false;\r\n\r\n//    window.requestLayoutFrame(() {\r\n    this.dockManager.suspendLayout();\r\n    var currentMousePosition = new Point(e.pageX, e.pageY);\r\n    var dx = this.dockManager.checkXBounds(this.topLevelElement, currentMousePosition, this.previousMousePosition);\r\n    var dy = this.dockManager.checkYBounds(this.topLevelElement, currentMousePosition, this.previousMousePosition);\r\n    this._performDrag(handle, dx, dy);\r\n    this.previousMousePosition = currentMousePosition;\r\n    this.readyToProcessNextResize = true;\r\n    if(this.dialog.panel)\r\n        this.dockManager.resumeLayout(this.dialog.panel);\r\n};\r\n\r\nResizableContainer.prototype.onMouseDown = function(handle, event)\r\n{\r\n    this.previousMousePosition = new Point(event.pageX, event.pageY);\r\n    if (handle.mouseMoveHandler)\r\n    {\r\n        handle.mouseMoveHandler.cancel();\r\n        delete handle.mouseMoveHandler;\r\n    }\r\n    if (handle.mouseUpHandler)\r\n    {\r\n        handle.mouseUpHandler.cancel();\r\n        delete handle.mouseUpHandler;\r\n    }\r\n\r\n    // Create the mouse event handlers\r\n    var self = this;\r\n    handle.mouseMoveHandler = new EventHandler(window, 'mousemove', function(e) { self.onMouseMoved(handle, e); });\r\n    handle.mouseUpHandler = new EventHandler(window, 'mouseup', function(e) { self.onMouseUp(handle, e); });\r\n\r\n    document.body.classList.add('disable-selection');\r\n};\r\n\r\nResizableContainer.prototype.onMouseUp = function(handle)\r\n{\r\n    handle.mouseMoveHandler.cancel();\r\n    handle.mouseUpHandler.cancel();\r\n    delete handle.mouseMoveHandler;\r\n    delete handle.mouseUpHandler;\r\n\r\n    document.body.classList.remove('disable-selection');\r\n};\r\n\r\nResizableContainer.prototype._performDrag = function(handle, dx, dy)\r\n{\r\n    var bounds = {};\r\n    bounds.left = utils.getPixels(this.topLevelElement.style.marginLeft);\r\n    bounds.top = utils.getPixels(this.topLevelElement.style.marginTop);\r\n    bounds.width = this.topLevelElement.clientWidth;\r\n    bounds.height = this.topLevelElement.clientHeight;\r\n\r\n    if (handle.east) this._resizeEast(dx, bounds);\r\n    if (handle.west) this._resizeWest(dx, bounds);\r\n    if (handle.north) this._resizeNorth(dy, bounds);\r\n    if (handle.south) this._resizeSouth(dy, bounds);\r\n};\r\n\r\nResizableContainer.prototype._resizeWest = function(dx, bounds)\r\n{\r\n    this._resizeContainer(dx, 0, -dx, 0, bounds);\r\n};\r\n\r\nResizableContainer.prototype._resizeEast = function(dx, bounds)\r\n{\r\n    this._resizeContainer(0, 0, dx, 0, bounds);\r\n};\r\n\r\nResizableContainer.prototype._resizeNorth = function(dy, bounds)\r\n{\r\n    this._resizeContainer(0, dy, 0, -dy, bounds);\r\n};\r\n\r\nResizableContainer.prototype._resizeSouth = function(dy, bounds)\r\n{\r\n    this._resizeContainer(0, 0, 0, dy, bounds);\r\n};\r\n\r\nResizableContainer.prototype._resizeContainer = function(leftDelta, topDelta, widthDelta, heightDelta, bounds)\r\n{\r\n    bounds.left += leftDelta;\r\n    bounds.top += topDelta;\r\n    bounds.width += widthDelta;\r\n    bounds.height += heightDelta;\r\n\r\n    var minWidth = 50;  // TODO: Move to external configuration\r\n    var minHeight = 50;  // TODO: Move to external configuration\r\n    bounds.width = Math.max(bounds.width, minWidth);\r\n    bounds.height = Math.max(bounds.height, minHeight);\r\n\r\n    this.topLevelElement.style.marginLeft = bounds.left + 'px';\r\n    this.topLevelElement.style.marginTop = bounds.top + 'px';\r\n\r\n    this.resize(bounds.width, bounds.height);\r\n};\r\n\r\n\r\nfunction ResizeHandle()\r\n{\r\n    this.element = undefined;\r\n    this.handleSize = 6;   // TODO: Get this from DOM\r\n    this.cornerSize = 12;  // TODO: Get this from DOM\r\n    this.east = false;\r\n    this.west = false;\r\n    this.north = false;\r\n    this.south = false;\r\n    this.corner = false;\r\n}\r\n\r\nResizeHandle.prototype.adjustSize = function(container, clientWidth, clientHeight)\r\n{\r\n    if (this.corner)\r\n    {\r\n        if (this.west) this.element.style.left = '0px';\r\n        if (this.east) this.element.style.left = (clientWidth - this.cornerSize) + 'px';\r\n        if (this.north) this.element.style.top = '0px';\r\n        if (this.south) this.element.style.top = (clientHeight - this.cornerSize) + 'px';\r\n    }\r\n    else\r\n    {\r\n        if (this.west)\r\n        {\r\n            this.element.style.left = '0px';\r\n            this.element.style.top = this.cornerSize + 'px';\r\n        }\r\n        if (this.east) {\r\n            this.element.style.left = (clientWidth - this.handleSize) + 'px';\r\n            this.element.style.top = this.cornerSize + 'px';\r\n        }\r\n        if (this.north) {\r\n            this.element.style.left = this.cornerSize + 'px';\r\n            this.element.style.top = '0px';\r\n        }\r\n        if (this.south) {\r\n            this.element.style.left = this.cornerSize + 'px';\r\n            this.element.style.top = (clientHeight - this.handleSize) + 'px';\r\n        }\r\n\r\n        if (this.west || this.east) {\r\n            this.element.style.height = (clientHeight - this.cornerSize * 2) + 'px';\r\n        } else {\r\n            this.element.style.width = (clientWidth - this.cornerSize * 2) + 'px';\r\n        }\r\n    }\r\n};\r\n","var PanelContainer = require('../containers/PanelContainer'),\r\n    DraggableContainer = require('../decorators/DraggableContainer'),\r\n    ResizableContainer = require('../decorators/ResizableContainer'),\r\n    EventHandler = require('../utils/EventHandler'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction Dialog(panel, dockManager)\r\n{\r\n    this.panel = panel;\r\n    this.zIndexCounter = 100;\r\n    this.dockManager = dockManager;\r\n    this.eventListener = dockManager;\r\n    this._initialize();\r\n    this.dockManager.context.model.dialogs.push(this);\r\n        this.position = dockManager.defaultDialogPosition;\r\n\r\n    this.dockManager.notifyOnCreateDialog(this);\r\n}\r\n\r\nmodule.exports = Dialog;\r\n\r\nDialog.prototype.saveState = function(x, y){\r\n    this.position = {x: x, y: y};\r\n    this.dockManager.notifyOnChangeDialogPosition(this, x, y);\r\n};\r\n\r\nDialog.fromElement = function(id, dockManager)\r\n{\r\n    return new Dialog(new PanelContainer(document.getElementById(id), dockManager), dockManager);\r\n};\r\n\r\nDialog.prototype._initialize = function()\r\n{\r\n    this.panel.floatingDialog = this;\r\n    this.elementDialog = document.createElement('div');\r\n    this.elementDialog.appendChild(this.panel.elementPanel);\r\n    this.draggable = new DraggableContainer(this, this.panel, this.elementDialog, this.panel.elementTitle);\r\n    this.resizable = new ResizableContainer(this, this.draggable, this.draggable.topLevelElement);\r\n\r\n    document.body.appendChild(this.elementDialog);\r\n    this.elementDialog.classList.add('dialog-floating');\r\n    this.elementDialog.classList.add('rounded-corner-top');\r\n    this.panel.elementTitle.classList.add('rounded-corner-top');\r\n\r\n    this.mouseDownHandler = new EventHandler(this.elementDialog, 'mousedown', this.onMouseDown.bind(this));\r\n    this.resize(this.panel.elementPanel.clientWidth, this.panel.elementPanel.clientHeight);\r\n    this.isHidden = false;\r\n    this.bringToFront();\r\n};\r\n\r\nDialog.prototype.setPosition = function(x, y)\r\n{\r\n    this.position = {x: x, y: y};\r\n    this.elementDialog.style.left = x + 'px';\r\n    this.elementDialog.style.top = y + 'px';\r\n    this.dockManager.notifyOnChangeDialogPosition(this, x, y);\r\n};\r\n\r\nDialog.prototype.getPosition = function()\r\n{\r\n    return {\r\n        left: this.position ? this.position.x : 0,\r\n        top: this.position ? this.position.y : 0\r\n    };\r\n};\r\n\r\nDialog.prototype.onMouseDown = function()\r\n{\r\n    this.bringToFront();\r\n};\r\n\r\nDialog.prototype.destroy = function()\r\n{\r\n    if (this.mouseDownHandler)\r\n    {\r\n        this.mouseDownHandler.cancel();\r\n        delete this.mouseDownHandler;\r\n    }\r\n    this.elementDialog.classList.remove('rounded-corner-top');\r\n    this.panel.elementTitle.classList.remove('rounded-corner-top');\r\n    utils.removeNode(this.elementDialog);\r\n    this.draggable.removeDecorator();\r\n    utils.removeNode(this.panel.elementPanel);\r\n     this.dockManager.context.model.dialogs.remove(this);\r\n    delete this.panel.floatingDialog;\r\n};\r\n\r\nDialog.prototype.resize = function(width, height)\r\n{\r\n    this.resizable.resize(width, height);\r\n};\r\n\r\nDialog.prototype.setTitle = function(title)\r\n{\r\n    this.panel.setTitle(title);\r\n};\r\n\r\nDialog.prototype.setTitleIcon = function(iconName)\r\n{\r\n    this.panel.setTitleIcon(iconName);\r\n};\r\n\r\nDialog.prototype.bringToFront = function()\r\n{\r\n    this.elementDialog.style.zIndex = this.zIndexCounter++;\r\n};\r\n\r\nDialog.prototype.hide = function()\r\n{\r\n    this.elementDialog.style.zIndex = 0;\r\n    this.elementDialog.style.display = 'none';\r\n     if(!this.isHidden)\r\n    {\r\n        this.isHidden = true;\r\n        this.dockManager.notifyOnHideDialog(this);\r\n    }\r\n};\r\n\r\nDialog.prototype.show = function()\r\n{\r\n    this.elementDialog.style.zIndex = 100;\r\n    this.elementDialog.style.display = 'block';\r\n    if(this.isHidden)\r\n    {\r\n        this.isHidden = false;\r\n        this.dockManager.notifyOnShowDialog(this);\r\n    }\r\n};\r\n","var DockNode = require('./DockNode'),\r\n    HorizontalDockContainer = require('../containers/HorizontalDockContainer'),\r\n    VerticalDockContainer = require('../containers/VerticalDockContainer'),\r\n    FillDockContainer = require('../containers/FillDockContainer'),\r\n    Rectangle = require('../utils/Rectangle'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction DockLayoutEngine(dockManager)\r\n{\r\n    this.dockManager = dockManager;\r\n}\r\n\r\nmodule.exports = DockLayoutEngine;\r\n\r\n/** docks the [newNode] to the left of [referenceNode] */\r\nDockLayoutEngine.prototype.dockLeft = function(referenceNode, newNode)\r\n{\r\n    this._performDock(referenceNode, newNode, 'horizontal', true);\r\n};\r\n\r\n/** docks the [newNode] to the right of [referenceNode] */\r\nDockLayoutEngine.prototype.dockRight = function(referenceNode, newNode) {\r\n    this._performDock(referenceNode, newNode, 'horizontal', false);\r\n};\r\n\r\n/** docks the [newNode] to the top of [referenceNode] */\r\nDockLayoutEngine.prototype.dockUp = function(referenceNode, newNode) {\r\n    this._performDock(referenceNode, newNode, 'vertical', true);\r\n};\r\n\r\n/** docks the [newNode] to the bottom of [referenceNode] */\r\nDockLayoutEngine.prototype.dockDown = function(referenceNode, newNode) {\r\n    this._performDock(referenceNode, newNode, 'vertical', false);\r\n};\r\n\r\n/** docks the [newNode] by creating a new tab inside [referenceNode] */\r\nDockLayoutEngine.prototype.dockFill = function(referenceNode, newNode) {\r\n    this._performDock(referenceNode, newNode, 'fill', false);\r\n};\r\n\r\nDockLayoutEngine.prototype.undock = function(node)\r\n{\r\n    var parentNode = node.parent;\r\n    if (!parentNode)\r\n        throw new Error('Cannot undock.  panel is not a leaf node');\r\n\r\n    // Get the position of the node relative to it's siblings\r\n    var siblingIndex = parentNode.children.indexOf(node);\r\n\r\n    // Detach the node from the dock manager's tree hierarchy\r\n    node.detachFromParent();\r\n\r\n    // Fix the node's parent hierarchy\r\n    if (parentNode.children.length < parentNode.container.minimumAllowedChildNodes) {\r\n        // If the child count falls below the minimum threshold, destroy the parent and merge\r\n        // the children with their grandparents\r\n        var grandParent = parentNode.parent;\r\n        for (var i = 0; i < parentNode.children.length; i++)\r\n        {\r\n            var otherChild = parentNode.children[i];\r\n            if (grandParent)\r\n            {\r\n                // parent node is not a root node\r\n                grandParent.addChildAfter(parentNode, otherChild);\r\n                parentNode.detachFromParent();\r\n                var width =parentNode.container.containerElement.clientWidth;\r\n                var height = parentNode.container.containerElement.clientHeight;\r\n                parentNode.container.destroy();\r\n\r\n                otherChild.container.resize(width, height);\r\n                grandParent.performLayout();\r\n            }\r\n            else\r\n            {\r\n                // Parent is a root node.\r\n                // Make the other child the root node\r\n                parentNode.detachFromParent();\r\n                parentNode.container.destroy();\r\n                this.dockManager.setRootNode(otherChild);\r\n            }\r\n        }\r\n    }\r\n    else\r\n    {\r\n        // the node to be removed has 2 or more other siblings. So it is safe to continue\r\n        // using the parent composite container.\r\n        parentNode.performLayout();\r\n\r\n        // Set the next sibling as the active child (e.g. for a Tab host, it would select it as the active tab)\r\n        if (parentNode.children.length > 0)\r\n        {\r\n            var nextActiveSibling = parentNode.children[Math.max(0, siblingIndex - 1)];\r\n            parentNode.container.setActiveChild(nextActiveSibling.container);\r\n        }\r\n    }\r\n    this.dockManager.invalidate();\r\n\r\n\tthis.dockManager.notifyOnUnDock(node);\r\n};\r\n\r\nDockLayoutEngine.prototype.reorderTabs = function(node, handle, state, index){\r\n    var N = node.children.length;\r\n    var nodeIndexToDelete  = state === 'left' ? index : index + 1;\r\n    if (state == 'right' && nodeIndexToDelete >= node.children.length)\r\n        return;\r\n    if (state == 'left' && nodeIndexToDelete == 0)\r\n        return;\r\n\r\n    var indexes = Array.apply(null, {length: N}).map(Number.call, Number);\r\n    var indexValue = indexes.splice(nodeIndexToDelete, 1)[0]; //remove element\r\n    indexes.splice(state === 'left' ? index - 1 : index, 0, indexValue); //insert\r\n\r\n    node.children = node.children.orderByIndexes(indexes); //apply\r\n    node.container.tabHost.performTabsLayout(indexes);\r\n    this.dockManager.notifyOnTabsReorder(node);\r\n};\r\n\r\nDockLayoutEngine.prototype._performDock = function(referenceNode, newNode, direction, insertBeforeReference)\r\n{\r\n    if (referenceNode.parent && referenceNode.parent.container.containerType === 'fill')\r\n        referenceNode = referenceNode.parent;\r\n\r\n    if (direction === 'fill' && referenceNode.container.containerType === 'fill')\r\n    {\r\n        referenceNode.addChild(newNode);\r\n        referenceNode.performLayout();\r\n        referenceNode.container.setActiveChild(newNode.container);\r\n        this.dockManager.invalidate();\r\n        this.dockManager.notifyOnDock(newNode);\r\n        return;\r\n    }\r\n\r\n    // Check if reference node is root node\r\n    var model = this.dockManager.context.model,\r\n        compositeContainer,\r\n        compositeNode,\r\n        referenceParent;\r\n\r\n    if (referenceNode === model.rootNode)\r\n    {\r\n        compositeContainer = this._createDockContainer(direction, newNode, referenceNode);\r\n        compositeNode = new DockNode(compositeContainer);\r\n\r\n        if (insertBeforeReference)\r\n        {\r\n            compositeNode.addChild(newNode);\r\n            compositeNode.addChild(referenceNode);\r\n        }\r\n        else\r\n        {\r\n            compositeNode.addChild(referenceNode);\r\n            compositeNode.addChild(newNode);\r\n        }\r\n\r\n        // Attach the root node to the dock manager's DOM\r\n\t\tthis.dockManager.setRootNode(compositeNode);\r\n        this.dockManager.rebuildLayout(this.dockManager.context.model.rootNode);\r\n        compositeNode.container.setActiveChild(newNode.container);\r\n        this.dockManager.invalidate();\r\n        this.dockManager.notifyOnDock(newNode);\r\n        return;\r\n    }\r\n\r\n    if (referenceNode.parent.container.containerType !== direction) {\r\n        referenceParent = referenceNode.parent;\r\n\r\n        // Get the dimensions of the reference node, for resizing later on\r\n        var referenceNodeWidth = referenceNode.container.containerElement.clientWidth;\r\n        var referenceNodeHeight = referenceNode.container.containerElement.clientHeight;\r\n\r\n        // Get the dimensions of the reference node, for resizing later on\r\n        var referenceNodeParentWidth = referenceParent.container.containerElement.clientWidth;\r\n        var referenceNodeParentHeight = referenceParent.container.containerElement.clientHeight;\r\n\r\n        // Replace the reference node with a new composite node with the reference and new node as it's children\r\n        compositeContainer = this._createDockContainer(direction, newNode, referenceNode);\r\n        compositeNode = new DockNode(compositeContainer);\r\n\r\n        referenceParent.addChildAfter(referenceNode, compositeNode);\r\n        referenceNode.detachFromParent();\r\n        utils.removeNode(referenceNode.container.containerElement);\r\n\r\n        if (insertBeforeReference)\r\n        {\r\n            compositeNode.addChild(newNode);\r\n            compositeNode.addChild(referenceNode);\r\n        }\r\n        else\r\n        {\r\n            compositeNode.addChild(referenceNode);\r\n            compositeNode.addChild(newNode);\r\n        }\r\n\r\n        referenceParent.performLayout();\r\n        compositeNode.performLayout();\r\n\r\n        compositeNode.container.setActiveChild(newNode.container);\r\n        compositeNode.container.resize(referenceNodeWidth, referenceNodeHeight);\r\n        referenceParent.container.resize(referenceNodeParentWidth, referenceNodeParentHeight);\r\n    }\r\n    else\r\n    {\r\n        // Add as a sibling, since the parent of the reference node is of the right composite type\r\n        referenceParent = referenceNode.parent;\r\n        if (insertBeforeReference)\r\n            referenceParent.addChildBefore(referenceNode, newNode);\r\n        else\r\n            referenceParent.addChildAfter(referenceNode, newNode);\r\n        referenceParent.performLayout();\r\n        referenceParent.container.setActiveChild(newNode.container);\r\n    }\r\n\r\n    // force resize the panel\r\n    var containerWidth = newNode.container.containerElement.clientWidth;\r\n    var containerHeight = newNode.container.containerElement.clientHeight;\r\n    newNode.container.resize(containerWidth, containerHeight);\r\n\r\n    this.dockManager.invalidate();\r\n\tthis.dockManager.notifyOnDock(newNode);\r\n};\r\n\r\nDockLayoutEngine.prototype._forceResizeCompositeContainer = function(container)\r\n{\r\n    var width = container.containerElement.clientWidth;\r\n    var height = container.containerElement.clientHeight;\r\n    container.resize(width, height);\r\n};\r\n\r\nDockLayoutEngine.prototype._createDockContainer = function(containerType, newNode, referenceNode)\r\n{\r\n    if (containerType === 'horizontal')\r\n        return new HorizontalDockContainer(this.dockManager, [newNode.container, referenceNode.container]);\r\n    if (containerType === 'vertical')\r\n        return new VerticalDockContainer(this.dockManager, [newNode.container, referenceNode.container]);\r\n    if (containerType === 'fill')\r\n        return new FillDockContainer(this.dockManager);\r\n    throw new Error('Failed to create dock container of type: ' + containerType);\r\n};\r\n\r\n\r\n/**\r\n * Gets the bounds of the new node if it were to dock with the specified configuration\r\n * The state is not modified in this function.  It is used for showing a preview of where\r\n * the panel would be docked when hovered over a dock wheel button\r\n */\r\nDockLayoutEngine.prototype.getDockBounds = function(referenceNode, containerToDock, direction, insertBeforeReference)\r\n{\r\n    var compositeNode; // The node that contains the splitter / fill node\r\n    var childCount;\r\n    var childPosition;\r\n    var bounds;\r\n\r\n    if (direction === 'fill')\r\n    {\r\n        // Since this is a fill operation, the highlight bounds is the same as the reference node\r\n        // TODO: Create a tab handle highlight to show that it's going to be docked in a tab\r\n        var targetElement = referenceNode.container.containerElement;\r\n        bounds = new Rectangle();\r\n        bounds.x = targetElement.offsetLeft;\r\n        bounds.y = targetElement.offsetTop;\r\n        bounds.width = targetElement.clientWidth;\r\n        bounds.height= targetElement.clientHeight;\r\n        return bounds;\r\n    }\r\n\r\n    if (referenceNode.parent && referenceNode.parent.container.containerType === 'fill')\r\n        // Ignore the fill container's child and move one level up\r\n        referenceNode = referenceNode.parent;\r\n\r\n    // Flag to indicate of the renference node was replaced with a new composite node with 2 children\r\n    var hierarchyModified = false;\r\n    if (referenceNode.parent && referenceNode.parent.container.containerType === direction) {\r\n        // The parent already is of the desired composite type.  Will be inserted as sibling to the reference node\r\n        compositeNode = referenceNode.parent;\r\n        childCount = compositeNode.children.length;\r\n        childPosition = compositeNode.children.indexOf(referenceNode) + (insertBeforeReference ? 0 : 1);\r\n    } else {\r\n        // The reference node will be replaced with a new composite node of the desired type with 2 children\r\n        compositeNode = referenceNode;\r\n        childCount = 1;   // The newly inserted composite node will contain the reference node\r\n        childPosition = (insertBeforeReference ? 0 : 1);\r\n        hierarchyModified = true;\r\n    }\r\n\r\n    var splitBarSize = 5;  // TODO: Get from DOM\r\n    var targetPanelSize = 0;\r\n    var targetPanelStart = 0;\r\n    if (direction === 'vertical' || direction === 'horizontal')\r\n    {\r\n        // Existing size of the composite container (without the splitter bars).\r\n        // This will also be the final size of the composite (splitter / fill)\r\n        // container after the new panel has been docked\r\n        var compositeSize = this._getVaringDimension(compositeNode.container, direction) - (childCount - 1) * splitBarSize;\r\n\r\n        // size of the newly added panel\r\n        var newPanelOriginalSize = this._getVaringDimension(containerToDock, direction);\r\n        var scaleMultiplier = compositeSize / (compositeSize + newPanelOriginalSize);\r\n\r\n        // Size of the panel after it has been docked and scaled\r\n        targetPanelSize = newPanelOriginalSize * scaleMultiplier;\r\n        if (hierarchyModified)\r\n            targetPanelStart = insertBeforeReference ? 0 : compositeSize * scaleMultiplier;\r\n        else\r\n        {\r\n            for (var i = 0; i < childPosition; i++)\r\n                targetPanelStart += this._getVaringDimension(compositeNode.children[i].container, direction);\r\n            targetPanelStart *= scaleMultiplier;\r\n        }\r\n    }\r\n\r\n    bounds = new Rectangle();\r\n    if (direction === 'vertical')\r\n    {\r\n        bounds.x = compositeNode.container.containerElement.offsetLeft;\r\n        bounds.y = compositeNode.container.containerElement.offsetTop + targetPanelStart;\r\n        bounds.width = compositeNode.container.width;\r\n        bounds.height = targetPanelSize;\r\n    } else if (direction === 'horizontal') {\r\n        bounds.x = compositeNode.container.containerElement.offsetLeft + targetPanelStart;\r\n        bounds.y = compositeNode.container.containerElement.offsetTop;\r\n        bounds.width = targetPanelSize;\r\n        bounds.height = compositeNode.container.height;\r\n    }\r\n\r\n    return bounds;\r\n};\r\n\r\nDockLayoutEngine.prototype._getVaringDimension = function(container, direction)\r\n{\r\n    if (direction === 'vertical')\r\n        return container.height;\r\n    if (direction === 'horizontal')\r\n        return container.width;\r\n    return 0;\r\n};\r\n","var DockManagerContext = require('./DockManagerContext'),\r\n    DockNode = require('./DockNode'),\r\n    DockWheel = require('./DockWheel'),\r\n    DockLayoutEngine = require('./DockLayoutEngine'),\r\n    Dialog = require('../dialog/Dialog'),\r\n    DockGraphSerializer = require('../serialization/DockGraphSerializer'),\r\n    DockGraphDeserializer = require('../serialization/DockGraphDeserializer'),\r\n    EventHandler = require('../utils/EventHandler'),\r\n    Point = require('../utils/Point'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * Dock manager manages all the dock panels in a hierarchy, similar to visual studio.\r\n * It owns a Html Div element inside which all panels are docked\r\n * Initially the document manager takes up the central space and acts as the root node\r\n */\r\n\r\nfunction DockManager(element)\r\n{\r\n    if (element === undefined)\r\n        throw new Error('Invalid Dock Manager element provided');\r\n\r\n    this.element = element;\r\n    this.context = this.dockWheel = this.layoutEngine = this.mouseMoveHandler = undefined;\r\n    this.layoutEventListeners = [];\r\n\r\n    this.defaultDialogPosition = new Point(0, 0);\r\n}\r\n\r\nmodule.exports = DockManager;\r\n\r\nDockManager.prototype.initialize = function()\r\n{\r\n    this.context = new DockManagerContext(this);\r\n    var documentNode = new DockNode(this.context.documentManagerView);\r\n    this.context.model.rootNode = documentNode;\r\n    this.context.model.documentManagerNode = documentNode;\r\n    this.context.model.dialogs = [];\r\n    this.setRootNode(this.context.model.rootNode);\r\n    // Resize the layout\r\n    this.resize(this.element.clientWidth, this.element.clientHeight);\r\n    this.dockWheel = new DockWheel(this);\r\n    this.layoutEngine = new DockLayoutEngine(this);\r\n    this._undockEnabled = true;\r\n    this.rebuildLayout(this.context.model.rootNode);\r\n};\r\n\r\nDockManager.prototype.checkXBounds = function(container, currentMousePosition, previousMousePosition){\r\n    var dx = Math.floor(currentMousePosition.x - previousMousePosition.x);\r\n    var leftBounds = currentMousePosition.x + dx < 0 || (container.offsetLeft + container.offsetWidth + dx - 40 ) < 0;\r\n    var rightBounds =\r\n        currentMousePosition.x + dx > this.element.offsetWidth ||\r\n        (container.offsetLeft + dx + 40) > this.element.offsetWidth;\r\n\r\n    if (leftBounds || rightBounds)\r\n    {\r\n        previousMousePosition.x = currentMousePosition.x;\r\n        dx = 0;\r\n    }\r\n\r\n    return dx;\r\n};\r\n\r\nDockManager.prototype.checkYBounds = function(container, currentMousePosition, previousMousePosition){\r\n    var dy = Math.floor(currentMousePosition.y - previousMousePosition.y);\r\n    var topBounds = container.offsetTop + dy < this.element.offsetTop;\r\n    var bottomBounds =\r\n        currentMousePosition.y + dy > this.element.offsetHeight ||\r\n        (container.offsetTop + dy > this.element.offsetHeight + this.element.offsetTop - 20);\r\n\r\n    if (topBounds || bottomBounds)\r\n    {\r\n        previousMousePosition.y = currentMousePosition.y;\r\n        dy = 0;\r\n    }\r\n\r\n    return dy;\r\n};\r\n\r\nDockManager.prototype.rebuildLayout = function(node)\r\n{\r\n    var self = this;\r\n    node.children.forEach(function(child) {\r\n        self.rebuildLayout(child);\r\n    });\r\n    node.performLayout();\r\n};\r\n\r\nDockManager.prototype.invalidate = function()\r\n{\r\n    this.resize(this.element.clientWidth, this.element.clientHeight);\r\n};\r\n\r\nDockManager.prototype.resize = function(width, height)\r\n{\r\n    this.element.style.width = width + 'px';\r\n    this.element.style.height = height + 'px';\r\n    this.context.model.rootNode.container.resize(width, height);\r\n};\r\n\r\n/**\r\n * Reset the dock model . This happens when the state is loaded from json\r\n */\r\nDockManager.prototype.setModel = function(model)\r\n{\r\n    utils.removeNode(this.context.documentManagerView.containerElement);\r\n    this.context.model = model;\r\n    this.setRootNode(model.rootNode);\r\n\r\n    this.rebuildLayout(model.rootNode);\r\n    this.loadResize(model.rootNode);\r\n    // this.invalidate();\r\n};\r\n\r\nDockManager.prototype.loadResize = function(node)\r\n{\r\n    var self = this;\r\n    node.children.reverse().forEach(function(child) {\r\n    self.loadResize(child);\r\n     node.container.setActiveChild(child.container);\r\n    });\r\n    node.children.reverse();\r\n    node.container.resize(node.container.state.width, node.container.state.height);\r\n\r\n    // node.performLayout();\r\n};\r\n\r\nDockManager.prototype.setRootNode = function(node)\r\n{\r\n    // if (this.context.model.rootNode)\r\n    // {\r\n    //     // detach it from the dock manager's base element\r\n    //     context.model.rootNode.detachFromParent();\r\n    // }\r\n\r\n    // Attach the new node to the dock manager's base element and set as root node\r\n    node.detachFromParent();\r\n    this.context.model.rootNode = node;\r\n    this.element.appendChild(node.container.containerElement);\r\n};\r\n\r\n\r\nDockManager.prototype.onDialogDragStarted = function(sender, e)\r\n{\r\n    this.dockWheel.activeNode = this._findNodeOnPoint(e.pageX, e.pageY);\r\n    this.dockWheel.activeDialog = sender;\r\n    this.dockWheel.showWheel();\r\n    if (this.mouseMoveHandler)\r\n    {\r\n        this.mouseMoveHandler.cancel();\r\n        delete this.mouseMoveHandler;\r\n    }\r\n    this.mouseMoveHandler = new EventHandler(window, 'mousemove', this.onMouseMoved.bind(this));\r\n};\r\n\r\nDockManager.prototype.onDialogDragEnded = function(sender)\r\n{\r\n    if (this.mouseMoveHandler)\r\n    {\r\n        this.mouseMoveHandler.cancel();\r\n        delete this.mouseMoveHandler;\r\n    }\r\n    this.dockWheel.onDialogDropped(sender);\r\n    this.dockWheel.hideWheel();\r\n    delete this.dockWheel.activeDialog;\r\n    //TODO: not so good\r\n    sender.saveState(sender.elementDialog.offsetLeft, sender.elementDialog.offsetTop);\r\n};\r\n\r\nDockManager.prototype.onMouseMoved = function(e)\r\n{\r\n    this.dockWheel.activeNode = this._findNodeOnPoint(e.clientX, e.clientY);\r\n};\r\n\r\n/**\r\n * Perform a DFS on the dock model's tree to find the\r\n * deepest level panel (i.e. the top-most non-overlapping panel)\r\n * that is under the mouse cursor\r\n * Retuns null if no node is found under this point\r\n */\r\nDockManager.prototype._findNodeOnPoint = function(x, y)\r\n{\r\n    var stack = [];\r\n    stack.push(this.context.model.rootNode);\r\n    var bestMatch;\r\n\r\n    while (stack.length > 0)\r\n    {\r\n        var topNode = stack.pop();\r\n\r\n        if (utils.isPointInsideNode(x, y, topNode))\r\n        {\r\n            // This node contains the point.\r\n            bestMatch = topNode;\r\n\r\n            // Keep looking future down\r\n            [].push.apply(stack, topNode.children);\r\n        }\r\n    }\r\n    return bestMatch;\r\n};\r\n\r\n/** Dock the [dialog] to the left of the [referenceNode] node */\r\nDockManager.prototype.dockDialogLeft = function(referenceNode, dialog)\r\n{\r\n    return this._requestDockDialog(referenceNode, dialog, this.layoutEngine.dockLeft.bind(this.layoutEngine));\r\n};\r\n\r\n/** Dock the [dialog] to the right of the [referenceNode] node */\r\nDockManager.prototype.dockDialogRight = function(referenceNode, dialog)\r\n{\r\n    return this._requestDockDialog(referenceNode, dialog, this.layoutEngine.dockRight.bind(this.layoutEngine));\r\n};\r\n\r\n/** Dock the [dialog] above the [referenceNode] node */\r\nDockManager.prototype.dockDialogUp = function(referenceNode, dialog)\r\n{\r\n    return this._requestDockDialog(referenceNode, dialog, this.layoutEngine.dockUp.bind(this.layoutEngine));\r\n};\r\n\r\n/** Dock the [dialog] below the [referenceNode] node */\r\nDockManager.prototype.dockDialogDown = function(referenceNode, dialog)\r\n{\r\n    return this._requestDockDialog(referenceNode, dialog, this.layoutEngine.dockDown.bind(this.layoutEngine));\r\n};\r\n\r\n/** Dock the [dialog] as a tab inside the [referenceNode] node */\r\nDockManager.prototype.dockDialogFill = function(referenceNode, dialog)\r\n{\r\n    return this._requestDockDialog(referenceNode, dialog, this.layoutEngine.dockFill.bind(this.layoutEngine));\r\n};\r\n\r\n/** Dock the [container] to the left of the [referenceNode] node */\r\nDockManager.prototype.dockLeft = function(referenceNode, container, ratio)\r\n{\r\n    return this._requestDockContainer(referenceNode, container, this.layoutEngine.dockLeft.bind(this.layoutEngine), ratio);\r\n};\r\n\r\n/** Dock the [container] to the right of the [referenceNode] node */\r\nDockManager.prototype.dockRight = function(referenceNode,  container, ratio)\r\n{\r\n    return this._requestDockContainer(referenceNode, container, this.layoutEngine.dockRight.bind(this.layoutEngine), ratio);\r\n};\r\n\r\n/** Dock the [container] above the [referenceNode] node */\r\nDockManager.prototype.dockUp = function(referenceNode,  container, ratio)\r\n{\r\n    return this._requestDockContainer(referenceNode, container, this.layoutEngine.dockUp.bind(this.layoutEngine), ratio);\r\n};\r\n\r\n/** Dock the [container] below the [referenceNode] node */\r\nDockManager.prototype.dockDown = function(referenceNode,  container, ratio)\r\n{\r\n    return this._requestDockContainer(referenceNode, container, this.layoutEngine.dockDown.bind(this.layoutEngine), ratio);\r\n};\r\n\r\n/** Dock the [container] as a tab inside the [referenceNode] node */\r\nDockManager.prototype.dockFill = function(referenceNode, container)\r\n{\r\n    return this._requestDockContainer(referenceNode, container, this.layoutEngine.dockFill.bind(this.layoutEngine));\r\n};\r\nDockManager.prototype.floatDialog = function(container, x, y)\r\n{\r\n    var retdiag = undefined;\r\n\r\n    //check the dialog do not already exist\r\n    this.context.model.dialogs.forEach(function(dialog) {\r\n        if (container == dialog.panel) {\r\n            dialog.show();\r\n            dialog.setPosition(x, y);\r\n            retdiag = dialog;\r\n        }\r\n    });\r\n    if (retdiag)\r\n        return retdiag;\r\n    //try to undock just in case\r\n    try {\r\n        var node = this._findNodeFromContainer(container);\r\n        this.layoutEngine.undock(node);\r\n    } catch (err) {}\r\n\r\n    var panel = container;\r\n    utils.removeNode(panel.elementPanel);\r\n    panel.isDialog = true;\r\n    var dialog = new Dialog(panel, this);\r\n    dialog.setPosition(x, y);\r\n    return dialog;\r\n};\r\n\r\nDockManager.prototype._requestDockDialog = function(referenceNode, dialog, layoutDockFunction)\r\n{\r\n    // Get the active dialog that was dragged on to the dock wheel\r\n    var panel = dialog.panel;\r\n    var newNode = new DockNode(panel);\r\n    panel.prepareForDocking();\r\n    dialog.destroy();\r\n    layoutDockFunction(referenceNode, newNode);\r\n    // this.invalidate();\r\n    return newNode;\r\n};\r\n\r\nDockManager.prototype._requestDockContainer = function(referenceNode, container, layoutDockFunction, ratio)\r\n{\r\n    // Get the active dialog that was dragged on to the dock wheel\r\n    var newNode = new DockNode(container);\r\n    if (container.containerType === 'panel')\r\n    {\r\n        var panel = container;\r\n        panel.prepareForDocking();\r\n        utils.removeNode(panel.elementPanel);\r\n    }\r\n    layoutDockFunction(referenceNode, newNode);\r\n\r\n    if (ratio && newNode.parent &&\r\n        (newNode.parent.container.containerType === 'vertical' || newNode.parent.container.containerType === 'horizontal'))\r\n    {\r\n        var splitter = newNode.parent.container;\r\n        splitter.setContainerRatio(container, ratio);\r\n    }\r\n\r\n    this.rebuildLayout(this.context.model.rootNode);\r\n    this.invalidate();\r\n    return newNode;\r\n};\r\n\r\nDockManager.prototype._requestTabReorder = function(container, e){\r\n    var node = this._findNodeFromContainer(container);\r\n     this.layoutEngine.reorderTabs(node, e.handle, e.state, e.index);\r\n};\r\n\r\n/**\r\n * Undocks a panel and converts it into a floating dialog window\r\n * It is assumed that only leaf nodes (panels) can be undocked\r\n */\r\nDockManager.prototype.requestUndockToDialog = function(container, event, dragOffset)\r\n{\r\n    var node = this._findNodeFromContainer(container);\r\n    this.layoutEngine.undock(node);\r\n\r\n    // Create a new dialog window for the undocked panel\r\n    var dialog = new Dialog(node.container, this);\r\n\r\n    if(event !== undefined){\r\n    // Adjust the relative position\r\n        var dialogWidth = dialog.elementDialog.clientWidth;\r\n        if (dragOffset.x > dialogWidth)\r\n            dragOffset.x = 0.75 * dialogWidth;\r\n        dialog.setPosition(\r\n            event.clientX - dragOffset.x,\r\n            event.clientY - dragOffset.y);\r\n        dialog.draggable.onMouseDown(event);\r\n    }\r\n    return dialog;\r\n};\r\n\r\n/** Undocks a panel and converts it into a floating dialog window\r\n * It is assumed that only leaf nodes (panels) can be undocked\r\n */\r\nDockManager.prototype.requestUndock = function(container)\r\n{\r\n    var node = this._findNodeFromContainer(container);\r\n    this.layoutEngine.undock(node);\r\n};\r\n\r\n/**\r\n * Removes a dock container from the dock layout hierarcy\r\n * Returns the node that was removed from the dock tree\r\n */\r\nDockManager.prototype.requestRemove = function(container)\r\n{\r\n    var node = this._findNodeFromContainer(container);\r\n    var parent = node.parent;\r\n    node.detachFromParent();\r\n    if (parent)\r\n        this.rebuildLayout(parent);\r\n    return node;\r\n};\r\n\r\n/** Finds the node that owns the specified [container] */\r\nDockManager.prototype._findNodeFromContainer = function(container)\r\n{\r\n    //this.context.model.rootNode.debugDumpTree();\r\n\r\n    var stack = [];\r\n    stack.push(this.context.model.rootNode);\r\n\r\n    while (stack.length > 0)\r\n    {\r\n        var topNode = stack.pop();\r\n\r\n        if (topNode.container === container)\r\n            return topNode;\r\n        [].push.apply(stack, topNode.children);\r\n    }\r\n\r\n    throw new Error('Cannot find dock node belonging to the element');\r\n};\r\n\r\nDockManager.prototype.findNodeFromContainerElement = function(containerElm) {\r\n    //this.context.model.rootNode.debugDumpTree();\r\n\r\n    var stack = [];\r\n    stack.push(this.context.model.rootNode);\r\n\r\n    while (stack.length > 0)\r\n    {\r\n        var topNode = stack.pop();\r\n\r\n        if (topNode.container.containerElement === containerElm)\r\n            return topNode;\r\n        [].push.apply(stack, topNode.children);\r\n    }\r\n\r\n    throw new Error('Cannot find dock node belonging to the element');\r\n};\r\n\r\nDockManager.prototype.addLayoutListener = function(listener)\r\n{\r\n    this.layoutEventListeners.push(listener);\r\n};\r\n\r\nDockManager.prototype.removeLayoutListener = function(listener)\r\n{\r\n    this.layoutEventListeners.splice(this.layoutEventListeners.indexOf(listener), 1);\r\n};\r\n\r\nDockManager.prototype.suspendLayout = function()\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n\t\tif (listener.onSuspendLayout) listener.onSuspendLayout(self);\r\n\t});\r\n};\r\n\r\nDockManager.prototype.resumeLayout = function(panel)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n\t\tif (listener.onResumeLayout) listener.onResumeLayout(self, panel);\r\n\t});\r\n};\r\n\r\nDockManager.prototype.notifyOnDock = function(dockNode)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n\t\tif (listener.onDock) {\r\n\t\t\tlistener.onDock(self, dockNode);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nDockManager.prototype.notifyOnTabsReorder = function(dockNode)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n        if (listener.onTabsReorder) {\r\n            listener.onTabsReorder(self, dockNode);\r\n        }\r\n    });\r\n};\r\n\r\n\r\nDockManager.prototype.notifyOnUnDock = function(dockNode)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n\t\tif (listener.onUndock) {\r\n\t\t\tlistener.onUndock(self, dockNode);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nDockManager.prototype.notifyOnClosePanel = function(panel)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n        if (listener.onClosePanel) {\r\n            listener.onClosePanel(self, panel);\r\n        }\r\n    });\r\n};\r\n\r\n\r\nDockManager.prototype.notifyOnCreateDialog = function(dialog)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n        if (listener.onCreateDialog) {\r\n            listener.onCreateDialog(self, dialog);\r\n        }\r\n    });\r\n};\r\n\r\nDockManager.prototype.notifyOnHideDialog = function(dialog)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n        if (listener.onHideDialog) {\r\n            listener.onHideDialog(self, dialog);\r\n        }\r\n    });\r\n};\r\n\r\n\r\nDockManager.prototype.notifyOnShowDialog = function(dialog)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n        if (listener.onShowDialog) {\r\n            listener.onShowDialog(self, dialog);\r\n        }\r\n    });\r\n};\r\n\r\n\r\nDockManager.prototype.notifyOnChangeDialogPosition = function(dialog, x, y)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n        if (listener.onChangeDialogPosition) {\r\n            listener.onChangeDialogPosition(self, dialog, x, y);\r\n        }\r\n    });\r\n};\r\n\r\nDockManager.prototype.notifyOnTabChange = function(tabpage)\r\n{\r\n    var self = this;\r\n    this.layoutEventListeners.forEach(function(listener) {\r\n        if (listener.onTabChanged) {\r\n            listener.onTabChanged(self, tabpage);\r\n        }\r\n    });\r\n};\r\n\r\nDockManager.prototype.saveState = function()\r\n{\r\n    var serializer = new DockGraphSerializer();\r\n    return serializer.serialize(this.context.model);\r\n};\r\n\r\nDockManager.prototype.loadState = function(json)\r\n{\r\n    var deserializer = new DockGraphDeserializer(this);\r\n    this.context.model = deserializer.deserialize(json);\r\n    this.setModel(this.context.model);\r\n};\r\n\r\nDockManager.prototype.getPanels = function()\r\n{\r\n    var panels = [];\r\n    //all visible nodes\r\n    this._allPanels(this.context.model.rootNode, panels);\r\n\r\n    //all visible or not dialogs\r\n    this.context.model.dialogs.forEach(function(dialog) {\r\n        //TODO: check visible\r\n        panels.push(dialog.panel);\r\n    });\r\n\r\n    return panels;\r\n};\r\n\r\nDockManager.prototype.undockEnabled = function(state)\r\n{\r\n    this._undockEnabled = state;\r\n    this.getPanels().forEach(function(panel){\r\n        panel.canUndock(state);\r\n    });\r\n};\r\n\r\nDockManager.prototype.lockDockState = function(state)\r\n{\r\n    this.undockEnabled(!state); // false - not enabled\r\n    this.hideCloseButton(state); //true - hide\r\n};\r\n\r\nDockManager.prototype.hideCloseButton = function(state)\r\n{\r\n    this.getPanels().forEach(function(panel){\r\n        panel.hideCloseButton(state);\r\n    });\r\n};\r\n\r\nDockManager.prototype.updatePanels = function(ids)\r\n{\r\n     var panels = [];\r\n    //all visible nodes\r\n    this._allPanels(this.context.model.rootNode, panels);\r\n    //only remove\r\n    panels.forEach(function(panel) {\r\n        if(!ids.contains(panel.elementContent.id)){\r\n           panel.close();\r\n       }\r\n    });\r\n\r\n    this.context.model.dialogs.forEach(function(dialog) {\r\n        if(ids.contains(dialog.panel.elementContent.id)){\r\n            dialog.show();\r\n        }\r\n        else{\r\n            dialog.hide();\r\n        }\r\n    });\r\n    return panels;\r\n};\r\n\r\nDockManager.prototype.getVisiblePanels = function()\r\n{\r\n    var panels = [];\r\n    //all visible nodes\r\n    this._allPanels(this.context.model.rootNode, panels);\r\n\r\n    //all visible\r\n    this.context.model.dialogs.forEach(function(dialog) {\r\n        if(!dialog.isHidden){\r\n            panels.push(dialog.panel);\r\n        }\r\n    });\r\n\r\n    return panels;\r\n};\r\n\r\nDockManager.prototype._allPanels = function(node, panels)\r\n{\r\n     var self = this;\r\n    node.children.forEach(function(child) {\r\n       self._allPanels(child, panels);\r\n    });\r\n    if (node.container.containerType === 'panel'){\r\n        panels.push(node.container);\r\n    }\r\n};\r\n\r\nDockManager.prototype.setCloseTabIconTemplate = function(template){\r\n    this.closeTabIconTemplate = template;\r\n};\r\n\r\n//typedef void LayoutEngineDockFunction(DockNode referenceNode, DockNode newNode);\r\n\r\n/**\r\n* The Dock Manager notifies the listeners of layout changes so client containers that have\r\n* costly layout structures can detach and reattach themself to avoid reflow\r\n*/\r\n//abstract class LayoutEventListener {\r\n//void onSuspendLayout(DockManager dockManager);\r\n//void onResumeLayout(DockManager dockManager);\r\n//}\r\n","var DockModel = require('./DockModel'),\r\n    DocumentManagerContainer = require('../containers/DocumentManagerContainer');\r\n\r\nfunction DockManagerContext(dockManager)\r\n{\r\n    this.dockManager = dockManager;\r\n    this.model = new DockModel();\r\n    this.documentManagerView = new DocumentManagerContainer(this.dockManager);\r\n}\r\n\r\nmodule.exports = DockManagerContext;\r\n","/**\r\n * The Dock Model contains the tree hierarchy that represents the state of the\r\n * panel placement within the dock manager.\r\n */\r\nfunction DockModel()\r\n{\r\n    this.rootNode = this.documentManagerNode = undefined;\r\n}\r\n\r\nmodule.exports = DockModel;\r\n","function DockNode(container)\r\n{\r\n    /** The dock container represented by this node */\r\n    this.container = container;\r\n    this.children = [];\r\n}\r\n\r\nmodule.exports = DockNode;\r\n\r\nDockNode.prototype.detachFromParent = function()\r\n{\r\n    if (this.parent)\r\n    {\r\n        this.parent.removeChild(this);\r\n        delete this.parent;\r\n    }\r\n};\r\n\r\nDockNode.prototype.removeChild = function(childNode)\r\n{\r\n    var index = this.children.indexOf(childNode);\r\n    if (index >= 0)\r\n        this.children.splice(index, 1);\r\n};\r\n\r\nDockNode.prototype.addChild = function(childNode)\r\n{\r\n    childNode.detachFromParent();\r\n    childNode.parent = this;\r\n    this.children.push(childNode);\r\n};\r\n\r\nDockNode.prototype.addChildBefore = function(referenceNode, childNode)\r\n{\r\n    this._addChildWithDirection(referenceNode, childNode, true);\r\n};\r\n\r\nDockNode.prototype.addChildAfter = function(referenceNode, childNode)\r\n{\r\n    this._addChildWithDirection(referenceNode, childNode, false);\r\n};\r\n\r\nDockNode.prototype._addChildWithDirection = function(referenceNode, childNode, before)\r\n{\r\n    // Detach this node from it's parent first\r\n    childNode.detachFromParent();\r\n    childNode.parent = this;\r\n\r\n    var referenceIndex = this.children.indexOf(referenceNode);\r\n    var preList = this.children.slice(0, referenceIndex);\r\n    var postList = this.children.slice(referenceIndex + 1, this.children.length);\r\n\r\n    this.children = preList.slice(0);\r\n    if (before)\r\n    {\r\n        this.children.push(childNode);\r\n        this.children.push(referenceNode);\r\n    }\r\n    else\r\n    {\r\n        this.children.push(referenceNode);\r\n        this.children.push(childNode);\r\n    }\r\n    Array.prototype.push.apply(this.children, postList);\r\n};\r\n\r\nDockNode.prototype.performLayout = function()\r\n{\r\n    var childContainers = this.children.map(function(childNode) { return childNode.container; });\r\n    this.container.performLayout(childContainers);\r\n};\r\n\r\nDockNode.prototype.debugDumpTree = function(indent)\r\n{\r\n    if (indent === undefined)\r\n        indent = 0;\r\n\r\n    var message = this.container.name;\r\n    for (var i = 0; i < indent; i++)\r\n        message = '\\t' + message;\r\n\r\n    var parentType = this.parent === undefined ? 'null' : this.parent.container.containerType;\r\n    console.log('>>' + message + ' [' + parentType + ']');\r\n\r\n    this.children.forEach(function(childNode) { childNode.debugDumpTree(indent + 1); });\r\n};\r\n","var DockWheelItem = require('./DockWheelItem'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * Manages the dock overlay buttons that are displayed over the dock manager\r\n */\r\nfunction DockWheel(dockManager)\r\n{\r\n    this.dockManager = dockManager;\r\n    this.elementMainWheel = document.createElement('div');    // Contains the main wheel's 5 dock buttons\r\n    this.elementSideWheel = document.createElement('div');    // Contains the 4 buttons on the side\r\n    this.wheelItems = {};\r\n    var wheelTypes = [\r\n        'left', 'right', 'top', 'down', 'fill',     // Main dock wheel buttons\r\n        'left-s', 'right-s', 'top-s', 'down-s'      // Buttons on the extreme 4 sides\r\n    ];\r\n    var self = this;\r\n    wheelTypes.forEach(function(wheelType)\r\n    {\r\n        self.wheelItems[wheelType] = new DockWheelItem(self, wheelType);\r\n        if (wheelType.substr(-2, 2) === '-s')\r\n            // Side button\r\n            self.elementSideWheel.appendChild(self.wheelItems[wheelType].element);\r\n        else\r\n            // Main dock wheel button\r\n            self.elementMainWheel.appendChild(self.wheelItems[wheelType].element);\r\n    });\r\n\r\n    var zIndex = 100000;\r\n    this.elementMainWheel.classList.add('dock-wheel-base');\r\n    this.elementSideWheel.classList.add('dock-wheel-base');\r\n    this.elementMainWheel.style.zIndex = zIndex + 1;\r\n    this.elementSideWheel.style.zIndex = zIndex;\r\n    this.elementPanelPreview = document.createElement('div');\r\n    this.elementPanelPreview.classList.add('dock-wheel-panel-preview');\r\n    this.elementPanelPreview.style.zIndex = zIndex - 1;\r\n    this.activeDialog = undefined;  // The dialog being dragged, when the wheel is visible\r\n    this._activeNode = undefined;\r\n    this._visible = false;\r\n}\r\n\r\nmodule.exports = DockWheel;\r\n\r\n/** The node over which the dock wheel is being displayed on */\r\nObject.defineProperty(DockWheel.prototype, 'activeNode', {\r\n    get: function() { return this._activeNode; },\r\n    set: function(value)\r\n    {\r\n        var previousValue = this._activeNode;\r\n        this._activeNode = value;\r\n\r\n        if (previousValue !== this._activeNode)\r\n        {\r\n            // The active node has been changed.\r\n            // Reattach the wheel to the new node's element and show it again\r\n            if (this._visible)\r\n                this.showWheel();\r\n        }\r\n    }\r\n});\r\n\r\nDockWheel.prototype.showWheel = function()\r\n{\r\n    this._visible = true;\r\n    if (!this.activeNode)\r\n    {\r\n        // No active node selected. make sure the wheel is invisible\r\n        utils.removeNode(this.elementMainWheel);\r\n        utils.removeNode(this.elementSideWheel);\r\n        return;\r\n    }\r\n    var element = this.activeNode.container.containerElement;\r\n    var containerWidth = element.clientWidth;\r\n    var containerHeight = element.clientHeight;\r\n    var baseX = Math.floor(containerWidth / 2) + element.offsetLeft;\r\n    var baseY = Math.floor(containerHeight / 2) + element.offsetTop;\r\n    this.elementMainWheel.style.left = baseX + 'px';\r\n    this.elementMainWheel.style.top = baseY + 'px';\r\n\r\n    // The positioning of the main dock wheel buttons is done automatically through CSS\r\n    // Dynamically calculate the positions of the buttons on the extreme sides of the dock manager\r\n    var sideMargin = 20;\r\n    var dockManagerWidth = this.dockManager.element.clientWidth;\r\n    var dockManagerHeight = this.dockManager.element.clientHeight;\r\n    // var dockManagerOffsetX = this.dockManager.element.offsetLeft;\r\n    // var dockManagerOffsetY = this.dockManager.element.offsetTop;\r\n\r\n    utils.removeNode(this.elementMainWheel);\r\n    utils.removeNode(this.elementSideWheel);\r\n    element.appendChild(this.elementMainWheel);\r\n    this.dockManager.element.appendChild(this.elementSideWheel);\r\n\r\n    this._setWheelButtonPosition('left-s',   sideMargin, -dockManagerHeight / 2);\r\n    this._setWheelButtonPosition('right-s',  dockManagerWidth - sideMargin * 2, -dockManagerHeight / 2);\r\n    this._setWheelButtonPosition('top-s',    dockManagerWidth / 2, -dockManagerHeight + sideMargin);\r\n    this._setWheelButtonPosition('down-s',   dockManagerWidth / 2, -sideMargin);\r\n};\r\n\r\nDockWheel.prototype._setWheelButtonPosition = function(wheelId, left, top)\r\n{\r\n    var item = this.wheelItems[wheelId];\r\n    var itemHalfWidth = item.element.clientWidth / 2;\r\n    var itemHalfHeight = item.element.clientHeight / 2;\r\n\r\n    var x = Math.floor(left - itemHalfWidth);\r\n    var y = Math.floor(top - itemHalfHeight);\r\n//    item.element.style.left = '${x}px';\r\n//    item.element.style.top = '${y}px';\r\n    item.element.style.marginLeft = x + 'px';\r\n    item.element.style.marginTop = y + 'px';\r\n};\r\n\r\nDockWheel.prototype.hideWheel = function()\r\n{\r\n    this._visible = false;\r\n    this.activeNode = undefined;\r\n    utils.removeNode(this.elementMainWheel);\r\n    utils.removeNode(this.elementSideWheel);\r\n    utils.removeNode(this.elementPanelPreview);\r\n\r\n    // deactivate all wheels\r\n    for (var wheelType in this.wheelItems)\r\n        this.wheelItems[wheelType].active = false;\r\n};\r\n\r\nDockWheel.prototype.onMouseOver = function(wheelItem)\r\n{\r\n    if (!this.activeDialog)\r\n        return;\r\n\r\n    // Display the preview panel to show where the panel would be docked\r\n    var rootNode = this.dockManager.context.model.rootNode;\r\n    var bounds;\r\n    if (wheelItem.id === 'top') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(this.activeNode, this.activeDialog.panel, 'vertical', true);\r\n    } else if (wheelItem.id === 'down') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(this.activeNode, this.activeDialog.panel, 'vertical', false);\r\n    } else if (wheelItem.id === 'left') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(this.activeNode, this.activeDialog.panel, 'horizontal', true);\r\n    } else if (wheelItem.id === 'right') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(this.activeNode, this.activeDialog.panel, 'horizontal', false);\r\n    } else if (wheelItem.id === 'fill') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(this.activeNode, this.activeDialog.panel, 'fill', false);\r\n    } else if (wheelItem.id === 'top-s') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(rootNode, this.activeDialog.panel, 'vertical', true);\r\n    } else if (wheelItem.id === 'down-s') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(rootNode, this.activeDialog.panel, 'vertical', false);\r\n    } else if (wheelItem.id === 'left-s') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(rootNode, this.activeDialog.panel, 'horizontal', true);\r\n    } else if (wheelItem.id === 'right-s') {\r\n        bounds = this.dockManager.layoutEngine.getDockBounds(rootNode, this.activeDialog.panel, 'horizontal', false);\r\n    }\r\n\r\n    if (bounds)\r\n    {\r\n        this.dockManager.element.appendChild(this.elementPanelPreview);\r\n        this.elementPanelPreview.style.left = Math.round(bounds.x) + 'px';\r\n        this.elementPanelPreview.style.top = Math.round(bounds.y) + 'px';\r\n        this.elementPanelPreview.style.width = Math.round(bounds.width) + 'px';\r\n        this.elementPanelPreview.style.height = Math.round(bounds.height) + 'px';\r\n    }\r\n};\r\n\r\nDockWheel.prototype.onMouseOut = function()\r\n{\r\n    utils.removeNode(this.elementPanelPreview);\r\n};\r\n\r\n/**\r\n * Called if the dialog is dropped in a dock panel.\r\n * The dialog might not necessarily be dropped in one of the dock wheel buttons,\r\n * in which case the request will be ignored\r\n */\r\nDockWheel.prototype.onDialogDropped = function(dialog)\r\n{\r\n    // Check if the dialog was dropped in one of the wheel items\r\n    var wheelItem = this._getActiveWheelItem();\r\n    if (wheelItem)\r\n        this._handleDockRequest(wheelItem, dialog);\r\n};\r\n\r\n/**\r\n * Returns the wheel item which has the mouse cursor on top of it\r\n */\r\nDockWheel.prototype._getActiveWheelItem = function()\r\n{\r\n    for (var wheelType in this.wheelItems)\r\n    {\r\n        var wheelItem = this.wheelItems[wheelType];\r\n        if (wheelItem.active)\r\n            return wheelItem;\r\n    }\r\n    return undefined;\r\n};\r\n\r\nDockWheel.prototype._handleDockRequest = function(wheelItem, dialog)\r\n{\r\n    if (!this.activeNode)\r\n        return;\r\n    if (wheelItem.id === 'left') {\r\n        this.dockManager.dockDialogLeft(this.activeNode, dialog);\r\n    } else if (wheelItem.id === 'right') {\r\n        this.dockManager.dockDialogRight(this.activeNode, dialog);\r\n    } else if (wheelItem.id === 'top') {\r\n        this.dockManager.dockDialogUp(this.activeNode, dialog);\r\n    } else if (wheelItem.id === 'down') {\r\n        this.dockManager.dockDialogDown(this.activeNode, dialog);\r\n    } else if (wheelItem.id === 'fill') {\r\n        this.dockManager.dockDialogFill(this.activeNode, dialog);\r\n    } else if (wheelItem.id === 'left-s') {\r\n        this.dockManager.dockDialogLeft(this.dockManager.context.model.rootNode, dialog);\r\n    } else if (wheelItem.id === 'right-s') {\r\n        this.dockManager.dockDialogRight(this.dockManager.context.model.rootNode, dialog);\r\n    } else if (wheelItem.id === 'top-s') {\r\n        this.dockManager.dockDialogUp(this.dockManager.context.model.rootNode, dialog);\r\n    } else if (wheelItem.id === 'down-s') {\r\n        this.dockManager.dockDialogDown(this.dockManager.context.model.rootNode, dialog);\r\n    }\r\n};\r\n\r\n","var EventHandler = require('../utils/EventHandler');\r\n\r\nfunction DockWheelItem(wheel, id)\r\n{\r\n    this.wheel = wheel;\r\n    this.id = id;\r\n    var wheelType = id.replace('-s', '');\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('dock-wheel-item');\r\n    this.element.classList.add('disable-selection');\r\n    this.element.classList.add('dock-wheel-' + wheelType);\r\n    this.element.classList.add('dock-wheel-' + wheelType + '-icon');\r\n    this.hoverIconClass = 'dock-wheel-' + wheelType + '-icon-hover';\r\n    this.mouseOverHandler = new EventHandler(this.element, 'mouseover', this.onMouseMoved.bind(this));\r\n    this.mouseOutHandler = new EventHandler(this.element, 'mouseout', this.onMouseOut.bind(this));\r\n    this.active = false;    // Becomes active when the mouse is hovered over it\r\n}\r\n\r\nmodule.exports = DockWheelItem;\r\n\r\nDockWheelItem.prototype.onMouseMoved = function(e)\r\n{\r\n    this.active = true;\r\n    this.element.classList.add(this.hoverIconClass);\r\n    this.wheel.onMouseOver(this, e);\r\n};\r\n\r\nDockWheelItem.prototype.onMouseOut = function(e)\r\n{\r\n    this.active = false;\r\n    this.element.classList.remove(this.hoverIconClass);\r\n    this.wheel.onMouseOut(this, e);\r\n};\r\n","var DockModel = require('../dock/DockModel'),\r\n    DockNode = require('../dock/DockNode'),\r\n    PanelContainer = require('../containers/PanelContainer'),\r\n    HorizontalDockContainer = require('../containers/HorizontalDockContainer'),\r\n    VerticalDockContainer = require('../containers/VerticalDockContainer'),\r\n    DocumentManagerContainer = require('../containers/DocumentManagerContainer'),\r\n    FillDockContainer = require('../containers/FillDockContainer'),\r\n    Dialog = require('../dialog/Dialog'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * Deserializes the dock layout hierarchy from JSON and creates a dock hierarhcy graph\r\n */\r\nfunction DockGraphDeserializer(dockManager)\r\n{\r\n    this.dockManager = dockManager;\r\n}\r\n\r\nmodule.exports = DockGraphDeserializer;\r\n\r\nDockGraphDeserializer.prototype.deserialize = function(_json)\r\n{\r\n    var info = JSON.parse(_json);\r\n    var model = new DockModel();\r\n    model.rootNode = this._buildGraph(info.graphInfo);\r\n    model.dialogs = this._buildDialogs(info.dialogsInfo);\r\n    return model;\r\n};\r\n\r\nDockGraphDeserializer.prototype._buildGraph = function(nodeInfo)\r\n{\r\n    var childrenInfo = nodeInfo.children;\r\n    var children = [];\r\n    var self = this;\r\n    childrenInfo.forEach(function(childInfo)\r\n    {\r\n        var childNode = self._buildGraph(childInfo);\r\n        if (childNode !== null) {\r\n            children.push(childNode);\r\n        }\r\n    });\r\n\r\n    // Build the container owned by this node\r\n    var container = this._createContainer(nodeInfo, children);\r\n    if(container === null) {\r\n        return null;\r\n    }\r\n    // Build the node for this container and attach it's children\r\n    var node = new DockNode(container);\r\n    node.children = children;\r\n    node.children.reverse().forEach(function(childNode) {\r\n        childNode.parent = node;\r\n    });\r\n    node.children.reverse();\r\n    // node.container.setActiveChild(node.container);\r\n    return node;\r\n};\r\n\r\nDockGraphDeserializer.prototype._createContainer = function(nodeInfo, children)\r\n{\r\n    var containerType = nodeInfo.containerType;\r\n    var containerState = nodeInfo.state;\r\n    var container;\r\n\r\n    var childContainers = [];\r\n    children.forEach(function(childNode) { childContainers.push(childNode.container); });\r\n\r\n\r\n    if (containerType === 'panel'){\r\n        container = new PanelContainer.loadFromState(containerState, this.dockManager);\r\n        if(!container.prepareForDocking)\r\n            return null;\r\n         container.prepareForDocking();\r\n         utils.removeNode(container.elementPanel);\r\n    }\r\n    else if (containerType === 'horizontal')\r\n        container = new HorizontalDockContainer(this.dockManager, childContainers);\r\n    else if (containerType === 'vertical')\r\n        container = new VerticalDockContainer(this.dockManager, childContainers);\r\n    else if (containerType === 'fill')\r\n    {\r\n        // Check if this is a document manager\r\n\r\n        // TODO: Layout engine compares the string 'fill', so cannot create another subclass type\r\n        // called document_manager and have to resort to this hack. use RTTI in layout engine\r\n        var typeDocumentManager = containerState.documentManager;\r\n        if (typeDocumentManager)\r\n            container = new DocumentManagerContainer(this.dockManager);\r\n        else\r\n            container = new FillDockContainer(this.dockManager);\r\n    }\r\n    else\r\n        throw new Error('Cannot create dock container of unknown type: ' + containerType);\r\n\r\n    // Restore the state of the container\r\n\r\n    container.loadState(containerState);\r\n\r\n    // container.performLayout(childContainers);\r\n    return container;\r\n};\r\n\r\nDockGraphDeserializer.prototype._buildDialogs = function(dialogsInfo)\r\n{\r\n    var dialogs = [];\r\n    var self = this;\r\n    dialogsInfo.forEach(function(dialogInfo) {\r\n        var containerType = dialogInfo.containerType;\r\n        var containerState = dialogInfo.state;\r\n        var container;\r\n        if (containerType === 'panel'){\r\n            container = new PanelContainer.loadFromState(containerState, self.dockManager);\r\n            if (container.prepareForDocking) {\r\n                utils.removeNode(container.elementPanel);\r\n                container.isDialog = true;\r\n                var dialog = new Dialog(container, self.dockManager);\r\n                if(dialogInfo.position.left > document.body.clientWidth ||\r\n                    dialogInfo.position.top > document.body.clientHeight - 70){\r\n                    dialogInfo.position.left = 20;\r\n                    dialogInfo.position.top = 70;\r\n                }\r\n                dialog.setPosition(dialogInfo.position.left, dialogInfo.position.top);\r\n                dialog.isHidden = dialogInfo.isHidden;\r\n                if(dialog.isHidden)\r\n                    dialog.hide();\r\n                dialogs.push(dialog);\r\n            }\r\n        }\r\n\r\n    });\r\n    return dialogs;\r\n};\r\n","/**\r\n * The serializer saves / loads the state of the dock layout hierarchy\r\n */\r\nfunction DockGraphSerializer() {}\r\n\r\nmodule.exports = DockGraphSerializer;\r\n\r\nDockGraphSerializer.prototype.serialize = function(model)\r\n{\r\n    var graphInfo = this._buildGraphInfo(model.rootNode);\r\n    var dialogs = this._buildDialogsInfo(model.dialogs);\r\n    return JSON.stringify({graphInfo: graphInfo, dialogsInfo: dialogs});\r\n};\r\n\r\nDockGraphSerializer.prototype._buildGraphInfo = function(node)\r\n{\r\n    var nodeState = {};\r\n    node.container.saveState(nodeState);\r\n\r\n    var childrenInfo = [];\r\n    var self = this;\r\n    node.children.forEach(function(childNode) {\r\n        childrenInfo.push(self._buildGraphInfo(childNode));\r\n    });\r\n\r\n    var nodeInfo = {};\r\n    nodeInfo.containerType = node.container.containerType;\r\n    nodeInfo.state = nodeState;\r\n    nodeInfo.children = childrenInfo;\r\n    return nodeInfo;\r\n};\r\n\r\nDockGraphSerializer.prototype._buildDialogsInfo = function(dialogs)\r\n{\r\n    var dialogsInfo = [];\r\n    dialogs.forEach(function(dialog) {\r\n        var panelState = {};\r\n        var panelContainer = dialog.panel;\r\n        panelContainer.saveState(panelState);\r\n\r\n        var panelInfo = {};\r\n        panelInfo.containerType = panelContainer.containerType;\r\n        panelInfo.state = panelState;\r\n        panelInfo.children = [];\r\n        panelInfo.position = dialog.getPosition();\r\n        panelInfo.isHidden = dialog.isHidden;\r\n        dialogsInfo.push(panelInfo);\r\n    });\r\n\r\n    return dialogsInfo;\r\n};\r\n","var EventHandler = require('../utils/EventHandler'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction SplitterBar(previousContainer, nextContainer, stackedVertical)\r\n{\r\n    // The panel to the left/top side of the bar, depending on the bar orientation\r\n    this.previousContainer = previousContainer;\r\n    // The panel to the right/bottom side of the bar, depending on the bar orientation\r\n    this.nextContainer = nextContainer;\r\n    this.stackedVertical = stackedVertical;\r\n    this.barElement = document.createElement('div');\r\n    this.barElement.classList.add(stackedVertical ? 'splitbar-horizontal' : 'splitbar-vertical');\r\n    this.mouseDownHandler = new EventHandler(this.barElement, 'mousedown', this.onMouseDown.bind(this));\r\n    this.minPanelSize = 50; // TODO: Get from container configuration\r\n    this.readyToProcessNextDrag = true;\r\n}\r\n\r\nmodule.exports = SplitterBar;\r\n\r\nSplitterBar.prototype.onMouseDown = function(e)\r\n{\r\n    this._startDragging(e);\r\n};\r\n\r\nSplitterBar.prototype.onMouseUp = function(e)\r\n{\r\n    this._stopDragging(e);\r\n};\r\n\r\nSplitterBar.prototype.onMouseMoved = function(e)\r\n{\r\n    if (!this.readyToProcessNextDrag)\r\n        return;\r\n    this.readyToProcessNextDrag = false;\r\n\r\n    var dockManager = this.previousContainer.dockManager;\r\n    dockManager.suspendLayout();\r\n    var dx = e.pageX - this.previousMouseEvent.pageX;\r\n    var dy = e.pageY - this.previousMouseEvent.pageY;\r\n    this._performDrag(dx, dy);\r\n    this.previousMouseEvent = e;\r\n    this.readyToProcessNextDrag = true;\r\n    dockManager.resumeLayout();\r\n};\r\n\r\nSplitterBar.prototype._performDrag = function(dx, dy)\r\n{\r\n    var previousWidth = this.previousContainer.containerElement.clientWidth;\r\n    var previousHeight = this.previousContainer.containerElement.clientHeight;\r\n    var nextWidth = this.nextContainer.containerElement.clientWidth;\r\n    var nextHeight = this.nextContainer.containerElement.clientHeight;\r\n\r\n    var previousPanelSize = this.stackedVertical ? previousHeight : previousWidth;\r\n    var nextPanelSize = this.stackedVertical ? nextHeight : nextWidth;\r\n    var deltaMovement = this.stackedVertical ? dy : dx;\r\n    var newPreviousPanelSize = previousPanelSize + deltaMovement;\r\n    var newNextPanelSize = nextPanelSize - deltaMovement;\r\n\r\n    if (newPreviousPanelSize < this.minPanelSize || newNextPanelSize < this.minPanelSize)\r\n    {\r\n        // One of the panels is smaller than it should be.\r\n        // In that case, check if the small panel's size is being increased\r\n        var continueProcessing = (newPreviousPanelSize < this.minPanelSize && newPreviousPanelSize > previousPanelSize) ||\r\n            (newNextPanelSize < this.minPanelSize && newNextPanelSize > nextPanelSize);\r\n\r\n        if (!continueProcessing)\r\n            return;\r\n    }\r\n\r\n    if (this.stackedVertical)\r\n    {\r\n        this.previousContainer.resize(previousWidth, newPreviousPanelSize);\r\n        this.nextContainer.resize(nextWidth, newNextPanelSize);\r\n    }\r\n    else\r\n    {\r\n        this.previousContainer.resize(newPreviousPanelSize, previousHeight);\r\n        this.nextContainer.resize(newNextPanelSize, nextHeight);\r\n    }\r\n};\r\n\r\nSplitterBar.prototype._startDragging = function(e)\r\n{\r\n    utils.disableGlobalTextSelection();\r\n    if (this.mouseMovedHandler)\r\n    {\r\n        this.mouseMovedHandler.cancel();\r\n        delete this.mouseMovedHandler;\r\n    }\r\n    if (this.mouseUpHandler)\r\n    {\r\n        this.mouseUpHandler.cancel();\r\n        delete this.mouseUpHandler;\r\n    }\r\n    this.mouseMovedHandler = new EventHandler(window, 'mousemove', this.onMouseMoved.bind(this));\r\n    this.mouseUpHandler = new EventHandler(window, 'mouseup', this.onMouseUp.bind(this));\r\n    this.previousMouseEvent = e;\r\n};\r\n\r\nSplitterBar.prototype._stopDragging = function()\r\n{\r\n    utils.enableGlobalTextSelection();\r\n    document.body.classList.remove('disable-selection');\r\n    if (this.mouseMovedHandler)\r\n    {\r\n        this.mouseMovedHandler.cancel();\r\n        delete this.mouseMovedHandler;\r\n    }\r\n    if (this.mouseUpHandler)\r\n    {\r\n        this.mouseUpHandler.cancel();\r\n        delete this.mouseUpHandler;\r\n    }\r\n};\r\n","var SplitterBar = require('./SplitterBar'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * A splitter panel manages the child containers inside it with splitter bars.\r\n * It can be stacked horizontally or vertically\r\n */\r\nfunction SplitterPanel(childContainers, stackedVertical)\r\n{\r\n    this.childContainers = childContainers;\r\n    this.stackedVertical = stackedVertical;\r\n    this.panelElement = document.createElement('div');\r\n    this.spiltterBars = [];\r\n    this._buildSplitterDOM();\r\n}\r\n\r\nmodule.exports = SplitterPanel;\r\n\r\nSplitterPanel.prototype._buildSplitterDOM = function()\r\n{\r\n    if (this.childContainers.length <= 1)\r\n        throw new Error('Splitter panel should contain atleast 2 panels');\r\n\r\n    this.spiltterBars = [];\r\n    for (var i = 0; i < this.childContainers.length - 1; i++)\r\n    {\r\n        var previousContainer = this.childContainers[i];\r\n        var nextContainer = this.childContainers[i + 1];\r\n        var splitterBar = new SplitterBar(previousContainer, nextContainer, this.stackedVertical);\r\n        this.spiltterBars.push(splitterBar);\r\n\r\n        // Add the container and split bar to the panel's base div element\r\n        this._insertContainerIntoPanel(previousContainer);\r\n        this.panelElement.appendChild(splitterBar.barElement);\r\n    }\r\n    this._insertContainerIntoPanel(this.childContainers.slice(-1)[0]);\r\n};\r\n\r\nSplitterPanel.prototype.performLayout = function(children)\r\n{\r\n    this.removeFromDOM();\r\n\r\n    // rebuild\r\n    this.childContainers = children;\r\n    this._buildSplitterDOM();\r\n};\r\n\r\nSplitterPanel.prototype.removeFromDOM = function()\r\n{\r\n    this.childContainers.forEach(function(container)\r\n    {\r\n        if (container.containerElement)\r\n        {\r\n            container.containerElement.classList.remove('splitter-container-vertical');\r\n            container.containerElement.classList.remove('splitter-container-horizontal');\r\n            utils.removeNode(container.containerElement);\r\n        }\r\n    });\r\n    this.spiltterBars.forEach(function(bar) { utils.removeNode(bar.barElement); });\r\n};\r\n\r\nSplitterPanel.prototype.destroy = function()\r\n{\r\n    this.removeFromDOM();\r\n    this.panelElement.parentNode.removeChild(this.panelElement);\r\n};\r\n\r\nSplitterPanel.prototype._insertContainerIntoPanel = function(container)\r\n{\r\n    if (!container)\r\n    {\r\n        console.log('undefined');\r\n    }\r\n\r\n    utils.removeNode(container.containerElement);\r\n    this.panelElement.appendChild(container.containerElement);\r\n    container.containerElement.classList.add(\r\n        this.stackedVertical ? 'splitter-container-vertical' : 'splitter-container-horizontal'\r\n    );\r\n};\r\n\r\n/**\r\n * Sets the percentage of space the specified [container] takes in the split panel\r\n * The percentage is specified in [ratio] and is between 0..1\r\n */\r\nSplitterPanel.prototype.setContainerRatio = function(container, ratio)\r\n{\r\n    var splitPanelSize = this.stackedVertical ? this.panelElement.clientHeight : this.panelElement.clientWidth;\r\n    var newContainerSize = splitPanelSize * ratio;\r\n    var barSize = this.stackedVertical ?\r\n        this.spiltterBars[0].barElement.clientHeight : this.spiltterBars[0].barElement.clientWidth;\r\n\r\n    var otherPanelSizeQuota = splitPanelSize - newContainerSize - barSize * this.spiltterBars.length;\r\n    var otherPanelScaleMultipler = otherPanelSizeQuota / splitPanelSize;\r\n\r\n    for (var i = 0; i < this.childContainers.length; i++)\r\n    {\r\n        var child = this.childContainers[i];\r\n        var size;\r\n        if (child !== container)\r\n        {\r\n            size = this.stackedVertical ? child.containerElement.clientHeight : child.containerElement.clientWidth;\r\n            size *= otherPanelScaleMultipler;\r\n        }\r\n        else\r\n            size = newContainerSize;\r\n\r\n        if (this.stackedVertical)\r\n            child.resize(child.width, Math.floor(size));\r\n        else\r\n            child.resize(Math.floor(size), child.height);\r\n    }\r\n};\r\n\r\nSplitterPanel.prototype.resize = function(width, height)\r\n{\r\n    if (this.childContainers.length <= 1)\r\n        return;\r\n\r\n    var i;\r\n\r\n    // Adjust the fixed dimension that is common to all (i.e. width, if stacked vertical; height, if stacked horizontally)\r\n    for (i = 0; i < this.childContainers.length; i++)\r\n    {\r\n        var childContainer = this.childContainers[i];\r\n        if (this.stackedVertical)\r\n            childContainer.resize(width, childContainer.height);\r\n        else\r\n            childContainer.resize(childContainer.width, height);\r\n\r\n        if (i < this.spiltterBars.length) {\r\n            var splitBar = this.spiltterBars[i];\r\n            if (this.stackedVertical)\r\n                splitBar.barElement.style.width = width + 'px';\r\n            else\r\n                splitBar.barElement.style.height = height + 'px';\r\n        }\r\n    }\r\n\r\n    // Adjust the varying dimension\r\n    var totalChildPanelSize = 0;\r\n    // Find out how much space existing child containers take up (excluding the splitter bars)\r\n    var self = this;\r\n    this.childContainers.forEach(function(container)\r\n    {\r\n        var size = self.stackedVertical ?\r\n            container.height :\r\n            container.width;\r\n        totalChildPanelSize += size;\r\n    });\r\n\r\n    // Get the thickness of the bar\r\n    var barSize = this.stackedVertical ?\r\n        this.spiltterBars[0].barElement.clientHeight : this.spiltterBars[0].barElement.clientWidth;\r\n\r\n    // Find out how much space existing child containers will take after being resized (excluding the splitter bars)\r\n    var targetTotalChildPanelSize = this.stackedVertical ? height : width;\r\n    targetTotalChildPanelSize -= barSize * this.spiltterBars.length;\r\n\r\n    // Get the scale multiplier\r\n    totalChildPanelSize = Math.max(totalChildPanelSize, 1);\r\n    var scaleMultiplier = targetTotalChildPanelSize / totalChildPanelSize;\r\n\r\n\r\n    // Update the size with this multiplier\r\n    var updatedTotalChildPanelSize = 0;\r\n    for (i = 0; i < this.childContainers.length; i++)\r\n    {\r\n        var child = this.childContainers[i];\r\n        var original = this.stackedVertical ?\r\n            child.containerElement.clientHeight :\r\n            child.containerElement.clientWidth;\r\n\r\n        var newSize = scaleMultiplier > 1 ? Math.floor(original * scaleMultiplier) :\r\n        Math.ceil(original * scaleMultiplier);\r\n        updatedTotalChildPanelSize += newSize;\r\n\r\n        // If this is the last node, add any extra pixels to fix the rounding off errors and match the requested size\r\n        if (i === this.childContainers.length - 1)\r\n            newSize += targetTotalChildPanelSize - updatedTotalChildPanelSize;\r\n\r\n        // Set the size of the panel\r\n        if (this.stackedVertical)\r\n            child.resize(child.width, newSize );\r\n        else\r\n            child.resize( newSize, child.height);\r\n    }\r\n\r\n    this.panelElement.style.width = width + 'px';\r\n    this.panelElement.style.height = height + 'px';\r\n};\r\n","var PanelContainer = require('../containers/PanelContainer'),\r\n    UndockInitiator = require('../utils/UndockInitiator'),\r\n    EventHandler = require('../utils/EventHandler'),\r\n    utils = require('../utils/utils');\r\n\r\n/**\r\n * A tab handle represents the tab button on the tab strip\r\n */\r\nfunction TabHandle(parent)\r\n{\r\n    this.parent = parent;\r\n    var undockHandler = TabHandle.prototype._performUndock.bind(this);\r\n    this.elementBase = document.createElement('div');\r\n    this.elementText = document.createElement('div');\r\n    this.elementCloseButton = document.createElement('div');\r\n    this.elementBase.classList.add('tab-handle');\r\n    this.elementBase.classList.add('disable-selection'); // Disable text selection\r\n    this.elementText.classList.add('tab-handle-text');\r\n    this.elementCloseButton.classList.add('tab-handle-close-button');\r\n    this.elementBase.appendChild(this.elementText);\r\n    if (this.parent.host.displayCloseButton)\r\n        this.elementBase.appendChild(this.elementCloseButton);\r\n\r\n    this.parent.host.tabListElement.appendChild(this.elementBase);\r\n\r\n    var panel = parent.container;\r\n    var title = panel.getRawTitle();\r\n    var that = this;\r\n    this.undockListener = {\r\n        onDockEnabled:function(e){ that.undockEnabled(e.state); },\r\n        onHideCloseButton: function(e){ that.hideCloseButton(e.state); }\r\n    };\r\n    this.eventListeners = [];\r\n    panel.addListener(this.undockListener);\r\n\r\n    this.elementText.innerHTML = title;\r\n\r\n    // Set the close button text (font awesome)\r\n    if (this.parent.container instanceof PanelContainer && this.parent.container.dockManager.closeTabIconTemplate) {\r\n         this.elementCloseButton.innerHTML = this.parent.container.dockManager.closeTabIconTemplate();\r\n    }\r\n    else {\r\n        this.elementCloseButton.innerHTML = '<i class=\"fa fa-times\"></i>';\r\n    }\r\n\r\n    this._bringToFront(this.elementBase);\r\n\r\n    this.undockInitiator = new UndockInitiator(this.elementBase, undockHandler);\r\n    this.undockInitiator.enabled = true;\r\n    this.mouseClickHandler = new EventHandler(this.elementBase, 'click', this.onMouseClicked.bind(this));\r\n    this.mouseDownHandler = new EventHandler(this.elementBase, 'mousedown', this.onMouseDown.bind(this));\r\n    this.closeButtonHandler = new EventHandler(this.elementCloseButton, 'mousedown', this.onCloseButtonClicked.bind(this));\r\n\r\n    this.moveThreshold = 10;\r\n    this.zIndexCounter = 100;\r\n}\r\n\r\nmodule.exports = TabHandle;\r\n\r\nTabHandle.prototype.addListener = function(listener){\r\n    this.eventListeners.push(listener);\r\n};\r\n\r\nTabHandle.prototype.removeListener = function(listener)\r\n{\r\n    this.eventListeners.splice(this.eventListeners.indexOf(listener), 1);\r\n};\r\n\r\nTabHandle.prototype.undockEnabled = function(state)\r\n{\r\n      this.undockInitiator.enabled = state;\r\n};\r\n\r\nTabHandle.prototype.onMouseDown = function(e)\r\n{\r\n    if(this.undockInitiator.enabled)\r\n        this.undockInitiator.setThresholdPixels(40, false);\r\n    if (this.mouseMoveHandler)\r\n    {\r\n        this.mouseMoveHandler.cancel();\r\n        delete this.mouseMoveHandler;\r\n    }\r\n    if (this.mouseUpHandler)\r\n    {\r\n        this.mouseUpHandler.cancel();\r\n        delete this.mouseUpHandler;\r\n    }\r\n    this.stargDragPosition = e.clientX;\r\n    this.mouseMoveHandler = new EventHandler(this.elementBase, 'mousemove', this.onMouseMove.bind(this));\r\n    this.mouseUpHandler = new EventHandler(window, 'mouseup', this.onMouseUp.bind(this));\r\n};\r\n\r\nTabHandle.prototype.onMouseUp = function()\r\n{\r\n    if(this.undockInitiator.enabled)\r\n        this.undockInitiator.setThresholdPixels(10, true);\r\n    if(this.elementBase){\r\n         this.elementBase.classList.remove('tab-handle-dragged');\r\n    }\r\n    this.dragged = false;\r\n    this.mouseMoveHandler.cancel();\r\n    this.mouseUpHandler.cancel();\r\n    delete this.mouseMoveHandler;\r\n    delete this.mouseUpHandler;\r\n\r\n};\r\n\r\nTabHandle.prototype.generateMoveTabEvent = function(event, pos) {\r\n    var contain = pos > event.rect.left && pos < event.rect.right;\r\n    var m = Math.abs(event.bound - pos);\r\n    if(m < this.moveThreshold && contain)\r\n        this.moveTabEvent(this, event.state);\r\n};\r\n\r\nTabHandle.prototype.moveTabEvent = function(that, state){\r\n    that.eventListeners.forEach(function(listener) {\r\n        if (listener.onMoveTab) {\r\n            listener.onMoveTab({self: that, state: state});\r\n        }\r\n    });\r\n\r\n};\r\n\r\nTabHandle.prototype.onMouseMove = function(e)\r\n{\r\n    if(Math.abs(this.stargDragPosition  -  e.clientX) < 10)\r\n        return;\r\n    this.elementBase.classList.add('tab-handle-dragged');\r\n   this.dragged = true;\r\n   this.prev = this.current;\r\n   this.current = e.clientX;\r\n   this.direction =  this.current - this.prev;\r\n   var tabRect = this.elementBase.getBoundingClientRect();\r\n   var event = this.direction < 0 ? {state: 'left', bound: tabRect.left, rect:tabRect} :\r\n    {state: 'right', bound: tabRect.right, rect:tabRect};\r\n   if(this.direction !== 0) this.generateMoveTabEvent(event, this.current);\r\n};\r\n\r\nTabHandle.prototype.hideCloseButton = function(state)\r\n{\r\n    this.elementCloseButton.style.display = state ? 'none' : 'block';\r\n};\r\n\r\nTabHandle.prototype.updateTitle = function()\r\n{\r\n    if (this.parent.container instanceof PanelContainer)\r\n    {\r\n        var panel = this.parent.container;\r\n        var title = panel.getRawTitle();\r\n        this.elementText.innerHTML = title;\r\n    }\r\n};\r\n\r\nTabHandle.prototype.destroy = function()\r\n{\r\n    var panel = this.parent.container;\r\n    panel.removeListener(this.undockListener);\r\n\r\n    this.mouseClickHandler.cancel();\r\n    this.mouseDownHandler.cancel();\r\n    this.closeButtonHandler.cancel();\r\n\r\n    if (this.mouseUpHandler) {\r\n        this.mouseUpHandler.cancel();\r\n    }\r\n\r\n    utils.removeNode(this.elementBase);\r\n    utils.removeNode(this.elementCloseButton);\r\n    delete this.elementBase;\r\n    delete this.elementCloseButton;\r\n};\r\n\r\nTabHandle.prototype._performUndock = function(e, dragOffset)\r\n{\r\n    if (this.parent.container.containerType === 'panel')\r\n    {\r\n        this.undockInitiator.enabled = false;\r\n        var panel = this.parent.container;\r\n        return panel.performUndockToDialog(e, dragOffset);\r\n    }\r\n    else\r\n        return null;\r\n};\r\n\r\nTabHandle.prototype.onMouseClicked = function()\r\n{\r\n    this.parent.onSelected();\r\n};\r\n\r\nTabHandle.prototype.onCloseButtonClicked = function()\r\n{\r\n    // If the page contains a panel element, undock it and destroy it\r\n    if (this.parent.container.containerType === 'panel')\r\n    {\r\n        this.parent.container.close();\r\n        // this.undockInitiator.enabled = false;\r\n        // var panel = this.parent.container;\r\n        // panel.performUndock();\r\n    }\r\n};\r\n\r\nTabHandle.prototype.setSelected = function(selected)\r\n{\r\n    var selectedClassName = 'tab-handle-selected';\r\n    if (selected)\r\n        this.elementBase.classList.add(selectedClassName);\r\n    else\r\n        this.elementBase.classList.remove(selectedClassName);\r\n};\r\n\r\nTabHandle.prototype.setZIndex = function(zIndex)\r\n{\r\n    this.elementBase.style.zIndex = zIndex;\r\n};\r\n\r\nTabHandle.prototype._bringToFront = function(element)\r\n{\r\n    element.style.zIndex = this.zIndexCounter;\r\n    this.zIndexCounter++;\r\n};\r\n","var TabPage = require('./TabPage');\r\n\r\n/**\r\n * Tab Host control contains tabs known as TabPages.\r\n * The tab strip can be aligned in different orientations\r\n */\r\nfunction TabHost(tabStripDirection, displayCloseButton)\r\n{\r\n    /**\r\n     * Create a tab host with the tab strip aligned in the [tabStripDirection] direciton\r\n     * Only TabHost.DIRECTION_BOTTOM and TabHost.DIRECTION_TOP are supported\r\n     */\r\n    if (tabStripDirection === undefined) {\r\n        tabStripDirection = TabHost.DIRECTION_BOTTOM;\r\n    }\r\n\r\n    if (displayCloseButton === undefined) {\r\n        displayCloseButton = false;\r\n    }\r\n\r\n    this.tabStripDirection = tabStripDirection;\r\n    this.displayCloseButton = displayCloseButton; // Indicates if the close button next to the tab handle should be displayed\r\n    this.pages = [];\r\n    var that = this;\r\n     that.eventListeners = [];\r\n    this.tabHandleListener = {\r\n        onMoveTab :function(e){ that.onMoveTab(e); }\r\n    };\r\n    this.hostElement = document.createElement('div');       // The main tab host DOM element\r\n    this.tabListElement = document.createElement('div');    // Hosts the tab handles\r\n    this.separatorElement = document.createElement('div');  // A seperator line between the tabs and content\r\n    this.contentElement = document.createElement('div');    // Hosts the active tab content\r\n    this.createTabPage = this._createDefaultTabPage;        // Factory for creating tab pages\r\n\r\n    if (this.tabStripDirection === TabHost.DIRECTION_BOTTOM)\r\n    {\r\n        this.hostElement.appendChild(this.contentElement);\r\n        this.hostElement.appendChild(this.separatorElement);\r\n        this.hostElement.appendChild(this.tabListElement);\r\n    }\r\n    else if (this.tabStripDirection === TabHost.DIRECTION_TOP)\r\n    {\r\n        this.hostElement.appendChild(this.tabListElement);\r\n        this.hostElement.appendChild(this.separatorElement);\r\n        this.hostElement.appendChild(this.contentElement);\r\n    }\r\n    else {\r\n        throw new Error('Only top and bottom tab strip orientations are supported');\r\n    }\r\n\r\n    this.hostElement.classList.add('tab-host');\r\n    this.tabListElement.classList.add('tab-handle-list-container');\r\n    this.separatorElement.classList.add('tab-handle-content-seperator');\r\n    this.contentElement.classList.add('tab-content');\r\n}\r\n\r\nmodule.exports = TabHost;\r\n\r\n// constants\r\nTabHost.DIRECTION_TOP = 0;\r\nTabHost.DIRECTION_BOTTOM = 1;\r\nTabHost.DIRECTION_LEFT = 2;\r\nTabHost.DIRECTION_RIGHT = 3;\r\n\r\nTabHost.prototype.onMoveTab = function(e){\r\n    // this.tabListElement;\r\n    var index =  Array.prototype.slice.call(this.tabListElement.childNodes).indexOf(e.self.elementBase);\r\n\r\n    this.change(/*host*/this, /*handle*/e.self, e.state, index);\r\n};\r\n\r\nTabHost.prototype.performTabsLayout = function(indexes){\r\n    this.pages = this.pages.orderByIndexes(indexes);\r\n\r\n    var items = this.tabListElement.childNodes;\r\n    var itemsArr = [];\r\n    for (var i in items) {\r\n        if (items[i].nodeType === 1) { // get rid of the whitespace text nodes\r\n            itemsArr.push(items[i]);\r\n        }\r\n    }\r\n    itemsArr = itemsArr.orderByIndexes(indexes);\r\n    for (i = 0; i < itemsArr.length; ++i) {\r\n        this.tabListElement.appendChild(itemsArr[i]);\r\n    }\r\n\r\n    if (this.activeTab)\r\n        this.onTabPageSelected(this.activeTab);\r\n};\r\n\r\nTabHost.prototype.addListener = function(listener){\r\n    this.eventListeners.push(listener);\r\n};\r\n\r\nTabHost.prototype.removeListener = function(listener)\r\n{\r\n    this.eventListeners.splice(this.eventListeners.indexOf(listener), 1);\r\n};\r\n\r\nTabHost.prototype.change = function(host, handle, state, index){\r\n    this.eventListeners.forEach(function(listener) {\r\n        if (listener.onChange) {\r\n            listener.onChange({host: host, handle: handle, state: state, index: index});\r\n        }\r\n    });\r\n};\r\n\r\nTabHost.prototype._createDefaultTabPage = function(tabHost, container)\r\n{\r\n    return new TabPage(tabHost, container);\r\n};\r\n\r\nTabHost.prototype.setActiveTab = function(/*container*/)\r\n{\r\n    if (this.pages.length > 0) {\r\n        this.onTabPageSelected(this.pages[0]);\r\n    }\r\n};\r\n\r\nTabHost.prototype.resize = function(width, height)\r\n{\r\n    this.hostElement.style.width = width + 'px';\r\n    this.hostElement.style.height = height + 'px';\r\n\r\n    var tabHeight = this.tabListElement.clientHeight;\r\n    if (this.timeoutPerform) //lazy check\r\n        clearTimeout(this.timeoutPerform);\r\n    var self = this;\r\n    this.timeoutPerform = setTimeout(function () {\r\n        self.resizeTabListElement(width, height);\r\n    }, 100);\r\n    var separatorHeight = this.separatorElement.clientHeight;\r\n    var contentHeight = height - tabHeight - separatorHeight;\r\n    this.contentElement.style.height = contentHeight + 'px';\r\n\r\n    if (this.activeTab)\r\n        this.activeTab.resize(width, contentHeight);\r\n};\r\n\r\nTabHost.prototype.resizeTabListElement = function(width/*, height*/) {\r\n    if(this.pages.length === 0) return;\r\n    var tabListWidth = 0;\r\n    this.pages.forEach(function(page){\r\n        var handle = page.handle;\r\n        handle.elementBase.style.width = ''; //clear\r\n        handle.elementText.style.width = '';\r\n        tabListWidth += handle.elementBase.clientWidth;\r\n    });\r\n    var scaleMultiplier = width / tabListWidth;\r\n    if(scaleMultiplier > 1.2) return; //with a reserve\r\n    var self = this;\r\n    this.pages.forEach(function(page, index){\r\n        var handle = page.handle;\r\n         var newSize = scaleMultiplier * handle.elementBase.clientWidth;\r\n         if(index === self.pages.length - 1)\r\n            newSize = newSize - 5;\r\n         handle.elementBase.style.width = newSize + 'px';\r\n         if(self.tabStripDirection === TabHost.DIRECTION_TOP){\r\n             handle.elementText.style.width = newSize - handle.elementCloseButton.clientWidth - 16 + 'px';\r\n         }\r\n    });\r\n};\r\n\r\nTabHost.prototype.performLayout = function(children)\r\n{\r\n    // Destroy all existing tab pages\r\n    this.pages.forEach(function(tab)\r\n    {\r\n        tab.handle.removeListener(this.tabHandleListener);\r\n        tab.destroy();\r\n    });\r\n    this.pages.length = 0;\r\n\r\n    var oldActiveTab = this.activeTab;\r\n    delete this.activeTab;\r\n\r\n    var childPanels = children.filter(function(child)\r\n    {\r\n        return child.containerType === 'panel';\r\n    });\r\n\r\n    if (childPanels.length > 0)\r\n    {\r\n        // Rebuild new tab pages\r\n        var self = this;\r\n        childPanels.forEach(function(child)\r\n        {\r\n            var page = self.createTabPage(self, child);\r\n            page.handle.addListener(self.tabHandleListener);\r\n            self.pages.push(page);\r\n\r\n            // Restore the active selected tab\r\n            if (oldActiveTab && page.container === oldActiveTab.container)\r\n                self.activeTab = page;\r\n        });\r\n        this._setTabHandlesVisible(true);\r\n    }\r\n    else\r\n        // Do not show an empty tab handle host with zero tabs\r\n        this._setTabHandlesVisible(false);\r\n\r\n    if (this.activeTab)\r\n        this.onTabPageSelected(this.activeTab);\r\n};\r\n\r\nTabHost.prototype._setTabHandlesVisible = function(visible)\r\n{\r\n    this.tabListElement.style.display = visible ? 'block' : 'none';\r\n    this.separatorElement.style.display = visible ? 'block' : 'none';\r\n};\r\n\r\nTabHost.prototype.onTabPageSelected = function(page)\r\n{\r\n    this.activeTab = page;\r\n    this.pages.forEach(function(tabPage)\r\n    {\r\n        var selected = (tabPage === page);\r\n        tabPage.setSelected(selected);\r\n    });\r\n\r\n    // adjust the zIndex of the tabs to have proper shadow/depth effect\r\n    var zIndexDelta = 1;\r\n    var zIndex = 100;\r\n    this.pages.forEach(function(tabPage)\r\n    {\r\n        tabPage.handle.setZIndex(zIndex);\r\n        var selected = (tabPage === page);\r\n        if (selected)\r\n            zIndexDelta = -1;\r\n        zIndex += zIndexDelta;\r\n    });\r\n\r\n};\r\n","var TabHandle = require('./TabHandle'),\r\n    PanelContainer = require('../containers/PanelContainer'),\r\n    utils = require('../utils/utils');\r\n\r\nfunction TabPage(host, container)\r\n{\r\n    if (arguments.length === 0) {\r\n        return;\r\n    }\r\n\r\n    this.selected = false;\r\n    this.host = host;\r\n    this.container = container;\r\n\r\n    this.handle = new TabHandle(this);\r\n    this.containerElement = container.containerElement;\r\n\r\n    if (container instanceof PanelContainer)\r\n    {\r\n        var panel = container;\r\n        panel.onTitleChanged = this.onTitleChanged.bind(this);\r\n    }\r\n}\r\n\r\nmodule.exports = TabPage;\r\n\r\nTabPage.prototype.onTitleChanged = function(/*sender, title*/)\r\n{\r\n    this.handle.updateTitle();\r\n};\r\n\r\nTabPage.prototype.destroy = function()\r\n{\r\n    this.handle.destroy();\r\n\r\n    if (this.container instanceof PanelContainer)\r\n    {\r\n        var panel = this.container;\r\n        delete panel.onTitleChanged;\r\n    }\r\n};\r\n\r\nTabPage.prototype.onSelected = function()\r\n{\r\n    if (this.container instanceof PanelContainer)\r\n    {\r\n        var panel = this.container;\r\n\t\tif(typeof panel.onClickHandler !== 'undefined' && panel.onClickHandler !== null) {\r\n\t\t\tpanel.onClickHandler();\r\n\t\t}\r\n\t\t\r\n\t\tif(!panel.canSelect) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.host.onTabPageSelected(this);\r\n\t\t\tpanel.dockManager.notifyOnTabChange(this);\r\n\t\t}\r\n    }\r\n};\r\n\r\nTabPage.prototype.setSelected = function(flag)\r\n{\r\n    this.selected = flag;\r\n    this.handle.setSelected(flag);\r\n\r\n    if (!this._initContent)\r\n        this.host.contentElement.appendChild(this.containerElement);\r\n    this._initContent = true;\r\n    if (this.selected)\r\n    {\r\n        this.containerElement.style.display = 'block';\r\n        // force a resize again\r\n        var width = this.host.contentElement.clientWidth;\r\n        var height = this.host.contentElement.clientHeight;\r\n        this.container.resize(width, height);\r\n    }\r\n    else {\r\n        this.containerElement.style.display = 'none';\r\n    }\r\n};\r\n\r\nTabPage.prototype.resize = function(width, height)\r\n{\r\n    this.container.resize(width, height);\r\n};\r\n","function EventHandler(source, eventName, target) {\r\n    // wrap the target\r\n    this.target = target;\r\n    this.eventName = eventName;\r\n    this.source = source;\r\n\r\n    this.source.addEventListener(eventName, this.target);\r\n}\r\n\r\nmodule.exports = EventHandler;\r\n\r\nEventHandler.prototype.cancel = function() {\r\n    this.source.removeEventListener(this.eventName, this.target);\r\n};\r\n","function Point(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n}\r\n\r\nmodule.exports = Point;\r\n","function Rectangle(x, y, width, height) {\r\n    this.x = x || 0;\r\n    this.y = y || 0;\r\n    this.width = width || 0;\r\n    this.height = height || 0;\r\n}\r\n\r\nmodule.exports = Rectangle;\r\n","var EventHandler = require('./EventHandler'),\r\n    Point = require('./Point');\r\n\r\n/**\r\n * Listens for events on the [element] and notifies the [listener]\r\n * if an undock event has been invoked.  An undock event is invoked\r\n * when the user clicks on the event and drags is beyond the\r\n * specified [thresholdPixels]\r\n */\r\nfunction UndockInitiator(element, listener, thresholdPixels) {\r\n    if (!thresholdPixels) {\r\n        thresholdPixels = 10;\r\n    }\r\n\r\n    this.element = element;\r\n    this.listener = listener;\r\n    this.thresholdPixels = thresholdPixels;\r\n    this._enabled = false;\r\n    this.horizontalChange = true;\r\n}\r\n\r\nmodule.exports = UndockInitiator;\r\n\r\nObject.defineProperty(UndockInitiator.prototype, 'enabled', {\r\n    get: function() {\r\n        return this._enabled;\r\n    },\r\n    set: function(value) {\r\n        this._enabled = value;\r\n        if (this._enabled) {\r\n            if (this.mouseDownHandler) {\r\n                this.mouseDownHandler.cancel();\r\n                delete this.mouseDownHandler;\r\n            }\r\n\r\n            this.mouseDownHandler = new EventHandler(this.element, 'mousedown', this.onMouseDown.bind(this));\r\n        }\r\n        else {\r\n            if (this.mouseDownHandler) {\r\n                this.mouseDownHandler.cancel();\r\n                delete this.mouseDownHandler;\r\n            }\r\n\r\n            if (this.mouseUpHandler) {\r\n                this.mouseUpHandler.cancel();\r\n                delete this.mouseUpHandler;\r\n            }\r\n\r\n            if (this.mouseMoveHandler) {\r\n                this.mouseMoveHandler.cancel();\r\n                delete this.mouseMoveHandler;\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nUndockInitiator.prototype.setThresholdPixels = function (thresholdPixels, horizontalChange){\r\n     this.horizontalChange = horizontalChange;\r\n     this.thresholdPixels = thresholdPixels;\r\n};\r\n\r\nUndockInitiator.prototype.onMouseDown = function (e) {\r\n    // Make sure we dont do this on floating dialogs\r\n    if (this.enabled) {\r\n        if (this.mouseUpHandler) {\r\n            this.mouseUpHandler.cancel();\r\n            delete this.mouseUpHandler;\r\n        }\r\n\r\n        if (this.mouseMoveHandler) {\r\n            this.mouseMoveHandler.cancel();\r\n            delete this.mouseMoveHandler;\r\n        }\r\n\r\n        this.mouseUpHandler = new EventHandler(window, 'mouseup', this.onMouseUp.bind(this));\r\n        this.mouseMoveHandler = new EventHandler(window, 'mousemove', this.onMouseMove.bind(this));\r\n        this.dragStartPosition = new Point(e.pageX, e.pageY);\r\n    }\r\n};\r\n\r\nUndockInitiator.prototype.onMouseUp = function () {\r\n    if (this.mouseUpHandler) {\r\n        this.mouseUpHandler.cancel();\r\n        delete this.mouseUpHandler;\r\n    }\r\n\r\n    if (this.mouseMoveHandler) {\r\n        this.mouseMoveHandler.cancel();\r\n        delete this.mouseMoveHandler;\r\n    }\r\n};\r\n\r\nUndockInitiator.prototype.onMouseMove = function (e) {\r\n    var position = new Point(e.pageX, e.pageY);\r\n    var dx = this.horizontalChange ? position.x - this.dragStartPosition.x : 10;\r\n    var dy = position.y - this.dragStartPosition.y;\r\n    var distance = Math.sqrt(dx * dx + dy * dy);\r\n\r\n    if (distance > this.thresholdPixels) {\r\n        this.enabled = false;\r\n        this._requestUndock(e);\r\n    }\r\n};\r\n\r\nUndockInitiator.prototype._requestUndock = function (e) {\r\n    var dragOffsetX = this.dragStartPosition.x - this.element.offsetLeft;\r\n    var dragOffsetY = this.dragStartPosition.y - this.element.offsetTop;\r\n    var dragOffset = new Point(dragOffsetX, dragOffsetY);\r\n    this.listener(e, dragOffset);\r\n};\r\n","var counter = 0;\r\n\r\nmodule.exports = {\r\n    getPixels: function (pixels) {\r\n        if (pixels === null) {\r\n            return 0;\r\n        }\r\n\r\n        return parseInt(pixels.replace('px', ''));\r\n    },\r\n\r\n    disableGlobalTextSelection: function () {\r\n        document.body.classList.add('disable-selection');\r\n    },\r\n\r\n    enableGlobalTextSelection: function () {\r\n        document.body.classList.remove('disable-selection');\r\n    },\r\n\r\n    isPointInsideNode: function (px, py, node) {\r\n        var element = node.container.containerElement;\r\n\r\n        return (\r\n            px >= element.offsetLeft &&\r\n            px <= element.offsetLeft + element.clientWidth &&\r\n            py >= element.offsetTop &&\r\n            py <= element.offsetTop + element.clientHeight\r\n        );\r\n    },\r\n\r\n    getNextId: function (prefix) {\r\n        return prefix + counter++;\r\n    },\r\n\r\n    removeNode: function (node) {\r\n        if (node.parentNode === null) {\r\n            return false;\r\n        }\r\n\r\n        node.parentNode.removeChild(node);\r\n\r\n        return true;\r\n    }\r\n};\r\n"],"sourceRoot":"/source/"}